(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function Oo(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var _f={exports:{}},Za={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qy;function IT(){if(Qy)return Za;Qy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var h in o)h!=="key"&&(c[h]=o[h])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return Za.Fragment=e,Za.jsx=n,Za.jsxs=n,Za}var Xy;function kT(){return Xy||(Xy=1,_f.exports=IT()),_f.exports}var p=kT(),bf={exports:{}},Ie={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zy;function jT(){if(Zy)return Ie;Zy=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),b=Symbol.iterator;function E(C){return C===null||typeof C!="object"?null:(C=b&&C[b]||C["@@iterator"],typeof C=="function"?C:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,P={};function N(C,G,B){this.props=C,this.context=G,this.refs=P,this.updater=B||w}N.prototype.isReactComponent={},N.prototype.setState=function(C,G){if(typeof C!="object"&&typeof C!="function"&&C!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,C,G,"setState")},N.prototype.forceUpdate=function(C){this.updater.enqueueForceUpdate(this,C,"forceUpdate")};function H(){}H.prototype=N.prototype;function z(C,G,B){this.props=C,this.context=G,this.refs=P,this.updater=B||w}var X=z.prototype=new H;X.constructor=z,T(X,N.prototype),X.isPureReactComponent=!0;var Z=Array.isArray,W={H:null,A:null,T:null,S:null,V:null},re=Object.prototype.hasOwnProperty;function ce(C,G,B,F,ee,ve){return B=ve.ref,{$$typeof:i,type:C,key:G,ref:B!==void 0?B:null,props:ve}}function se(C,G){return ce(C.type,G,void 0,void 0,void 0,C.props)}function ue(C){return typeof C=="object"&&C!==null&&C.$$typeof===i}function xe(C){var G={"=":"=0",":":"=2"};return"$"+C.replace(/[=:]/g,function(B){return G[B]})}var Ee=/\/+/g;function pe(C,G){return typeof C=="object"&&C!==null&&C.key!=null?xe(""+C.key):G.toString(36)}function Ne(){}function Ke(C){switch(C.status){case"fulfilled":return C.value;case"rejected":throw C.reason;default:switch(typeof C.status=="string"?C.then(Ne,Ne):(C.status="pending",C.then(function(G){C.status==="pending"&&(C.status="fulfilled",C.value=G)},function(G){C.status==="pending"&&(C.status="rejected",C.reason=G)})),C.status){case"fulfilled":return C.value;case"rejected":throw C.reason}}throw C}function Be(C,G,B,F,ee){var ve=typeof C;(ve==="undefined"||ve==="boolean")&&(C=null);var le=!1;if(C===null)le=!0;else switch(ve){case"bigint":case"string":case"number":le=!0;break;case"object":switch(C.$$typeof){case i:case e:le=!0;break;case _:return le=C._init,Be(le(C._payload),G,B,F,ee)}}if(le)return ee=ee(C),le=F===""?"."+pe(C,0):F,Z(ee)?(B="",le!=null&&(B=le.replace(Ee,"$&/")+"/"),Be(ee,G,B,"",function(oe){return oe})):ee!=null&&(ue(ee)&&(ee=se(ee,B+(ee.key==null||C&&C.key===ee.key?"":(""+ee.key).replace(Ee,"$&/")+"/")+le)),G.push(ee)),1;le=0;var J=F===""?".":F+":";if(Z(C))for(var k=0;k<C.length;k++)F=C[k],ve=J+pe(F,k),le+=Be(F,G,B,ve,ee);else if(k=E(C),typeof k=="function")for(C=k.call(C),k=0;!(F=C.next()).done;)F=F.value,ve=J+pe(F,k++),le+=Be(F,G,B,ve,ee);else if(ve==="object"){if(typeof C.then=="function")return Be(Ke(C),G,B,F,ee);throw G=String(C),Error("Objects are not valid as a React child (found: "+(G==="[object Object]"?"object with keys {"+Object.keys(C).join(", ")+"}":G)+"). If you meant to render a collection of children, use an array instead.")}return le}function L(C,G,B){if(C==null)return C;var F=[],ee=0;return Be(C,F,"","",function(ve){return G.call(B,ve,ee++)}),F}function ie(C){if(C._status===-1){var G=C._result;G=G(),G.then(function(B){(C._status===0||C._status===-1)&&(C._status=1,C._result=B)},function(B){(C._status===0||C._status===-1)&&(C._status=2,C._result=B)}),C._status===-1&&(C._status=0,C._result=G)}if(C._status===1)return C._result.default;throw C._result}var fe=typeof reportError=="function"?reportError:function(C){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var G=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof C=="object"&&C!==null&&typeof C.message=="string"?String(C.message):String(C),error:C});if(!window.dispatchEvent(G))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",C);return}console.error(C)};function Ce(){}return Ie.Children={map:L,forEach:function(C,G,B){L(C,function(){G.apply(this,arguments)},B)},count:function(C){var G=0;return L(C,function(){G++}),G},toArray:function(C){return L(C,function(G){return G})||[]},only:function(C){if(!ue(C))throw Error("React.Children.only expected to receive a single React element child.");return C}},Ie.Component=N,Ie.Fragment=n,Ie.Profiler=o,Ie.PureComponent=z,Ie.StrictMode=r,Ie.Suspense=g,Ie.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=W,Ie.__COMPILER_RUNTIME={__proto__:null,c:function(C){return W.H.useMemoCache(C)}},Ie.cache=function(C){return function(){return C.apply(null,arguments)}},Ie.cloneElement=function(C,G,B){if(C==null)throw Error("The argument must be a React element, but you passed "+C+".");var F=T({},C.props),ee=C.key,ve=void 0;if(G!=null)for(le in G.ref!==void 0&&(ve=void 0),G.key!==void 0&&(ee=""+G.key),G)!re.call(G,le)||le==="key"||le==="__self"||le==="__source"||le==="ref"&&G.ref===void 0||(F[le]=G[le]);var le=arguments.length-2;if(le===1)F.children=B;else if(1<le){for(var J=Array(le),k=0;k<le;k++)J[k]=arguments[k+2];F.children=J}return ce(C.type,ee,void 0,void 0,ve,F)},Ie.createContext=function(C){return C={$$typeof:d,_currentValue:C,_currentValue2:C,_threadCount:0,Provider:null,Consumer:null},C.Provider=C,C.Consumer={$$typeof:c,_context:C},C},Ie.createElement=function(C,G,B){var F,ee={},ve=null;if(G!=null)for(F in G.key!==void 0&&(ve=""+G.key),G)re.call(G,F)&&F!=="key"&&F!=="__self"&&F!=="__source"&&(ee[F]=G[F]);var le=arguments.length-2;if(le===1)ee.children=B;else if(1<le){for(var J=Array(le),k=0;k<le;k++)J[k]=arguments[k+2];ee.children=J}if(C&&C.defaultProps)for(F in le=C.defaultProps,le)ee[F]===void 0&&(ee[F]=le[F]);return ce(C,ve,void 0,void 0,null,ee)},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(C){return{$$typeof:h,render:C}},Ie.isValidElement=ue,Ie.lazy=function(C){return{$$typeof:_,_payload:{_status:-1,_result:C},_init:ie}},Ie.memo=function(C,G){return{$$typeof:m,type:C,compare:G===void 0?null:G}},Ie.startTransition=function(C){var G=W.T,B={};W.T=B;try{var F=C(),ee=W.S;ee!==null&&ee(B,F),typeof F=="object"&&F!==null&&typeof F.then=="function"&&F.then(Ce,fe)}catch(ve){fe(ve)}finally{W.T=G}},Ie.unstable_useCacheRefresh=function(){return W.H.useCacheRefresh()},Ie.use=function(C){return W.H.use(C)},Ie.useActionState=function(C,G,B){return W.H.useActionState(C,G,B)},Ie.useCallback=function(C,G){return W.H.useCallback(C,G)},Ie.useContext=function(C){return W.H.useContext(C)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(C,G){return W.H.useDeferredValue(C,G)},Ie.useEffect=function(C,G,B){var F=W.H;if(typeof B=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return F.useEffect(C,G)},Ie.useId=function(){return W.H.useId()},Ie.useImperativeHandle=function(C,G,B){return W.H.useImperativeHandle(C,G,B)},Ie.useInsertionEffect=function(C,G){return W.H.useInsertionEffect(C,G)},Ie.useLayoutEffect=function(C,G){return W.H.useLayoutEffect(C,G)},Ie.useMemo=function(C,G){return W.H.useMemo(C,G)},Ie.useOptimistic=function(C,G){return W.H.useOptimistic(C,G)},Ie.useReducer=function(C,G,B){return W.H.useReducer(C,G,B)},Ie.useRef=function(C){return W.H.useRef(C)},Ie.useState=function(C){return W.H.useState(C)},Ie.useSyncExternalStore=function(C,G,B){return W.H.useSyncExternalStore(C,G,B)},Ie.useTransition=function(){return W.H.useTransition()},Ie.version="19.1.0",Ie}var Jy;function Xh(){return Jy||(Jy=1,bf.exports=jT()),bf.exports}var A=Xh();const Q=Oo(A);var Ef={exports:{}},Ja={},Sf={exports:{}},Cf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function MT(){return e_||(e_=1,function(i){function e(L,ie){var fe=L.length;L.push(ie);e:for(;0<fe;){var Ce=fe-1>>>1,C=L[Ce];if(0<o(C,ie))L[Ce]=ie,L[fe]=C,fe=Ce;else break e}}function n(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var ie=L[0],fe=L.pop();if(fe!==ie){L[0]=fe;e:for(var Ce=0,C=L.length,G=C>>>1;Ce<G;){var B=2*(Ce+1)-1,F=L[B],ee=B+1,ve=L[ee];if(0>o(F,fe))ee<C&&0>o(ve,F)?(L[Ce]=ve,L[ee]=fe,Ce=ee):(L[Ce]=F,L[B]=fe,Ce=B);else if(ee<C&&0>o(ve,fe))L[Ce]=ve,L[ee]=fe,Ce=ee;else break e}}return ie}function o(L,ie){var fe=L.sortIndex-ie.sortIndex;return fe!==0?fe:L.id-ie.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();i.unstable_now=function(){return d.now()-h}}var g=[],m=[],_=1,b=null,E=3,w=!1,T=!1,P=!1,N=!1,H=typeof setTimeout=="function"?setTimeout:null,z=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function Z(L){for(var ie=n(m);ie!==null;){if(ie.callback===null)r(m);else if(ie.startTime<=L)r(m),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(m)}}function W(L){if(P=!1,Z(L),!T)if(n(g)!==null)T=!0,re||(re=!0,pe());else{var ie=n(m);ie!==null&&Be(W,ie.startTime-L)}}var re=!1,ce=-1,se=5,ue=-1;function xe(){return N?!0:!(i.unstable_now()-ue<se)}function Ee(){if(N=!1,re){var L=i.unstable_now();ue=L;var ie=!0;try{e:{T=!1,P&&(P=!1,z(ce),ce=-1),w=!0;var fe=E;try{t:{for(Z(L),b=n(g);b!==null&&!(b.expirationTime>L&&xe());){var Ce=b.callback;if(typeof Ce=="function"){b.callback=null,E=b.priorityLevel;var C=Ce(b.expirationTime<=L);if(L=i.unstable_now(),typeof C=="function"){b.callback=C,Z(L),ie=!0;break t}b===n(g)&&r(g),Z(L)}else r(g);b=n(g)}if(b!==null)ie=!0;else{var G=n(m);G!==null&&Be(W,G.startTime-L),ie=!1}}break e}finally{b=null,E=fe,w=!1}ie=void 0}}finally{ie?pe():re=!1}}}var pe;if(typeof X=="function")pe=function(){X(Ee)};else if(typeof MessageChannel<"u"){var Ne=new MessageChannel,Ke=Ne.port2;Ne.port1.onmessage=Ee,pe=function(){Ke.postMessage(null)}}else pe=function(){H(Ee,0)};function Be(L,ie){ce=H(function(){L(i.unstable_now())},ie)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return E},i.unstable_next=function(L){switch(E){case 1:case 2:case 3:var ie=3;break;default:ie=E}var fe=E;E=ie;try{return L()}finally{E=fe}},i.unstable_requestPaint=function(){N=!0},i.unstable_runWithPriority=function(L,ie){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var fe=E;E=L;try{return ie()}finally{E=fe}},i.unstable_scheduleCallback=function(L,ie,fe){var Ce=i.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ce+fe:Ce):fe=Ce,L){case 1:var C=-1;break;case 2:C=250;break;case 5:C=1073741823;break;case 4:C=1e4;break;default:C=5e3}return C=fe+C,L={id:_++,callback:ie,priorityLevel:L,startTime:fe,expirationTime:C,sortIndex:-1},fe>Ce?(L.sortIndex=fe,e(m,L),n(g)===null&&L===n(m)&&(P?(z(ce),ce=-1):P=!0,Be(W,fe-Ce))):(L.sortIndex=C,e(g,L),T||w||(T=!0,re||(re=!0,pe()))),L},i.unstable_shouldYield=xe,i.unstable_wrapCallback=function(L){var ie=E;return function(){var fe=E;E=ie;try{return L.apply(this,arguments)}finally{E=fe}}}}(Cf)),Cf}var t_;function LT(){return t_||(t_=1,Sf.exports=MT()),Sf.exports}var Tf={exports:{}},Bt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function PT(){if(n_)return Bt;n_=1;var i=Xh();function e(g){var m="https://react.dev/errors/"+g;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var _=2;_<arguments.length;_++)m+="&args[]="+encodeURIComponent(arguments[_])}return"Minified React error #"+g+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var r={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(g,m,_){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:g,containerInfo:m,implementation:_}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(g,m){if(g==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return Bt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,Bt.createPortal=function(g,m){var _=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(e(299));return c(g,m,null,_)},Bt.flushSync=function(g){var m=d.T,_=r.p;try{if(d.T=null,r.p=2,g)return g()}finally{d.T=m,r.p=_,r.d.f()}},Bt.preconnect=function(g,m){typeof g=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,r.d.C(g,m))},Bt.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},Bt.preinit=function(g,m){if(typeof g=="string"&&m&&typeof m.as=="string"){var _=m.as,b=h(_,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,w=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;_==="style"?r.d.S(g,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:E,fetchPriority:w}):_==="script"&&r.d.X(g,{crossOrigin:b,integrity:E,fetchPriority:w,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},Bt.preinitModule=function(g,m){if(typeof g=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var _=h(m.as,m.crossOrigin);r.d.M(g,{crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&r.d.M(g)},Bt.preload=function(g,m){if(typeof g=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var _=m.as,b=h(_,m.crossOrigin);r.d.L(g,_,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},Bt.preloadModule=function(g,m){if(typeof g=="string")if(m){var _=h(m.as,m.crossOrigin);r.d.m(g,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:_,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else r.d.m(g)},Bt.requestFormReset=function(g){r.d.r(g)},Bt.unstable_batchedUpdates=function(g,m){return g(m)},Bt.useFormState=function(g,m,_){return d.H.useFormState(g,m,_)},Bt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Bt.version="19.1.0",Bt}var i_;function kb(){if(i_)return Tf.exports;i_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Tf.exports=PT(),Tf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var s_;function UT(){if(s_)return Ja;s_=1;var i=LT(),e=Xh(),n=kb();function r(t){var s="https://react.dev/errors/"+t;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)s+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function c(t){var s=t,a=t;if(t.alternate)for(;s.return;)s=s.return;else{t=s;do s=t,(s.flags&4098)!==0&&(a=s.return),t=s.return;while(t)}return s.tag===3?a:null}function d(t){if(t.tag===13){var s=t.memoizedState;if(s===null&&(t=t.alternate,t!==null&&(s=t.memoizedState)),s!==null)return s.dehydrated}return null}function h(t){if(c(t)!==t)throw Error(r(188))}function g(t){var s=t.alternate;if(!s){if(s=c(t),s===null)throw Error(r(188));return s!==t?null:t}for(var a=t,l=s;;){var u=a.return;if(u===null)break;var f=u.alternate;if(f===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===a)return h(u),t;if(f===l)return h(u),s;f=f.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=f;else{for(var v=!1,y=u.child;y;){if(y===a){v=!0,a=u,l=f;break}if(y===l){v=!0,l=u,a=f;break}y=y.sibling}if(!v){for(y=f.child;y;){if(y===a){v=!0,a=f,l=u;break}if(y===l){v=!0,l=f,a=u;break}y=y.sibling}if(!v)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?t:s}function m(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t;for(t=t.child;t!==null;){if(s=m(t),s!==null)return s;t=t.sibling}return null}var _=Object.assign,b=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),H=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),X=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),W=Symbol.for("react.suspense"),re=Symbol.for("react.suspense_list"),ce=Symbol.for("react.memo"),se=Symbol.for("react.lazy"),ue=Symbol.for("react.activity"),xe=Symbol.for("react.memo_cache_sentinel"),Ee=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=Ee&&t[Ee]||t["@@iterator"],typeof t=="function"?t:null)}var Ne=Symbol.for("react.client.reference");function Ke(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===Ne?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case T:return"Fragment";case N:return"Profiler";case P:return"StrictMode";case W:return"Suspense";case re:return"SuspenseList";case ue:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case X:return(t.displayName||"Context")+".Provider";case z:return(t._context.displayName||"Context")+".Consumer";case Z:var s=t.render;return t=t.displayName,t||(t=s.displayName||s.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ce:return s=t.displayName||null,s!==null?s:Ke(t.type)||"Memo";case se:s=t._payload,t=t._init;try{return Ke(t(s))}catch{}}return null}var Be=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},Ce=[],C=-1;function G(t){return{current:t}}function B(t){0>C||(t.current=Ce[C],Ce[C]=null,C--)}function F(t,s){C++,Ce[C]=t.current,t.current=s}var ee=G(null),ve=G(null),le=G(null),J=G(null);function k(t,s){switch(F(le,s),F(ve,t),F(ee,null),s.nodeType){case 9:case 11:t=(t=s.documentElement)&&(t=t.namespaceURI)?Ty(t):0;break;default:if(t=s.tagName,s=s.namespaceURI)s=Ty(s),t=wy(s,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}B(ee),F(ee,t)}function oe(){B(ee),B(ve),B(le)}function me(t){t.memoizedState!==null&&F(J,t);var s=ee.current,a=wy(s,t.type);s!==a&&(F(ve,t),F(ee,a))}function Ge(t){ve.current===t&&(B(ee),B(ve)),J.current===t&&(B(J),Fa._currentValue=fe)}var Ve=Object.prototype.hasOwnProperty,fn=i.unstable_scheduleCallback,Ut=i.unstable_cancelCallback,Un=i.unstable_shouldYield,ta=i.unstable_requestPaint,Kt=i.unstable_now,na=i.unstable_getCurrentPriorityLevel,qs=i.unstable_ImmediatePriority,Ys=i.unstable_UserBlockingPriority,Ci=i.unstable_NormalPriority,$e=i.unstable_LowPriority,xn=i.unstable_IdlePriority,ia=i.log,iu=i.unstable_setDisableYieldValue,fs=null,Gt=null;function zn(t){if(typeof ia=="function"&&iu(t),Gt&&typeof Gt.setStrictMode=="function")try{Gt.setStrictMode(fs,t)}catch{}}var zt=Math.clz32?Math.clz32:Ho,su=Math.log,ru=Math.LN2;function Ho(t){return t>>>=0,t===0?32:31-(su(t)/ru|0)|0}var Fs=256,hs=4194304;function Hn(t){var s=t&42;if(s!==0)return s;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function sa(t,s,a){var l=t.pendingLanes;if(l===0)return 0;var u=0,f=t.suspendedLanes,v=t.pingedLanes;t=t.warmLanes;var y=l&134217727;return y!==0?(l=y&~f,l!==0?u=Hn(l):(v&=y,v!==0?u=Hn(v):a||(a=y&~t,a!==0&&(u=Hn(a))))):(y=l&~f,y!==0?u=Hn(y):v!==0?u=Hn(v):a||(a=l&~t,a!==0&&(u=Hn(a)))),u===0?0:s!==0&&s!==u&&(s&f)===0&&(f=u&-u,a=s&-s,f>=a||f===32&&(a&4194048)!==0)?s:u}function Ws(t,s){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&s)===0}function gg(t,s){switch(t){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function au(){var t=Fs;return Fs<<=1,(Fs&4194048)===0&&(Fs=256),t}function ou(){var t=hs;return hs<<=1,(hs&62914560)===0&&(hs=4194304),t}function Bo(t){for(var s=[],a=0;31>a;a++)s.push(t);return s}function Ks(t,s){t.pendingLanes|=s,s!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function mg(t,s,a,l,u,f){var v=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var y=t.entanglements,S=t.expirationTimes,I=t.hiddenUpdates;for(a=v&~a;0<a;){var $=31-zt(a),Y=1<<$;y[$]=0,S[$]=-1;var j=I[$];if(j!==null)for(I[$]=null,$=0;$<j.length;$++){var M=j[$];M!==null&&(M.lane&=-536870913)}a&=~Y}l!==0&&lu(t,l,0),f!==0&&u===0&&t.tag!==0&&(t.suspendedLanes|=f&~(v&~s))}function lu(t,s,a){t.pendingLanes|=s,t.suspendedLanes&=~s;var l=31-zt(s);t.entangledLanes|=s,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function cu(t,s){var a=t.entangledLanes|=s;for(t=t.entanglements;a;){var l=31-zt(a),u=1<<l;u&s|t[l]&s&&(t[l]|=s),a&=~u}}function Vo(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function $o(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function uu(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Gy(t.type))}function du(t,s){var a=ie.p;try{return ie.p=t,s()}finally{ie.p=a}}var R=Math.random().toString(36).slice(2),V="__reactFiber$"+R,U="__reactProps$"+R,te="__reactContainer$"+R,he="__reactEvents$"+R,Re="__reactListeners$"+R,Pe="__reactHandles$"+R,at="__reactResources$"+R,vt="__reactMarker$"+R;function yt(t){delete t[V],delete t[U],delete t[he],delete t[Re],delete t[Pe]}function jt(t){var s=t[V];if(s)return s;for(var a=t.parentNode;a;){if(s=a[te]||a[V]){if(a=s.alternate,s.child!==null||a!==null&&a.child!==null)for(t=Ry(t);t!==null;){if(a=t[V])return a;t=Ry(t)}return s}t=a,a=t.parentNode}return null}function ct(t){if(t=t[V]||t[te]){var s=t.tag;if(s===5||s===6||s===13||s===26||s===27||s===3)return t}return null}function wt(t){var s=t.tag;if(s===5||s===26||s===27||s===6)return t.stateNode;throw Error(r(33))}function Ot(t){var s=t[at];return s||(s=t[at]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function dt(t){t[vt]=!0}var ra=new Set,hn={};function pn(t,s){qt(t,s),qt(t+"Capture",s)}function qt(t,s){for(hn[t]=s,t=0;t<s.length;t++)ra.add(s[t])}var Qn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ti={},sn={};function Qs(t){return Ve.call(sn,t)?!0:Ve.call(Ti,t)?!1:Qn.test(t)?sn[t]=!0:(Ti[t]=!0,!1)}function wi(t,s,a){if(Qs(s))if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(s);return;case"boolean":var l=s.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(s);return}}t.setAttribute(s,""+a)}}function Oi(t,s,a){if(a===null)t.removeAttribute(s);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(s);return}t.setAttribute(s,""+a)}}function Xn(t,s,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(s,a,""+l)}}var fu,vg;function Xs(t){if(fu===void 0)try{throw Error()}catch(a){var s=a.stack.trim().match(/\n( *(at )?)/);fu=s&&s[1]||"",vg=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+fu+t+vg}var hu=!1;function pu(t,s){if(!t||hu)return"";hu=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(s){var Y=function(){throw Error()};if(Object.defineProperty(Y.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Y,[])}catch(M){var j=M}Reflect.construct(t,[],Y)}else{try{Y.call()}catch(M){j=M}t.call(Y.prototype)}}else{try{throw Error()}catch(M){j=M}(Y=t())&&typeof Y.catch=="function"&&Y.catch(function(){})}}catch(M){if(M&&j&&typeof M.stack=="string")return[M.stack,j.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),v=f[0],y=f[1];if(v&&y){var S=v.split(`
`),I=y.split(`
`);for(u=l=0;l<S.length&&!S[l].includes("DetermineComponentFrameRoot");)l++;for(;u<I.length&&!I[u].includes("DetermineComponentFrameRoot");)u++;if(l===S.length||u===I.length)for(l=S.length-1,u=I.length-1;1<=l&&0<=u&&S[l]!==I[u];)u--;for(;1<=l&&0<=u;l--,u--)if(S[l]!==I[u]){if(l!==1||u!==1)do if(l--,u--,0>u||S[l]!==I[u]){var $=`
`+S[l].replace(" at new "," at ");return t.displayName&&$.includes("<anonymous>")&&($=$.replace("<anonymous>",t.displayName)),$}while(1<=l&&0<=u);break}}}finally{hu=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Xs(a):""}function OS(t){switch(t.tag){case 26:case 27:case 5:return Xs(t.type);case 16:return Xs("Lazy");case 13:return Xs("Suspense");case 19:return Xs("SuspenseList");case 0:case 15:return pu(t.type,!1);case 11:return pu(t.type.render,!1);case 1:return pu(t.type,!0);case 31:return Xs("Activity");default:return""}}function yg(t){try{var s="";do s+=OS(t),t=t.return;while(t);return s}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function gn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function _g(t){var s=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function xS(t){var s=_g(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,s),l=""+t[s];if(!t.hasOwnProperty(s)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(t,s,{configurable:!0,get:function(){return u.call(this)},set:function(v){l=""+v,f.call(this,v)}}),Object.defineProperty(t,s,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){t._valueTracker=null,delete t[s]}}}}function Go(t){t._valueTracker||(t._valueTracker=xS(t))}function bg(t){if(!t)return!1;var s=t._valueTracker;if(!s)return!0;var a=s.getValue(),l="";return t&&(l=_g(t)?t.checked?"true":"false":t.value),t=l,t!==a?(s.setValue(t),!0):!1}function qo(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var NS=/[\n"\\]/g;function mn(t){return t.replace(NS,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function gu(t,s,a,l,u,f,v,y){t.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?t.type=v:t.removeAttribute("type"),s!=null?v==="number"?(s===0&&t.value===""||t.value!=s)&&(t.value=""+gn(s)):t.value!==""+gn(s)&&(t.value=""+gn(s)):v!=="submit"&&v!=="reset"||t.removeAttribute("value"),s!=null?mu(t,v,gn(s)):a!=null?mu(t,v,gn(a)):l!=null&&t.removeAttribute("value"),u==null&&f!=null&&(t.defaultChecked=!!f),u!=null&&(t.checked=u&&typeof u!="function"&&typeof u!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?t.name=""+gn(y):t.removeAttribute("name")}function Eg(t,s,a,l,u,f,v,y){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),s!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||s!=null))return;a=a!=null?""+gn(a):"",s=s!=null?""+gn(s):a,y||s===t.value||(t.value=s),t.defaultValue=s}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=y?t.checked:!!l,t.defaultChecked=!!l,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(t.name=v)}function mu(t,s,a){s==="number"&&qo(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Zs(t,s,a,l){if(t=t.options,s){s={};for(var u=0;u<a.length;u++)s["$"+a[u]]=!0;for(a=0;a<t.length;a++)u=s.hasOwnProperty("$"+t[a].value),t[a].selected!==u&&(t[a].selected=u),u&&l&&(t[a].defaultSelected=!0)}else{for(a=""+gn(a),s=null,u=0;u<t.length;u++){if(t[u].value===a){t[u].selected=!0,l&&(t[u].defaultSelected=!0);return}s!==null||t[u].disabled||(s=t[u])}s!==null&&(s.selected=!0)}}function Sg(t,s,a){if(s!=null&&(s=""+gn(s),s!==t.value&&(t.value=s),a==null)){t.defaultValue!==s&&(t.defaultValue=s);return}t.defaultValue=a!=null?""+gn(a):""}function Cg(t,s,a,l){if(s==null){if(l!=null){if(a!=null)throw Error(r(92));if(Be(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),s=a}a=gn(s),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Js(t,s){if(s){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=s;return}}t.textContent=s}var RS=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Tg(t,s,a){var l=s.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(s,""):s==="float"?t.cssFloat="":t[s]="":l?t.setProperty(s,a):typeof a!="number"||a===0||RS.has(s)?s==="float"?t.cssFloat=a:t[s]=(""+a).trim():t[s]=a+"px"}function wg(t,s,a){if(s!=null&&typeof s!="object")throw Error(r(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||s!=null&&s.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var u in s)l=s[u],s.hasOwnProperty(u)&&a[u]!==l&&Tg(t,u,l)}else for(var f in s)s.hasOwnProperty(f)&&Tg(t,f,s[f])}function vu(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var AS=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),DS=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Yo(t){return DS.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var yu=null;function _u(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var er=null,tr=null;function Og(t){var s=ct(t);if(s&&(t=s.stateNode)){var a=t[U]||null;e:switch(t=s.stateNode,s.type){case"input":if(gu(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),s=a.name,a.type==="radio"&&s!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+mn(""+s)+'"][type="radio"]'),s=0;s<a.length;s++){var l=a[s];if(l!==t&&l.form===t.form){var u=l[U]||null;if(!u)throw Error(r(90));gu(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(s=0;s<a.length;s++)l=a[s],l.form===t.form&&bg(l)}break e;case"textarea":Sg(t,a.value,a.defaultValue);break e;case"select":s=a.value,s!=null&&Zs(t,!!a.multiple,s,!1)}}}var bu=!1;function xg(t,s,a){if(bu)return t(s,a);bu=!0;try{var l=t(s);return l}finally{if(bu=!1,(er!==null||tr!==null)&&(Dl(),er&&(s=er,t=tr,tr=er=null,Og(s),t)))for(s=0;s<t.length;s++)Og(t[s])}}function aa(t,s){var a=t.stateNode;if(a===null)return null;var l=a[U]||null;if(l===null)return null;a=l[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(r(231,s,typeof a));return a}var Zn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Eu=!1;if(Zn)try{var oa={};Object.defineProperty(oa,"passive",{get:function(){Eu=!0}}),window.addEventListener("test",oa,oa),window.removeEventListener("test",oa,oa)}catch{Eu=!1}var xi=null,Su=null,Fo=null;function Ng(){if(Fo)return Fo;var t,s=Su,a=s.length,l,u="value"in xi?xi.value:xi.textContent,f=u.length;for(t=0;t<a&&s[t]===u[t];t++);var v=a-t;for(l=1;l<=v&&s[a-l]===u[f-l];l++);return Fo=u.slice(t,1<l?1-l:void 0)}function Wo(t){var s=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&s===13&&(t=13)):t=s,t===10&&(t=13),32<=t||t===13?t:0}function Ko(){return!0}function Rg(){return!1}function Qt(t){function s(a,l,u,f,v){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=f,this.target=v,this.currentTarget=null;for(var y in t)t.hasOwnProperty(y)&&(a=t[y],this[y]=a?a(f):f[y]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ko:Rg,this.isPropagationStopped=Rg,this}return _(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ko)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ko)},persist:function(){},isPersistent:Ko}),s}var ps={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qo=Qt(ps),la=_({},ps,{view:0,detail:0}),IS=Qt(la),Cu,Tu,ca,Xo=_({},la,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ou,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ca&&(ca&&t.type==="mousemove"?(Cu=t.screenX-ca.screenX,Tu=t.screenY-ca.screenY):Tu=Cu=0,ca=t),Cu)},movementY:function(t){return"movementY"in t?t.movementY:Tu}}),Ag=Qt(Xo),kS=_({},Xo,{dataTransfer:0}),jS=Qt(kS),MS=_({},la,{relatedTarget:0}),wu=Qt(MS),LS=_({},ps,{animationName:0,elapsedTime:0,pseudoElement:0}),PS=Qt(LS),US=_({},ps,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),zS=Qt(US),HS=_({},ps,{data:0}),Dg=Qt(HS),BS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$S={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function GS(t){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(t):(t=$S[t])?!!s[t]:!1}function Ou(){return GS}var qS=_({},la,{key:function(t){if(t.key){var s=BS[t.key]||t.key;if(s!=="Unidentified")return s}return t.type==="keypress"?(t=Wo(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VS[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ou,charCode:function(t){return t.type==="keypress"?Wo(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wo(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),YS=Qt(qS),FS=_({},Xo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ig=Qt(FS),WS=_({},la,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ou}),KS=Qt(WS),QS=_({},ps,{propertyName:0,elapsedTime:0,pseudoElement:0}),XS=Qt(QS),ZS=_({},Xo,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),JS=Qt(ZS),eC=_({},ps,{newState:0,oldState:0}),tC=Qt(eC),nC=[9,13,27,32],xu=Zn&&"CompositionEvent"in window,ua=null;Zn&&"documentMode"in document&&(ua=document.documentMode);var iC=Zn&&"TextEvent"in window&&!ua,kg=Zn&&(!xu||ua&&8<ua&&11>=ua),jg=" ",Mg=!1;function Lg(t,s){switch(t){case"keyup":return nC.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Pg(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var nr=!1;function sC(t,s){switch(t){case"compositionend":return Pg(s);case"keypress":return s.which!==32?null:(Mg=!0,jg);case"textInput":return t=s.data,t===jg&&Mg?null:t;default:return null}}function rC(t,s){if(nr)return t==="compositionend"||!xu&&Lg(t,s)?(t=Ng(),Fo=Su=xi=null,nr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return kg&&s.locale!=="ko"?null:s.data;default:return null}}var aC={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ug(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s==="input"?!!aC[t.type]:s==="textarea"}function zg(t,s,a,l){er?tr?tr.push(l):tr=[l]:er=l,s=Pl(s,"onChange"),0<s.length&&(a=new Qo("onChange","change",null,a,l),t.push({event:a,listeners:s}))}var da=null,fa=null;function oC(t){_y(t,0)}function Zo(t){var s=wt(t);if(bg(s))return t}function Hg(t,s){if(t==="change")return s}var Bg=!1;if(Zn){var Nu;if(Zn){var Ru="oninput"in document;if(!Ru){var Vg=document.createElement("div");Vg.setAttribute("oninput","return;"),Ru=typeof Vg.oninput=="function"}Nu=Ru}else Nu=!1;Bg=Nu&&(!document.documentMode||9<document.documentMode)}function $g(){da&&(da.detachEvent("onpropertychange",Gg),fa=da=null)}function Gg(t){if(t.propertyName==="value"&&Zo(fa)){var s=[];zg(s,fa,t,_u(t)),xg(oC,s)}}function lC(t,s,a){t==="focusin"?($g(),da=s,fa=a,da.attachEvent("onpropertychange",Gg)):t==="focusout"&&$g()}function cC(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zo(fa)}function uC(t,s){if(t==="click")return Zo(s)}function dC(t,s){if(t==="input"||t==="change")return Zo(s)}function fC(t,s){return t===s&&(t!==0||1/t===1/s)||t!==t&&s!==s}var rn=typeof Object.is=="function"?Object.is:fC;function ha(t,s){if(rn(t,s))return!0;if(typeof t!="object"||t===null||typeof s!="object"||s===null)return!1;var a=Object.keys(t),l=Object.keys(s);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Ve.call(s,u)||!rn(t[u],s[u]))return!1}return!0}function qg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Yg(t,s){var a=qg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=s&&l>=s)return{node:a,offset:s-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=qg(a)}}function Fg(t,s){return t&&s?t===s?!0:t&&t.nodeType===3?!1:s&&s.nodeType===3?Fg(t,s.parentNode):"contains"in t?t.contains(s):t.compareDocumentPosition?!!(t.compareDocumentPosition(s)&16):!1:!1}function Wg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var s=qo(t.document);s instanceof t.HTMLIFrameElement;){try{var a=typeof s.contentWindow.location.href=="string"}catch{a=!1}if(a)t=s.contentWindow;else break;s=qo(t.document)}return s}function Au(t){var s=t&&t.nodeName&&t.nodeName.toLowerCase();return s&&(s==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||s==="textarea"||t.contentEditable==="true")}var hC=Zn&&"documentMode"in document&&11>=document.documentMode,ir=null,Du=null,pa=null,Iu=!1;function Kg(t,s,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Iu||ir==null||ir!==qo(l)||(l=ir,"selectionStart"in l&&Au(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),pa&&ha(pa,l)||(pa=l,l=Pl(Du,"onSelect"),0<l.length&&(s=new Qo("onSelect","select",null,s,a),t.push({event:s,listeners:l}),s.target=ir)))}function gs(t,s){var a={};return a[t.toLowerCase()]=s.toLowerCase(),a["Webkit"+t]="webkit"+s,a["Moz"+t]="moz"+s,a}var sr={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},ku={},Qg={};Zn&&(Qg=document.createElement("div").style,"AnimationEvent"in window||(delete sr.animationend.animation,delete sr.animationiteration.animation,delete sr.animationstart.animation),"TransitionEvent"in window||delete sr.transitionend.transition);function ms(t){if(ku[t])return ku[t];if(!sr[t])return t;var s=sr[t],a;for(a in s)if(s.hasOwnProperty(a)&&a in Qg)return ku[t]=s[a];return t}var Xg=ms("animationend"),Zg=ms("animationiteration"),Jg=ms("animationstart"),pC=ms("transitionrun"),gC=ms("transitionstart"),mC=ms("transitioncancel"),em=ms("transitionend"),tm=new Map,ju="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ju.push("scrollEnd");function Nn(t,s){tm.set(t,s),pn(s,[t])}var nm=new WeakMap;function vn(t,s){if(typeof t=="object"&&t!==null){var a=nm.get(t);return a!==void 0?a:(s={value:t,source:s,stack:yg(s)},nm.set(t,s),s)}return{value:t,source:s,stack:yg(s)}}var yn=[],rr=0,Mu=0;function Jo(){for(var t=rr,s=Mu=rr=0;s<t;){var a=yn[s];yn[s++]=null;var l=yn[s];yn[s++]=null;var u=yn[s];yn[s++]=null;var f=yn[s];if(yn[s++]=null,l!==null&&u!==null){var v=l.pending;v===null?u.next=u:(u.next=v.next,v.next=u),l.pending=u}f!==0&&im(a,u,f)}}function el(t,s,a,l){yn[rr++]=t,yn[rr++]=s,yn[rr++]=a,yn[rr++]=l,Mu|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Lu(t,s,a,l){return el(t,s,a,l),tl(t)}function ar(t,s){return el(t,null,null,s),tl(t)}function im(t,s,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var u=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(u=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,u&&s!==null&&(u=31-zt(a),t=f.hiddenUpdates,l=t[u],l===null?t[u]=[s]:l.push(s),s.lane=a|536870912),f):null}function tl(t){if(50<za)throw za=0,Vd=null,Error(r(185));for(var s=t.return;s!==null;)t=s,s=t.return;return t.tag===3?t.stateNode:null}var or={};function vC(t,s,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,s,a,l){return new vC(t,s,a,l)}function Pu(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Jn(t,s){var a=t.alternate;return a===null?(a=an(t.tag,s,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=s,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,s=t.dependencies,a.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function sm(t,s){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=s,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,s=a.dependencies,t.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),t}function nl(t,s,a,l,u,f){var v=0;if(l=t,typeof t=="function")Pu(t)&&(v=1);else if(typeof t=="string")v=_T(t,a,ee.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case ue:return t=an(31,a,s,u),t.elementType=ue,t.lanes=f,t;case T:return vs(a.children,u,f,s);case P:v=8,u|=24;break;case N:return t=an(12,a,s,u|2),t.elementType=N,t.lanes=f,t;case W:return t=an(13,a,s,u),t.elementType=W,t.lanes=f,t;case re:return t=an(19,a,s,u),t.elementType=re,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case H:case X:v=10;break e;case z:v=9;break e;case Z:v=11;break e;case ce:v=14;break e;case se:v=16,l=null;break e}v=29,a=Error(r(130,t===null?"null":typeof t,"")),l=null}return s=an(v,a,s,u),s.elementType=t,s.type=l,s.lanes=f,s}function vs(t,s,a,l){return t=an(7,t,l,s),t.lanes=a,t}function Uu(t,s,a){return t=an(6,t,null,s),t.lanes=a,t}function zu(t,s,a){return s=an(4,t.children!==null?t.children:[],t.key,s),s.lanes=a,s.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},s}var lr=[],cr=0,il=null,sl=0,_n=[],bn=0,ys=null,ei=1,ti="";function _s(t,s){lr[cr++]=sl,lr[cr++]=il,il=t,sl=s}function rm(t,s,a){_n[bn++]=ei,_n[bn++]=ti,_n[bn++]=ys,ys=t;var l=ei;t=ti;var u=32-zt(l)-1;l&=~(1<<u),a+=1;var f=32-zt(s)+u;if(30<f){var v=u-u%5;f=(l&(1<<v)-1).toString(32),l>>=v,u-=v,ei=1<<32-zt(s)+u|a<<u|l,ti=f+t}else ei=1<<f|a<<u|l,ti=t}function Hu(t){t.return!==null&&(_s(t,1),rm(t,1,0))}function Bu(t){for(;t===il;)il=lr[--cr],lr[cr]=null,sl=lr[--cr],lr[cr]=null;for(;t===ys;)ys=_n[--bn],_n[bn]=null,ti=_n[--bn],_n[bn]=null,ei=_n[--bn],_n[bn]=null}var Yt=null,ft=null,We=!1,bs=null,Bn=!1,Vu=Error(r(519));function Es(t){var s=Error(r(418,""));throw va(vn(s,t)),Vu}function am(t){var s=t.stateNode,a=t.type,l=t.memoizedProps;switch(s[V]=t,s[U]=l,a){case"dialog":ze("cancel",s),ze("close",s);break;case"iframe":case"object":case"embed":ze("load",s);break;case"video":case"audio":for(a=0;a<Ba.length;a++)ze(Ba[a],s);break;case"source":ze("error",s);break;case"img":case"image":case"link":ze("error",s),ze("load",s);break;case"details":ze("toggle",s);break;case"input":ze("invalid",s),Eg(s,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Go(s);break;case"select":ze("invalid",s);break;case"textarea":ze("invalid",s),Cg(s,l.value,l.defaultValue,l.children),Go(s)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||s.textContent===""+a||l.suppressHydrationWarning===!0||Cy(s.textContent,a)?(l.popover!=null&&(ze("beforetoggle",s),ze("toggle",s)),l.onScroll!=null&&ze("scroll",s),l.onScrollEnd!=null&&ze("scrollend",s),l.onClick!=null&&(s.onclick=Ul),s=!0):s=!1,s||Es(t)}function om(t){for(Yt=t.return;Yt;)switch(Yt.tag){case 5:case 13:Bn=!1;return;case 27:case 3:Bn=!0;return;default:Yt=Yt.return}}function ga(t){if(t!==Yt)return!1;if(!We)return om(t),We=!0,!1;var s=t.tag,a;if((a=s!==3&&s!==27)&&((a=s===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||rf(t.type,t.memoizedProps)),a=!a),a&&ft&&Es(t),om(t),s===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(r(317));e:{for(t=t.nextSibling,s=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(s===0){ft=An(t.nextSibling);break e}s--}else a!=="$"&&a!=="$!"&&a!=="$?"||s++;t=t.nextSibling}ft=null}}else s===27?(s=ft,$i(t.type)?(t=cf,cf=null,ft=t):ft=s):ft=Yt?An(t.stateNode.nextSibling):null;return!0}function ma(){ft=Yt=null,We=!1}function lm(){var t=bs;return t!==null&&(Jt===null?Jt=t:Jt.push.apply(Jt,t),bs=null),t}function va(t){bs===null?bs=[t]:bs.push(t)}var $u=G(null),Ss=null,ni=null;function Ni(t,s,a){F($u,s._currentValue),s._currentValue=a}function ii(t){t._currentValue=$u.current,B($u)}function Gu(t,s,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&s)!==s?(t.childLanes|=s,l!==null&&(l.childLanes|=s)):l!==null&&(l.childLanes&s)!==s&&(l.childLanes|=s),t===a)break;t=t.return}}function qu(t,s,a,l){var u=t.child;for(u!==null&&(u.return=t);u!==null;){var f=u.dependencies;if(f!==null){var v=u.child;f=f.firstContext;e:for(;f!==null;){var y=f;f=u;for(var S=0;S<s.length;S++)if(y.context===s[S]){f.lanes|=a,y=f.alternate,y!==null&&(y.lanes|=a),Gu(f.return,a,t),l||(v=null);break e}f=y.next}}else if(u.tag===18){if(v=u.return,v===null)throw Error(r(341));v.lanes|=a,f=v.alternate,f!==null&&(f.lanes|=a),Gu(v,a,t),v=null}else v=u.child;if(v!==null)v.return=u;else for(v=u;v!==null;){if(v===t){v=null;break}if(u=v.sibling,u!==null){u.return=v.return,v=u;break}v=v.return}u=v}}function ya(t,s,a,l){t=null;for(var u=s,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var v=u.alternate;if(v===null)throw Error(r(387));if(v=v.memoizedProps,v!==null){var y=u.type;rn(u.pendingProps.value,v.value)||(t!==null?t.push(y):t=[y])}}else if(u===J.current){if(v=u.alternate,v===null)throw Error(r(387));v.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(t!==null?t.push(Fa):t=[Fa])}u=u.return}t!==null&&qu(s,t,a,l),s.flags|=262144}function rl(t){for(t=t.firstContext;t!==null;){if(!rn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Cs(t){Ss=t,ni=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Ht(t){return cm(Ss,t)}function al(t,s){return Ss===null&&Cs(t),cm(t,s)}function cm(t,s){var a=s._currentValue;if(s={context:s,memoizedValue:a,next:null},ni===null){if(t===null)throw Error(r(308));ni=s,t.dependencies={lanes:0,firstContext:s},t.flags|=524288}else ni=ni.next=s;return a}var yC=typeof AbortController<"u"?AbortController:function(){var t=[],s=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){s.aborted=!0,t.forEach(function(a){return a()})}},_C=i.unstable_scheduleCallback,bC=i.unstable_NormalPriority,Et={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Yu(){return{controller:new yC,data:new Map,refCount:0}}function _a(t){t.refCount--,t.refCount===0&&_C(bC,function(){t.controller.abort()})}var ba=null,Fu=0,ur=0,dr=null;function EC(t,s){if(ba===null){var a=ba=[];Fu=0,ur=Kd(),dr={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Fu++,s.then(um,um),s}function um(){if(--Fu===0&&ba!==null){dr!==null&&(dr.status="fulfilled");var t=ba;ba=null,ur=0,dr=null;for(var s=0;s<t.length;s++)(0,t[s])()}}function SC(t,s){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return t.then(function(){l.status="fulfilled",l.value=s;for(var u=0;u<a.length;u++)(0,a[u])(s)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var dm=L.S;L.S=function(t,s){typeof s=="object"&&s!==null&&typeof s.then=="function"&&EC(t,s),dm!==null&&dm(t,s)};var Ts=G(null);function Wu(){var t=Ts.current;return t!==null?t:st.pooledCache}function ol(t,s){s===null?F(Ts,Ts.current):F(Ts,s.pool)}function fm(){var t=Wu();return t===null?null:{parent:Et._currentValue,pool:t}}var Ea=Error(r(460)),hm=Error(r(474)),ll=Error(r(542)),Ku={then:function(){}};function pm(t){return t=t.status,t==="fulfilled"||t==="rejected"}function cl(){}function gm(t,s,a){switch(a=t[a],a===void 0?t.push(s):a!==s&&(s.then(cl,cl),s=a),s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,vm(t),t;default:if(typeof s.status=="string")s.then(cl,cl);else{if(t=st,t!==null&&100<t.shellSuspendCounter)throw Error(r(482));t=s,t.status="pending",t.then(function(l){if(s.status==="pending"){var u=s;u.status="fulfilled",u.value=l}},function(l){if(s.status==="pending"){var u=s;u.status="rejected",u.reason=l}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw t=s.reason,vm(t),t}throw Sa=s,Ea}}var Sa=null;function mm(){if(Sa===null)throw Error(r(459));var t=Sa;return Sa=null,t}function vm(t){if(t===Ea||t===ll)throw Error(r(483))}var Ri=!1;function Qu(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Xu(t,s){t=t.updateQueue,s.updateQueue===t&&(s.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Ai(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Di(t,s,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var u=l.pending;return u===null?s.next=s:(s.next=u.next,u.next=s),l.pending=s,s=tl(t),im(t,null,a),s}return el(t,l,s,a),tl(t)}function Ca(t,s,a){if(s=s.updateQueue,s!==null&&(s=s.shared,(a&4194048)!==0)){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,cu(t,a)}}function Zu(t,s){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var v={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?u=f=v:f=f.next=v,a=a.next}while(a!==null);f===null?u=f=s:f=f.next=s}else u=f=s;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=s:t.next=s,a.lastBaseUpdate=s}var Ju=!1;function Ta(){if(Ju){var t=dr;if(t!==null)throw t}}function wa(t,s,a,l){Ju=!1;var u=t.updateQueue;Ri=!1;var f=u.firstBaseUpdate,v=u.lastBaseUpdate,y=u.shared.pending;if(y!==null){u.shared.pending=null;var S=y,I=S.next;S.next=null,v===null?f=I:v.next=I,v=S;var $=t.alternate;$!==null&&($=$.updateQueue,y=$.lastBaseUpdate,y!==v&&(y===null?$.firstBaseUpdate=I:y.next=I,$.lastBaseUpdate=S))}if(f!==null){var Y=u.baseState;v=0,$=I=S=null,y=f;do{var j=y.lane&-536870913,M=j!==y.lane;if(M?(qe&j)===j:(l&j)===j){j!==0&&j===ur&&(Ju=!0),$!==null&&($=$.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var we=t,be=y;j=s;var et=a;switch(be.tag){case 1:if(we=be.payload,typeof we=="function"){Y=we.call(et,Y,j);break e}Y=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=be.payload,j=typeof we=="function"?we.call(et,Y,j):we,j==null)break e;Y=_({},Y,j);break e;case 2:Ri=!0}}j=y.callback,j!==null&&(t.flags|=64,M&&(t.flags|=8192),M=u.callbacks,M===null?u.callbacks=[j]:M.push(j))}else M={lane:j,tag:y.tag,payload:y.payload,callback:y.callback,next:null},$===null?(I=$=M,S=Y):$=$.next=M,v|=j;if(y=y.next,y===null){if(y=u.shared.pending,y===null)break;M=y,y=M.next,M.next=null,u.lastBaseUpdate=M,u.shared.pending=null}}while(!0);$===null&&(S=Y),u.baseState=S,u.firstBaseUpdate=I,u.lastBaseUpdate=$,f===null&&(u.shared.lanes=0),zi|=v,t.lanes=v,t.memoizedState=Y}}function ym(t,s){if(typeof t!="function")throw Error(r(191,t));t.call(s)}function _m(t,s){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)ym(a[t],s)}var fr=G(null),ul=G(0);function bm(t,s){t=ui,F(ul,t),F(fr,s),ui=t|s.baseLanes}function ed(){F(ul,ui),F(fr,fr.current)}function td(){ui=ul.current,B(fr),B(ul)}var Ii=0,ke=null,Ze=null,_t=null,dl=!1,hr=!1,ws=!1,fl=0,Oa=0,pr=null,CC=0;function gt(){throw Error(r(321))}function nd(t,s){if(s===null)return!1;for(var a=0;a<s.length&&a<t.length;a++)if(!rn(t[a],s[a]))return!1;return!0}function id(t,s,a,l,u,f){return Ii=f,ke=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=t===null||t.memoizedState===null?iv:sv,ws=!1,f=a(l,u),ws=!1,hr&&(f=Sm(s,a,l,u)),Em(t),f}function Em(t){L.H=yl;var s=Ze!==null&&Ze.next!==null;if(Ii=0,_t=Ze=ke=null,dl=!1,Oa=0,pr=null,s)throw Error(r(300));t===null||xt||(t=t.dependencies,t!==null&&rl(t)&&(xt=!0))}function Sm(t,s,a,l){ke=t;var u=0;do{if(hr&&(pr=null),Oa=0,hr=!1,25<=u)throw Error(r(301));if(u+=1,_t=Ze=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}L.H=AC,f=s(a,l)}while(hr);return f}function TC(){var t=L.H,s=t.useState()[0];return s=typeof s.then=="function"?xa(s):s,t=t.useState()[0],(Ze!==null?Ze.memoizedState:null)!==t&&(ke.flags|=1024),s}function sd(){var t=fl!==0;return fl=0,t}function rd(t,s,a){s.updateQueue=t.updateQueue,s.flags&=-2053,t.lanes&=~a}function ad(t){if(dl){for(t=t.memoizedState;t!==null;){var s=t.queue;s!==null&&(s.pending=null),t=t.next}dl=!1}Ii=0,_t=Ze=ke=null,hr=!1,Oa=fl=0,pr=null}function Xt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return _t===null?ke.memoizedState=_t=t:_t=_t.next=t,_t}function bt(){if(Ze===null){var t=ke.alternate;t=t!==null?t.memoizedState:null}else t=Ze.next;var s=_t===null?ke.memoizedState:_t.next;if(s!==null)_t=s,Ze=t;else{if(t===null)throw ke.alternate===null?Error(r(467)):Error(r(310));Ze=t,t={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},_t===null?ke.memoizedState=_t=t:_t=_t.next=t}return _t}function od(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function xa(t){var s=Oa;return Oa+=1,pr===null&&(pr=[]),t=gm(pr,t,s),s=ke,(_t===null?s.memoizedState:_t.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?iv:sv),t}function hl(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return xa(t);if(t.$$typeof===X)return Ht(t)}throw Error(r(438,String(t)))}function ld(t){var s=null,a=ke.updateQueue;if(a!==null&&(s=a.memoCache),s==null){var l=ke.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(s={data:l.data.map(function(u){return u.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),a===null&&(a=od(),ke.updateQueue=a),a.memoCache=s,a=s.data[s.index],a===void 0)for(a=s.data[s.index]=Array(t),l=0;l<t;l++)a[l]=xe;return s.index++,a}function si(t,s){return typeof s=="function"?s(t):s}function pl(t){var s=bt();return cd(s,Ze,t)}function cd(t,s,a){var l=t.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=t.baseQueue,f=l.pending;if(f!==null){if(u!==null){var v=u.next;u.next=f.next,f.next=v}s.baseQueue=u=f,l.pending=null}if(f=t.baseState,u===null)t.memoizedState=f;else{s=u.next;var y=v=null,S=null,I=s,$=!1;do{var Y=I.lane&-536870913;if(Y!==I.lane?(qe&Y)===Y:(Ii&Y)===Y){var j=I.revertLane;if(j===0)S!==null&&(S=S.next={lane:0,revertLane:0,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null}),Y===ur&&($=!0);else if((Ii&j)===j){I=I.next,j===ur&&($=!0);continue}else Y={lane:0,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},S===null?(y=S=Y,v=f):S=S.next=Y,ke.lanes|=j,zi|=j;Y=I.action,ws&&a(f,Y),f=I.hasEagerState?I.eagerState:a(f,Y)}else j={lane:Y,revertLane:I.revertLane,action:I.action,hasEagerState:I.hasEagerState,eagerState:I.eagerState,next:null},S===null?(y=S=j,v=f):S=S.next=j,ke.lanes|=Y,zi|=Y;I=I.next}while(I!==null&&I!==s);if(S===null?v=f:S.next=y,!rn(f,t.memoizedState)&&(xt=!0,$&&(a=dr,a!==null)))throw a;t.memoizedState=f,t.baseState=v,t.baseQueue=S,l.lastRenderedState=f}return u===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function ud(t){var s=bt(),a=s.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=t;var l=a.dispatch,u=a.pending,f=s.memoizedState;if(u!==null){a.pending=null;var v=u=u.next;do f=t(f,v.action),v=v.next;while(v!==u);rn(f,s.memoizedState)||(xt=!0),s.memoizedState=f,s.baseQueue===null&&(s.baseState=f),a.lastRenderedState=f}return[f,l]}function Cm(t,s,a){var l=ke,u=bt(),f=We;if(f){if(a===void 0)throw Error(r(407));a=a()}else a=s();var v=!rn((Ze||u).memoizedState,a);v&&(u.memoizedState=a,xt=!0),u=u.queue;var y=Om.bind(null,l,u,t);if(Na(2048,8,y,[t]),u.getSnapshot!==s||v||_t!==null&&_t.memoizedState.tag&1){if(l.flags|=2048,gr(9,gl(),wm.bind(null,l,u,a,s),null),st===null)throw Error(r(349));f||(Ii&124)!==0||Tm(l,s,a)}return a}function Tm(t,s,a){t.flags|=16384,t={getSnapshot:s,value:a},s=ke.updateQueue,s===null?(s=od(),ke.updateQueue=s,s.stores=[t]):(a=s.stores,a===null?s.stores=[t]:a.push(t))}function wm(t,s,a,l){s.value=a,s.getSnapshot=l,xm(s)&&Nm(t)}function Om(t,s,a){return a(function(){xm(s)&&Nm(t)})}function xm(t){var s=t.getSnapshot;t=t.value;try{var a=s();return!rn(t,a)}catch{return!0}}function Nm(t){var s=ar(t,2);s!==null&&dn(s,t,2)}function dd(t){var s=Xt();if(typeof t=="function"){var a=t;if(t=a(),ws){zn(!0);try{a()}finally{zn(!1)}}}return s.memoizedState=s.baseState=t,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:t},s}function Rm(t,s,a,l){return t.baseState=a,cd(t,Ze,typeof l=="function"?l:si)}function wC(t,s,a,l,u){if(vl(t))throw Error(r(485));if(t=s.action,t!==null){var f={payload:u,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){f.listeners.push(v)}};L.T!==null?a(!0):f.isTransition=!1,l(f),a=s.pending,a===null?(f.next=s.pending=f,Am(s,f)):(f.next=a.next,s.pending=a.next=f)}}function Am(t,s){var a=s.action,l=s.payload,u=t.state;if(s.isTransition){var f=L.T,v={};L.T=v;try{var y=a(u,l),S=L.S;S!==null&&S(v,y),Dm(t,s,y)}catch(I){fd(t,s,I)}finally{L.T=f}}else try{f=a(u,l),Dm(t,s,f)}catch(I){fd(t,s,I)}}function Dm(t,s,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Im(t,s,l)},function(l){return fd(t,s,l)}):Im(t,s,a)}function Im(t,s,a){s.status="fulfilled",s.value=a,km(s),t.state=a,s=t.pending,s!==null&&(a=s.next,a===s?t.pending=null:(a=a.next,s.next=a,Am(t,a)))}function fd(t,s,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do s.status="rejected",s.reason=a,km(s),s=s.next;while(s!==l)}t.action=null}function km(t){t=t.listeners;for(var s=0;s<t.length;s++)(0,t[s])()}function jm(t,s){return s}function Mm(t,s){if(We){var a=st.formState;if(a!==null){e:{var l=ke;if(We){if(ft){t:{for(var u=ft,f=Bn;u.nodeType!==8;){if(!f){u=null;break t}if(u=An(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){ft=An(u.nextSibling),l=u.data==="F!";break e}}Es(l)}l=!1}l&&(s=a[0])}}return a=Xt(),a.memoizedState=a.baseState=s,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jm,lastRenderedState:s},a.queue=l,a=ev.bind(null,ke,l),l.dispatch=a,l=dd(!1),f=vd.bind(null,ke,!1,l.queue),l=Xt(),u={state:s,dispatch:null,action:t,pending:null},l.queue=u,a=wC.bind(null,ke,u,f,a),u.dispatch=a,l.memoizedState=t,[s,a,!1]}function Lm(t){var s=bt();return Pm(s,Ze,t)}function Pm(t,s,a){if(s=cd(t,s,jm)[0],t=pl(si)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var l=xa(s)}catch(v){throw v===Ea?ll:v}else l=s;s=bt();var u=s.queue,f=u.dispatch;return a!==s.memoizedState&&(ke.flags|=2048,gr(9,gl(),OC.bind(null,u,a),null)),[l,f,t]}function OC(t,s){t.action=s}function Um(t){var s=bt(),a=Ze;if(a!==null)return Pm(s,a,t);bt(),s=s.memoizedState,a=bt();var l=a.queue.dispatch;return a.memoizedState=t,[s,l,!1]}function gr(t,s,a,l){return t={tag:t,create:a,deps:l,inst:s,next:null},s=ke.updateQueue,s===null&&(s=od(),ke.updateQueue=s),a=s.lastEffect,a===null?s.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,s.lastEffect=t),t}function gl(){return{destroy:void 0,resource:void 0}}function zm(){return bt().memoizedState}function ml(t,s,a,l){var u=Xt();l=l===void 0?null:l,ke.flags|=t,u.memoizedState=gr(1|s,gl(),a,l)}function Na(t,s,a,l){var u=bt();l=l===void 0?null:l;var f=u.memoizedState.inst;Ze!==null&&l!==null&&nd(l,Ze.memoizedState.deps)?u.memoizedState=gr(s,f,a,l):(ke.flags|=t,u.memoizedState=gr(1|s,f,a,l))}function Hm(t,s){ml(8390656,8,t,s)}function Bm(t,s){Na(2048,8,t,s)}function Vm(t,s){return Na(4,2,t,s)}function $m(t,s){return Na(4,4,t,s)}function Gm(t,s){if(typeof s=="function"){t=t();var a=s(t);return function(){typeof a=="function"?a():s(null)}}if(s!=null)return t=t(),s.current=t,function(){s.current=null}}function qm(t,s,a){a=a!=null?a.concat([t]):null,Na(4,4,Gm.bind(null,s,t),a)}function hd(){}function Ym(t,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;return s!==null&&nd(s,l[1])?l[0]:(a.memoizedState=[t,s],t)}function Fm(t,s){var a=bt();s=s===void 0?null:s;var l=a.memoizedState;if(s!==null&&nd(s,l[1]))return l[0];if(l=t(),ws){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,s],l}function pd(t,s,a){return a===void 0||(Ii&1073741824)!==0?t.memoizedState=s:(t.memoizedState=a,t=Qv(),ke.lanes|=t,zi|=t,a)}function Wm(t,s,a,l){return rn(a,s)?a:fr.current!==null?(t=pd(t,a,l),rn(t,s)||(xt=!0),t):(Ii&42)===0?(xt=!0,t.memoizedState=a):(t=Qv(),ke.lanes|=t,zi|=t,s)}function Km(t,s,a,l,u){var f=ie.p;ie.p=f!==0&&8>f?f:8;var v=L.T,y={};L.T=y,vd(t,!1,s,a);try{var S=u(),I=L.S;if(I!==null&&I(y,S),S!==null&&typeof S=="object"&&typeof S.then=="function"){var $=SC(S,l);Ra(t,s,$,un(t))}else Ra(t,s,l,un(t))}catch(Y){Ra(t,s,{then:function(){},status:"rejected",reason:Y},un())}finally{ie.p=f,L.T=v}}function xC(){}function gd(t,s,a,l){if(t.tag!==5)throw Error(r(476));var u=Qm(t).queue;Km(t,u,s,fe,a===null?xC:function(){return Xm(t),a(l)})}function Qm(t){var s=t.memoizedState;if(s!==null)return s;s={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:fe},next:null};var a={};return s.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:si,lastRenderedState:a},next:null},t.memoizedState=s,t=t.alternate,t!==null&&(t.memoizedState=s),s}function Xm(t){var s=Qm(t).next.queue;Ra(t,s,{},un())}function md(){return Ht(Fa)}function Zm(){return bt().memoizedState}function Jm(){return bt().memoizedState}function NC(t){for(var s=t.return;s!==null;){switch(s.tag){case 24:case 3:var a=un();t=Ai(a);var l=Di(s,t,a);l!==null&&(dn(l,s,a),Ca(l,s,a)),s={cache:Yu()},t.payload=s;return}s=s.return}}function RC(t,s,a){var l=un();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},vl(t)?tv(s,a):(a=Lu(t,s,a,l),a!==null&&(dn(a,t,l),nv(a,s,l)))}function ev(t,s,a){var l=un();Ra(t,s,a,l)}function Ra(t,s,a,l){var u={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(vl(t))tv(s,u);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=s.lastRenderedReducer,f!==null))try{var v=s.lastRenderedState,y=f(v,a);if(u.hasEagerState=!0,u.eagerState=y,rn(y,v))return el(t,s,u,0),st===null&&Jo(),!1}catch{}finally{}if(a=Lu(t,s,u,l),a!==null)return dn(a,t,l),nv(a,s,l),!0}return!1}function vd(t,s,a,l){if(l={lane:2,revertLane:Kd(),action:l,hasEagerState:!1,eagerState:null,next:null},vl(t)){if(s)throw Error(r(479))}else s=Lu(t,a,l,2),s!==null&&dn(s,t,2)}function vl(t){var s=t.alternate;return t===ke||s!==null&&s===ke}function tv(t,s){hr=dl=!0;var a=t.pending;a===null?s.next=s:(s.next=a.next,a.next=s),t.pending=s}function nv(t,s,a){if((a&4194048)!==0){var l=s.lanes;l&=t.pendingLanes,a|=l,s.lanes=a,cu(t,a)}}var yl={readContext:Ht,use:hl,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},iv={readContext:Ht,use:hl,useCallback:function(t,s){return Xt().memoizedState=[t,s===void 0?null:s],t},useContext:Ht,useEffect:Hm,useImperativeHandle:function(t,s,a){a=a!=null?a.concat([t]):null,ml(4194308,4,Gm.bind(null,s,t),a)},useLayoutEffect:function(t,s){return ml(4194308,4,t,s)},useInsertionEffect:function(t,s){ml(4,2,t,s)},useMemo:function(t,s){var a=Xt();s=s===void 0?null:s;var l=t();if(ws){zn(!0);try{t()}finally{zn(!1)}}return a.memoizedState=[l,s],l},useReducer:function(t,s,a){var l=Xt();if(a!==void 0){var u=a(s);if(ws){zn(!0);try{a(s)}finally{zn(!1)}}}else u=s;return l.memoizedState=l.baseState=u,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:u},l.queue=t,t=t.dispatch=RC.bind(null,ke,t),[l.memoizedState,t]},useRef:function(t){var s=Xt();return t={current:t},s.memoizedState=t},useState:function(t){t=dd(t);var s=t.queue,a=ev.bind(null,ke,s);return s.dispatch=a,[t.memoizedState,a]},useDebugValue:hd,useDeferredValue:function(t,s){var a=Xt();return pd(a,t,s)},useTransition:function(){var t=dd(!1);return t=Km.bind(null,ke,t.queue,!0,!1),Xt().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,s,a){var l=ke,u=Xt();if(We){if(a===void 0)throw Error(r(407));a=a()}else{if(a=s(),st===null)throw Error(r(349));(qe&124)!==0||Tm(l,s,a)}u.memoizedState=a;var f={value:a,getSnapshot:s};return u.queue=f,Hm(Om.bind(null,l,f,t),[t]),l.flags|=2048,gr(9,gl(),wm.bind(null,l,f,a,s),null),a},useId:function(){var t=Xt(),s=st.identifierPrefix;if(We){var a=ti,l=ei;a=(l&~(1<<32-zt(l)-1)).toString(32)+a,s=""+s+"R"+a,a=fl++,0<a&&(s+="H"+a.toString(32)),s+=""}else a=CC++,s=""+s+"r"+a.toString(32)+"";return t.memoizedState=s},useHostTransitionStatus:md,useFormState:Mm,useActionState:Mm,useOptimistic:function(t){var s=Xt();s.memoizedState=s.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=a,s=vd.bind(null,ke,!0,a),a.dispatch=s,[t,s]},useMemoCache:ld,useCacheRefresh:function(){return Xt().memoizedState=NC.bind(null,ke)}},sv={readContext:Ht,use:hl,useCallback:Ym,useContext:Ht,useEffect:Bm,useImperativeHandle:qm,useInsertionEffect:Vm,useLayoutEffect:$m,useMemo:Fm,useReducer:pl,useRef:zm,useState:function(){return pl(si)},useDebugValue:hd,useDeferredValue:function(t,s){var a=bt();return Wm(a,Ze.memoizedState,t,s)},useTransition:function(){var t=pl(si)[0],s=bt().memoizedState;return[typeof t=="boolean"?t:xa(t),s]},useSyncExternalStore:Cm,useId:Zm,useHostTransitionStatus:md,useFormState:Lm,useActionState:Lm,useOptimistic:function(t,s){var a=bt();return Rm(a,Ze,t,s)},useMemoCache:ld,useCacheRefresh:Jm},AC={readContext:Ht,use:hl,useCallback:Ym,useContext:Ht,useEffect:Bm,useImperativeHandle:qm,useInsertionEffect:Vm,useLayoutEffect:$m,useMemo:Fm,useReducer:ud,useRef:zm,useState:function(){return ud(si)},useDebugValue:hd,useDeferredValue:function(t,s){var a=bt();return Ze===null?pd(a,t,s):Wm(a,Ze.memoizedState,t,s)},useTransition:function(){var t=ud(si)[0],s=bt().memoizedState;return[typeof t=="boolean"?t:xa(t),s]},useSyncExternalStore:Cm,useId:Zm,useHostTransitionStatus:md,useFormState:Um,useActionState:Um,useOptimistic:function(t,s){var a=bt();return Ze!==null?Rm(a,Ze,t,s):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:ld,useCacheRefresh:Jm},mr=null,Aa=0;function _l(t){var s=Aa;return Aa+=1,mr===null&&(mr=[]),gm(mr,t,s)}function Da(t,s){s=s.props.ref,t.ref=s!==void 0?s:null}function bl(t,s){throw s.$$typeof===b?Error(r(525)):(t=Object.prototype.toString.call(s),Error(r(31,t==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":t)))}function rv(t){var s=t._init;return s(t._payload)}function av(t){function s(x,O){if(t){var D=x.deletions;D===null?(x.deletions=[O],x.flags|=16):D.push(O)}}function a(x,O){if(!t)return null;for(;O!==null;)s(x,O),O=O.sibling;return null}function l(x){for(var O=new Map;x!==null;)x.key!==null?O.set(x.key,x):O.set(x.index,x),x=x.sibling;return O}function u(x,O){return x=Jn(x,O),x.index=0,x.sibling=null,x}function f(x,O,D){return x.index=D,t?(D=x.alternate,D!==null?(D=D.index,D<O?(x.flags|=67108866,O):D):(x.flags|=67108866,O)):(x.flags|=1048576,O)}function v(x){return t&&x.alternate===null&&(x.flags|=67108866),x}function y(x,O,D,q){return O===null||O.tag!==6?(O=Uu(D,x.mode,q),O.return=x,O):(O=u(O,D),O.return=x,O)}function S(x,O,D,q){var de=D.type;return de===T?$(x,O,D.props.children,q,D.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&rv(de)===O.type)?(O=u(O,D.props),Da(O,D),O.return=x,O):(O=nl(D.type,D.key,D.props,null,x.mode,q),Da(O,D),O.return=x,O)}function I(x,O,D,q){return O===null||O.tag!==4||O.stateNode.containerInfo!==D.containerInfo||O.stateNode.implementation!==D.implementation?(O=zu(D,x.mode,q),O.return=x,O):(O=u(O,D.children||[]),O.return=x,O)}function $(x,O,D,q,de){return O===null||O.tag!==7?(O=vs(D,x.mode,q,de),O.return=x,O):(O=u(O,D),O.return=x,O)}function Y(x,O,D){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=Uu(""+O,x.mode,D),O.return=x,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case E:return D=nl(O.type,O.key,O.props,null,x.mode,D),Da(D,O),D.return=x,D;case w:return O=zu(O,x.mode,D),O.return=x,O;case se:var q=O._init;return O=q(O._payload),Y(x,O,D)}if(Be(O)||pe(O))return O=vs(O,x.mode,D,null),O.return=x,O;if(typeof O.then=="function")return Y(x,_l(O),D);if(O.$$typeof===X)return Y(x,al(x,O),D);bl(x,O)}return null}function j(x,O,D,q){var de=O!==null?O.key:null;if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return de!==null?null:y(x,O,""+D,q);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case E:return D.key===de?S(x,O,D,q):null;case w:return D.key===de?I(x,O,D,q):null;case se:return de=D._init,D=de(D._payload),j(x,O,D,q)}if(Be(D)||pe(D))return de!==null?null:$(x,O,D,q,null);if(typeof D.then=="function")return j(x,O,_l(D),q);if(D.$$typeof===X)return j(x,O,al(x,D),q);bl(x,D)}return null}function M(x,O,D,q,de){if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return x=x.get(D)||null,y(O,x,""+q,de);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case E:return x=x.get(q.key===null?D:q.key)||null,S(O,x,q,de);case w:return x=x.get(q.key===null?D:q.key)||null,I(O,x,q,de);case se:var je=q._init;return q=je(q._payload),M(x,O,D,q,de)}if(Be(q)||pe(q))return x=x.get(D)||null,$(O,x,q,de,null);if(typeof q.then=="function")return M(x,O,D,_l(q),de);if(q.$$typeof===X)return M(x,O,D,al(O,q),de);bl(O,q)}return null}function we(x,O,D,q){for(var de=null,je=null,ge=O,Se=O=0,Rt=null;ge!==null&&Se<D.length;Se++){ge.index>Se?(Rt=ge,ge=null):Rt=ge.sibling;var Ye=j(x,ge,D[Se],q);if(Ye===null){ge===null&&(ge=Rt);break}t&&ge&&Ye.alternate===null&&s(x,ge),O=f(Ye,O,Se),je===null?de=Ye:je.sibling=Ye,je=Ye,ge=Rt}if(Se===D.length)return a(x,ge),We&&_s(x,Se),de;if(ge===null){for(;Se<D.length;Se++)ge=Y(x,D[Se],q),ge!==null&&(O=f(ge,O,Se),je===null?de=ge:je.sibling=ge,je=ge);return We&&_s(x,Se),de}for(ge=l(ge);Se<D.length;Se++)Rt=M(ge,x,Se,D[Se],q),Rt!==null&&(t&&Rt.alternate!==null&&ge.delete(Rt.key===null?Se:Rt.key),O=f(Rt,O,Se),je===null?de=Rt:je.sibling=Rt,je=Rt);return t&&ge.forEach(function(Wi){return s(x,Wi)}),We&&_s(x,Se),de}function be(x,O,D,q){if(D==null)throw Error(r(151));for(var de=null,je=null,ge=O,Se=O=0,Rt=null,Ye=D.next();ge!==null&&!Ye.done;Se++,Ye=D.next()){ge.index>Se?(Rt=ge,ge=null):Rt=ge.sibling;var Wi=j(x,ge,Ye.value,q);if(Wi===null){ge===null&&(ge=Rt);break}t&&ge&&Wi.alternate===null&&s(x,ge),O=f(Wi,O,Se),je===null?de=Wi:je.sibling=Wi,je=Wi,ge=Rt}if(Ye.done)return a(x,ge),We&&_s(x,Se),de;if(ge===null){for(;!Ye.done;Se++,Ye=D.next())Ye=Y(x,Ye.value,q),Ye!==null&&(O=f(Ye,O,Se),je===null?de=Ye:je.sibling=Ye,je=Ye);return We&&_s(x,Se),de}for(ge=l(ge);!Ye.done;Se++,Ye=D.next())Ye=M(ge,x,Se,Ye.value,q),Ye!==null&&(t&&Ye.alternate!==null&&ge.delete(Ye.key===null?Se:Ye.key),O=f(Ye,O,Se),je===null?de=Ye:je.sibling=Ye,je=Ye);return t&&ge.forEach(function(DT){return s(x,DT)}),We&&_s(x,Se),de}function et(x,O,D,q){if(typeof D=="object"&&D!==null&&D.type===T&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case E:e:{for(var de=D.key;O!==null;){if(O.key===de){if(de=D.type,de===T){if(O.tag===7){a(x,O.sibling),q=u(O,D.props.children),q.return=x,x=q;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===se&&rv(de)===O.type){a(x,O.sibling),q=u(O,D.props),Da(q,D),q.return=x,x=q;break e}a(x,O);break}else s(x,O);O=O.sibling}D.type===T?(q=vs(D.props.children,x.mode,q,D.key),q.return=x,x=q):(q=nl(D.type,D.key,D.props,null,x.mode,q),Da(q,D),q.return=x,x=q)}return v(x);case w:e:{for(de=D.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===D.containerInfo&&O.stateNode.implementation===D.implementation){a(x,O.sibling),q=u(O,D.children||[]),q.return=x,x=q;break e}else{a(x,O);break}else s(x,O);O=O.sibling}q=zu(D,x.mode,q),q.return=x,x=q}return v(x);case se:return de=D._init,D=de(D._payload),et(x,O,D,q)}if(Be(D))return we(x,O,D,q);if(pe(D)){if(de=pe(D),typeof de!="function")throw Error(r(150));return D=de.call(D),be(x,O,D,q)}if(typeof D.then=="function")return et(x,O,_l(D),q);if(D.$$typeof===X)return et(x,O,al(x,D),q);bl(x,D)}return typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint"?(D=""+D,O!==null&&O.tag===6?(a(x,O.sibling),q=u(O,D),q.return=x,x=q):(a(x,O),q=Uu(D,x.mode,q),q.return=x,x=q),v(x)):a(x,O)}return function(x,O,D,q){try{Aa=0;var de=et(x,O,D,q);return mr=null,de}catch(ge){if(ge===Ea||ge===ll)throw ge;var je=an(29,ge,null,x.mode);return je.lanes=q,je.return=x,je}finally{}}}var vr=av(!0),ov=av(!1),En=G(null),Vn=null;function ki(t){var s=t.alternate;F(St,St.current&1),F(En,t),Vn===null&&(s===null||fr.current!==null||s.memoizedState!==null)&&(Vn=t)}function lv(t){if(t.tag===22){if(F(St,St.current),F(En,t),Vn===null){var s=t.alternate;s!==null&&s.memoizedState!==null&&(Vn=t)}}else ji()}function ji(){F(St,St.current),F(En,En.current)}function ri(t){B(En),Vn===t&&(Vn=null),B(St)}var St=G(0);function El(t){for(var s=t;s!==null;){if(s.tag===13){var a=s.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||lf(a)))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}function yd(t,s,a,l){s=t.memoizedState,a=a(l,s),a=a==null?s:_({},s,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var _d={enqueueSetState:function(t,s,a){t=t._reactInternals;var l=un(),u=Ai(l);u.payload=s,a!=null&&(u.callback=a),s=Di(t,u,l),s!==null&&(dn(s,t,l),Ca(s,t,l))},enqueueReplaceState:function(t,s,a){t=t._reactInternals;var l=un(),u=Ai(l);u.tag=1,u.payload=s,a!=null&&(u.callback=a),s=Di(t,u,l),s!==null&&(dn(s,t,l),Ca(s,t,l))},enqueueForceUpdate:function(t,s){t=t._reactInternals;var a=un(),l=Ai(a);l.tag=2,s!=null&&(l.callback=s),s=Di(t,l,a),s!==null&&(dn(s,t,a),Ca(s,t,a))}};function cv(t,s,a,l,u,f,v){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,v):s.prototype&&s.prototype.isPureReactComponent?!ha(a,l)||!ha(u,f):!0}function uv(t,s,a,l){t=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(a,l),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(a,l),s.state!==t&&_d.enqueueReplaceState(s,s.state,null)}function Os(t,s){var a=s;if("ref"in s){a={};for(var l in s)l!=="ref"&&(a[l]=s[l])}if(t=t.defaultProps){a===s&&(a=_({},a));for(var u in t)a[u]===void 0&&(a[u]=t[u])}return a}var Sl=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function dv(t){Sl(t)}function fv(t){console.error(t)}function hv(t){Sl(t)}function Cl(t,s){try{var a=t.onUncaughtError;a(s.value,{componentStack:s.stack})}catch(l){setTimeout(function(){throw l})}}function pv(t,s,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function bd(t,s,a){return a=Ai(a),a.tag=3,a.payload={element:null},a.callback=function(){Cl(t,s)},a}function gv(t){return t=Ai(t),t.tag=3,t}function mv(t,s,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var f=l.value;t.payload=function(){return u(f)},t.callback=function(){pv(s,a,l)}}var v=a.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(t.callback=function(){pv(s,a,l),typeof u!="function"&&(Hi===null?Hi=new Set([this]):Hi.add(this));var y=l.stack;this.componentDidCatch(l.value,{componentStack:y!==null?y:""})})}function DC(t,s,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(s=a.alternate,s!==null&&ya(s,a,u,!0),a=En.current,a!==null){switch(a.tag){case 13:return Vn===null?Gd():a.alternate===null&&ht===0&&(ht=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===Ku?a.flags|=16384:(s=a.updateQueue,s===null?a.updateQueue=new Set([l]):s.add(l),Yd(t,l,u)),!1;case 22:return a.flags|=65536,l===Ku?a.flags|=16384:(s=a.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=s):(a=s.retryQueue,a===null?s.retryQueue=new Set([l]):a.add(l)),Yd(t,l,u)),!1}throw Error(r(435,a.tag))}return Yd(t,l,u),Gd(),!1}if(We)return s=En.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=u,l!==Vu&&(t=Error(r(422),{cause:l}),va(vn(t,a)))):(l!==Vu&&(s=Error(r(423),{cause:l}),va(vn(s,a))),t=t.current.alternate,t.flags|=65536,u&=-u,t.lanes|=u,l=vn(l,a),u=bd(t.stateNode,l,u),Zu(t,u),ht!==4&&(ht=2)),!1;var f=Error(r(520),{cause:l});if(f=vn(f,a),Ua===null?Ua=[f]:Ua.push(f),ht!==4&&(ht=2),s===null)return!0;l=vn(l,a),a=s;do{switch(a.tag){case 3:return a.flags|=65536,t=u&-u,a.lanes|=t,t=bd(a.stateNode,l,t),Zu(a,t),!1;case 1:if(s=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Hi===null||!Hi.has(f))))return a.flags|=65536,u&=-u,a.lanes|=u,u=gv(u),mv(u,t,a,l),Zu(a,u),!1}a=a.return}while(a!==null);return!1}var vv=Error(r(461)),xt=!1;function Mt(t,s,a,l){s.child=t===null?ov(s,null,a,l):vr(s,t.child,a,l)}function yv(t,s,a,l,u){a=a.render;var f=s.ref;if("ref"in l){var v={};for(var y in l)y!=="ref"&&(v[y]=l[y])}else v=l;return Cs(s),l=id(t,s,a,v,f,u),y=sd(),t!==null&&!xt?(rd(t,s,u),ai(t,s,u)):(We&&y&&Hu(s),s.flags|=1,Mt(t,s,l,u),s.child)}function _v(t,s,a,l,u){if(t===null){var f=a.type;return typeof f=="function"&&!Pu(f)&&f.defaultProps===void 0&&a.compare===null?(s.tag=15,s.type=f,bv(t,s,f,l,u)):(t=nl(a.type,null,l,s,s.mode,u),t.ref=s.ref,t.return=s,s.child=t)}if(f=t.child,!Nd(t,u)){var v=f.memoizedProps;if(a=a.compare,a=a!==null?a:ha,a(v,l)&&t.ref===s.ref)return ai(t,s,u)}return s.flags|=1,t=Jn(f,l),t.ref=s.ref,t.return=s,s.child=t}function bv(t,s,a,l,u){if(t!==null){var f=t.memoizedProps;if(ha(f,l)&&t.ref===s.ref)if(xt=!1,s.pendingProps=l=f,Nd(t,u))(t.flags&131072)!==0&&(xt=!0);else return s.lanes=t.lanes,ai(t,s,u)}return Ed(t,s,a,l,u)}function Ev(t,s,a){var l=s.pendingProps,u=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((s.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(u=s.child=t.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;s.childLanes=f&~l}else s.childLanes=0,s.child=null;return Sv(t,s,l,a)}if((a&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},t!==null&&ol(s,f!==null?f.cachePool:null),f!==null?bm(s,f):ed(),lv(s);else return s.lanes=s.childLanes=536870912,Sv(t,s,f!==null?f.baseLanes|a:a,a)}else f!==null?(ol(s,f.cachePool),bm(s,f),ji(),s.memoizedState=null):(t!==null&&ol(s,null),ed(),ji());return Mt(t,s,u,a),s.child}function Sv(t,s,a,l){var u=Wu();return u=u===null?null:{parent:Et._currentValue,pool:u},s.memoizedState={baseLanes:a,cachePool:u},t!==null&&ol(s,null),ed(),lv(s),t!==null&&ya(t,s,l,!0),null}function Tl(t,s){var a=s.ref;if(a===null)t!==null&&t.ref!==null&&(s.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(t===null||t.ref!==a)&&(s.flags|=4194816)}}function Ed(t,s,a,l,u){return Cs(s),a=id(t,s,a,l,void 0,u),l=sd(),t!==null&&!xt?(rd(t,s,u),ai(t,s,u)):(We&&l&&Hu(s),s.flags|=1,Mt(t,s,a,u),s.child)}function Cv(t,s,a,l,u,f){return Cs(s),s.updateQueue=null,a=Sm(s,l,a,u),Em(t),l=sd(),t!==null&&!xt?(rd(t,s,f),ai(t,s,f)):(We&&l&&Hu(s),s.flags|=1,Mt(t,s,a,f),s.child)}function Tv(t,s,a,l,u){if(Cs(s),s.stateNode===null){var f=or,v=a.contextType;typeof v=="object"&&v!==null&&(f=Ht(v)),f=new a(l,f),s.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=_d,s.stateNode=f,f._reactInternals=s,f=s.stateNode,f.props=l,f.state=s.memoizedState,f.refs={},Qu(s),v=a.contextType,f.context=typeof v=="object"&&v!==null?Ht(v):or,f.state=s.memoizedState,v=a.getDerivedStateFromProps,typeof v=="function"&&(yd(s,a,v,l),f.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(v=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),v!==f.state&&_d.enqueueReplaceState(f,f.state,null),wa(s,l,f,u),Ta(),f.state=s.memoizedState),typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!0}else if(t===null){f=s.stateNode;var y=s.memoizedProps,S=Os(a,y);f.props=S;var I=f.context,$=a.contextType;v=or,typeof $=="object"&&$!==null&&(v=Ht($));var Y=a.getDerivedStateFromProps;$=typeof Y=="function"||typeof f.getSnapshotBeforeUpdate=="function",y=s.pendingProps!==y,$||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y||I!==v)&&uv(s,f,l,v),Ri=!1;var j=s.memoizedState;f.state=j,wa(s,l,f,u),Ta(),I=s.memoizedState,y||j!==I||Ri?(typeof Y=="function"&&(yd(s,a,Y,l),I=s.memoizedState),(S=Ri||cv(s,a,S,l,j,I,v))?($||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(s.flags|=4194308)):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=l,s.memoizedState=I),f.props=l,f.state=I,f.context=v,l=S):(typeof f.componentDidMount=="function"&&(s.flags|=4194308),l=!1)}else{f=s.stateNode,Xu(t,s),v=s.memoizedProps,$=Os(a,v),f.props=$,Y=s.pendingProps,j=f.context,I=a.contextType,S=or,typeof I=="object"&&I!==null&&(S=Ht(I)),y=a.getDerivedStateFromProps,(I=typeof y=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v!==Y||j!==S)&&uv(s,f,l,S),Ri=!1,j=s.memoizedState,f.state=j,wa(s,l,f,u),Ta();var M=s.memoizedState;v!==Y||j!==M||Ri||t!==null&&t.dependencies!==null&&rl(t.dependencies)?(typeof y=="function"&&(yd(s,a,y,l),M=s.memoizedState),($=Ri||cv(s,a,$,l,j,M,S)||t!==null&&t.dependencies!==null&&rl(t.dependencies))?(I||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,M,S),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,M,S)),typeof f.componentDidUpdate=="function"&&(s.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),s.memoizedProps=l,s.memoizedState=M),f.props=l,f.state=M,f.context=S,l=$):(typeof f.componentDidUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(s.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||v===t.memoizedProps&&j===t.memoizedState||(s.flags|=1024),l=!1)}return f=l,Tl(t,s),l=(s.flags&128)!==0,f||l?(f=s.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),s.flags|=1,t!==null&&l?(s.child=vr(s,t.child,null,u),s.child=vr(s,null,a,u)):Mt(t,s,a,u),s.memoizedState=f.state,t=s.child):t=ai(t,s,u),t}function wv(t,s,a,l){return ma(),s.flags|=256,Mt(t,s,a,l),s.child}var Sd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Cd(t){return{baseLanes:t,cachePool:fm()}}function Td(t,s,a){return t=t!==null?t.childLanes&~a:0,s&&(t|=Sn),t}function Ov(t,s,a){var l=s.pendingProps,u=!1,f=(s.flags&128)!==0,v;if((v=f)||(v=t!==null&&t.memoizedState===null?!1:(St.current&2)!==0),v&&(u=!0,s.flags&=-129),v=(s.flags&32)!==0,s.flags&=-33,t===null){if(We){if(u?ki(s):ji(),We){var y=ft,S;if(S=y){e:{for(S=y,y=Bn;S.nodeType!==8;){if(!y){y=null;break e}if(S=An(S.nextSibling),S===null){y=null;break e}}y=S}y!==null?(s.memoizedState={dehydrated:y,treeContext:ys!==null?{id:ei,overflow:ti}:null,retryLane:536870912,hydrationErrors:null},S=an(18,null,null,0),S.stateNode=y,S.return=s,s.child=S,Yt=s,ft=null,S=!0):S=!1}S||Es(s)}if(y=s.memoizedState,y!==null&&(y=y.dehydrated,y!==null))return lf(y)?s.lanes=32:s.lanes=536870912,null;ri(s)}return y=l.children,l=l.fallback,u?(ji(),u=s.mode,y=wl({mode:"hidden",children:y},u),l=vs(l,u,a,null),y.return=s,l.return=s,y.sibling=l,s.child=y,u=s.child,u.memoizedState=Cd(a),u.childLanes=Td(t,v,a),s.memoizedState=Sd,l):(ki(s),wd(s,y))}if(S=t.memoizedState,S!==null&&(y=S.dehydrated,y!==null)){if(f)s.flags&256?(ki(s),s.flags&=-257,s=Od(t,s,a)):s.memoizedState!==null?(ji(),s.child=t.child,s.flags|=128,s=null):(ji(),u=l.fallback,y=s.mode,l=wl({mode:"visible",children:l.children},y),u=vs(u,y,a,null),u.flags|=2,l.return=s,u.return=s,l.sibling=u,s.child=l,vr(s,t.child,null,a),l=s.child,l.memoizedState=Cd(a),l.childLanes=Td(t,v,a),s.memoizedState=Sd,s=u);else if(ki(s),lf(y)){if(v=y.nextSibling&&y.nextSibling.dataset,v)var I=v.dgst;v=I,l=Error(r(419)),l.stack="",l.digest=v,va({value:l,source:null,stack:null}),s=Od(t,s,a)}else if(xt||ya(t,s,a,!1),v=(a&t.childLanes)!==0,xt||v){if(v=st,v!==null&&(l=a&-a,l=(l&42)!==0?1:Vo(l),l=(l&(v.suspendedLanes|a))!==0?0:l,l!==0&&l!==S.retryLane))throw S.retryLane=l,ar(t,l),dn(v,t,l),vv;y.data==="$?"||Gd(),s=Od(t,s,a)}else y.data==="$?"?(s.flags|=192,s.child=t.child,s=null):(t=S.treeContext,ft=An(y.nextSibling),Yt=s,We=!0,bs=null,Bn=!1,t!==null&&(_n[bn++]=ei,_n[bn++]=ti,_n[bn++]=ys,ei=t.id,ti=t.overflow,ys=s),s=wd(s,l.children),s.flags|=4096);return s}return u?(ji(),u=l.fallback,y=s.mode,S=t.child,I=S.sibling,l=Jn(S,{mode:"hidden",children:l.children}),l.subtreeFlags=S.subtreeFlags&65011712,I!==null?u=Jn(I,u):(u=vs(u,y,a,null),u.flags|=2),u.return=s,l.return=s,l.sibling=u,s.child=l,l=u,u=s.child,y=t.child.memoizedState,y===null?y=Cd(a):(S=y.cachePool,S!==null?(I=Et._currentValue,S=S.parent!==I?{parent:I,pool:I}:S):S=fm(),y={baseLanes:y.baseLanes|a,cachePool:S}),u.memoizedState=y,u.childLanes=Td(t,v,a),s.memoizedState=Sd,l):(ki(s),a=t.child,t=a.sibling,a=Jn(a,{mode:"visible",children:l.children}),a.return=s,a.sibling=null,t!==null&&(v=s.deletions,v===null?(s.deletions=[t],s.flags|=16):v.push(t)),s.child=a,s.memoizedState=null,a)}function wd(t,s){return s=wl({mode:"visible",children:s},t.mode),s.return=t,t.child=s}function wl(t,s){return t=an(22,t,null,s),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function Od(t,s,a){return vr(s,t.child,null,a),t=wd(s,s.pendingProps.children),t.flags|=2,s.memoizedState=null,t}function xv(t,s,a){t.lanes|=s;var l=t.alternate;l!==null&&(l.lanes|=s),Gu(t.return,s,a)}function xd(t,s,a,l,u){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u}:(f.isBackwards=s,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=u)}function Nv(t,s,a){var l=s.pendingProps,u=l.revealOrder,f=l.tail;if(Mt(t,s,l.children,a),l=St.current,(l&2)!==0)l=l&1|2,s.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=s.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xv(t,a,s);else if(t.tag===19)xv(t,a,s);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===s)break e;for(;t.sibling===null;){if(t.return===null||t.return===s)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(F(St,l),u){case"forwards":for(a=s.child,u=null;a!==null;)t=a.alternate,t!==null&&El(t)===null&&(u=a),a=a.sibling;a=u,a===null?(u=s.child,s.child=null):(u=a.sibling,a.sibling=null),xd(s,!1,u,a,f);break;case"backwards":for(a=null,u=s.child,s.child=null;u!==null;){if(t=u.alternate,t!==null&&El(t)===null){s.child=u;break}t=u.sibling,u.sibling=a,a=u,u=t}xd(s,!0,a,null,f);break;case"together":xd(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function ai(t,s,a){if(t!==null&&(s.dependencies=t.dependencies),zi|=s.lanes,(a&s.childLanes)===0)if(t!==null){if(ya(t,s,a,!1),(a&s.childLanes)===0)return null}else return null;if(t!==null&&s.child!==t.child)throw Error(r(153));if(s.child!==null){for(t=s.child,a=Jn(t,t.pendingProps),s.child=a,a.return=s;t.sibling!==null;)t=t.sibling,a=a.sibling=Jn(t,t.pendingProps),a.return=s;a.sibling=null}return s.child}function Nd(t,s){return(t.lanes&s)!==0?!0:(t=t.dependencies,!!(t!==null&&rl(t)))}function IC(t,s,a){switch(s.tag){case 3:k(s,s.stateNode.containerInfo),Ni(s,Et,t.memoizedState.cache),ma();break;case 27:case 5:me(s);break;case 4:k(s,s.stateNode.containerInfo);break;case 10:Ni(s,s.type,s.memoizedProps.value);break;case 13:var l=s.memoizedState;if(l!==null)return l.dehydrated!==null?(ki(s),s.flags|=128,null):(a&s.child.childLanes)!==0?Ov(t,s,a):(ki(s),t=ai(t,s,a),t!==null?t.sibling:null);ki(s);break;case 19:var u=(t.flags&128)!==0;if(l=(a&s.childLanes)!==0,l||(ya(t,s,a,!1),l=(a&s.childLanes)!==0),u){if(l)return Nv(t,s,a);s.flags|=128}if(u=s.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),F(St,St.current),l)break;return null;case 22:case 23:return s.lanes=0,Ev(t,s,a);case 24:Ni(s,Et,t.memoizedState.cache)}return ai(t,s,a)}function Rv(t,s,a){if(t!==null)if(t.memoizedProps!==s.pendingProps)xt=!0;else{if(!Nd(t,a)&&(s.flags&128)===0)return xt=!1,IC(t,s,a);xt=(t.flags&131072)!==0}else xt=!1,We&&(s.flags&1048576)!==0&&rm(s,sl,s.index);switch(s.lanes=0,s.tag){case 16:e:{t=s.pendingProps;var l=s.elementType,u=l._init;if(l=u(l._payload),s.type=l,typeof l=="function")Pu(l)?(t=Os(l,t),s.tag=1,s=Tv(null,s,l,t,a)):(s.tag=0,s=Ed(null,s,l,t,a));else{if(l!=null){if(u=l.$$typeof,u===Z){s.tag=11,s=yv(null,s,l,t,a);break e}else if(u===ce){s.tag=14,s=_v(null,s,l,t,a);break e}}throw s=Ke(l)||l,Error(r(306,s,""))}}return s;case 0:return Ed(t,s,s.type,s.pendingProps,a);case 1:return l=s.type,u=Os(l,s.pendingProps),Tv(t,s,l,u,a);case 3:e:{if(k(s,s.stateNode.containerInfo),t===null)throw Error(r(387));l=s.pendingProps;var f=s.memoizedState;u=f.element,Xu(t,s),wa(s,l,null,a);var v=s.memoizedState;if(l=v.cache,Ni(s,Et,l),l!==f.cache&&qu(s,[Et],a,!0),Ta(),l=v.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:v.cache},s.updateQueue.baseState=f,s.memoizedState=f,s.flags&256){s=wv(t,s,l,a);break e}else if(l!==u){u=vn(Error(r(424)),s),va(u),s=wv(t,s,l,a);break e}else{switch(t=s.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ft=An(t.firstChild),Yt=s,We=!0,bs=null,Bn=!0,a=ov(s,null,l,a),s.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ma(),l===u){s=ai(t,s,a);break e}Mt(t,s,l,a)}s=s.child}return s;case 26:return Tl(t,s),t===null?(a=ky(s.type,null,s.pendingProps,null))?s.memoizedState=a:We||(a=s.type,t=s.pendingProps,l=zl(le.current).createElement(a),l[V]=s,l[U]=t,Pt(l,a,t),dt(l),s.stateNode=l):s.memoizedState=ky(s.type,t.memoizedProps,s.pendingProps,t.memoizedState),null;case 27:return me(s),t===null&&We&&(l=s.stateNode=Ay(s.type,s.pendingProps,le.current),Yt=s,Bn=!0,u=ft,$i(s.type)?(cf=u,ft=An(l.firstChild)):ft=u),Mt(t,s,s.pendingProps.children,a),Tl(t,s),t===null&&(s.flags|=4194304),s.child;case 5:return t===null&&We&&((u=l=ft)&&(l=aT(l,s.type,s.pendingProps,Bn),l!==null?(s.stateNode=l,Yt=s,ft=An(l.firstChild),Bn=!1,u=!0):u=!1),u||Es(s)),me(s),u=s.type,f=s.pendingProps,v=t!==null?t.memoizedProps:null,l=f.children,rf(u,f)?l=null:v!==null&&rf(u,v)&&(s.flags|=32),s.memoizedState!==null&&(u=id(t,s,TC,null,null,a),Fa._currentValue=u),Tl(t,s),Mt(t,s,l,a),s.child;case 6:return t===null&&We&&((t=a=ft)&&(a=oT(a,s.pendingProps,Bn),a!==null?(s.stateNode=a,Yt=s,ft=null,t=!0):t=!1),t||Es(s)),null;case 13:return Ov(t,s,a);case 4:return k(s,s.stateNode.containerInfo),l=s.pendingProps,t===null?s.child=vr(s,null,l,a):Mt(t,s,l,a),s.child;case 11:return yv(t,s,s.type,s.pendingProps,a);case 7:return Mt(t,s,s.pendingProps,a),s.child;case 8:return Mt(t,s,s.pendingProps.children,a),s.child;case 12:return Mt(t,s,s.pendingProps.children,a),s.child;case 10:return l=s.pendingProps,Ni(s,s.type,l.value),Mt(t,s,l.children,a),s.child;case 9:return u=s.type._context,l=s.pendingProps.children,Cs(s),u=Ht(u),l=l(u),s.flags|=1,Mt(t,s,l,a),s.child;case 14:return _v(t,s,s.type,s.pendingProps,a);case 15:return bv(t,s,s.type,s.pendingProps,a);case 19:return Nv(t,s,a);case 31:return l=s.pendingProps,a=s.mode,l={mode:l.mode,children:l.children},t===null?(a=wl(l,a),a.ref=s.ref,s.child=a,a.return=s,s=a):(a=Jn(t.child,l),a.ref=s.ref,s.child=a,a.return=s,s=a),s;case 22:return Ev(t,s,a);case 24:return Cs(s),l=Ht(Et),t===null?(u=Wu(),u===null&&(u=st,f=Yu(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=a),u=f),s.memoizedState={parent:l,cache:u},Qu(s),Ni(s,Et,u)):((t.lanes&a)!==0&&(Xu(t,s),wa(s,null,null,a),Ta()),u=t.memoizedState,f=s.memoizedState,u.parent!==l?(u={parent:l,cache:l},s.memoizedState=u,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=u),Ni(s,Et,l)):(l=f.cache,Ni(s,Et,l),l!==u.cache&&qu(s,[Et],a,!0))),Mt(t,s,s.pendingProps.children,a),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function oi(t){t.flags|=4}function Av(t,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uy(s)){if(s=En.current,s!==null&&((qe&4194048)===qe?Vn!==null:(qe&62914560)!==qe&&(qe&536870912)===0||s!==Vn))throw Sa=Ku,hm;t.flags|=8192}}function Ol(t,s){s!==null&&(t.flags|=4),t.flags&16384&&(s=t.tag!==22?ou():536870912,t.lanes|=s,Er|=s)}function Ia(t,s){if(!We)switch(t.tailMode){case"hidden":s=t.tail;for(var a=null;s!==null;)s.alternate!==null&&(a=s),s=s.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?s||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var s=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(s)for(var u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=t,u=u.sibling;else for(u=t.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=t,u=u.sibling;return t.subtreeFlags|=l,t.childLanes=a,s}function kC(t,s,a){var l=s.pendingProps;switch(Bu(s),s.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(s),null;case 1:return ut(s),null;case 3:return a=s.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),s.memoizedState.cache!==l&&(s.flags|=2048),ii(Et),oe(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ga(s)?oi(s):t===null||t.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,lm())),ut(s),null;case 26:return a=s.memoizedState,t===null?(oi(s),a!==null?(ut(s),Av(s,a)):(ut(s),s.flags&=-16777217)):a?a!==t.memoizedState?(oi(s),ut(s),Av(s,a)):(ut(s),s.flags&=-16777217):(t.memoizedProps!==l&&oi(s),ut(s),s.flags&=-16777217),null;case 27:Ge(s),a=le.current;var u=s.type;if(t!==null&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ut(s),null}t=ee.current,ga(s)?am(s):(t=Ay(u,l,a),s.stateNode=t,oi(s))}return ut(s),null;case 5:if(Ge(s),a=s.type,t!==null&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(!l){if(s.stateNode===null)throw Error(r(166));return ut(s),null}if(t=ee.current,ga(s))am(s);else{switch(u=zl(le.current),t){case 1:t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=u.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=u.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=u.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?u.createElement("select",{is:l.is}):u.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?u.createElement(a,{is:l.is}):u.createElement(a)}}t[V]=s,t[U]=l;e:for(u=s.child;u!==null;){if(u.tag===5||u.tag===6)t.appendChild(u.stateNode);else if(u.tag!==4&&u.tag!==27&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break e;for(;u.sibling===null;){if(u.return===null||u.return===s)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}s.stateNode=t;e:switch(Pt(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&oi(s)}}return ut(s),s.flags&=-16777217,null;case 6:if(t&&s.stateNode!=null)t.memoizedProps!==l&&oi(s);else{if(typeof l!="string"&&s.stateNode===null)throw Error(r(166));if(t=le.current,ga(s)){if(t=s.stateNode,a=s.memoizedProps,l=null,u=Yt,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}t[V]=s,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Cy(t.nodeValue,a)),t||Es(s)}else t=zl(t).createTextNode(l),t[V]=s,s.stateNode=t}return ut(s),null;case 13:if(l=s.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(u=ga(s),l!==null&&l.dehydrated!==null){if(t===null){if(!u)throw Error(r(318));if(u=s.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[V]=s}else ma(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;ut(s),u=!1}else u=lm(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=u),u=!0;if(!u)return s.flags&256?(ri(s),s):(ri(s),null)}if(ri(s),(s.flags&128)!==0)return s.lanes=a,s;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=s.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==u&&(l.flags|=2048)}return a!==t&&a&&(s.child.flags|=8192),Ol(s,s.updateQueue),ut(s),null;case 4:return oe(),t===null&&Jd(s.stateNode.containerInfo),ut(s),null;case 10:return ii(s.type),ut(s),null;case 19:if(B(St),u=s.memoizedState,u===null)return ut(s),null;if(l=(s.flags&128)!==0,f=u.rendering,f===null)if(l)Ia(u,!1);else{if(ht!==0||t!==null&&(t.flags&128)!==0)for(t=s.child;t!==null;){if(f=El(t),f!==null){for(s.flags|=128,Ia(u,!1),t=f.updateQueue,s.updateQueue=t,Ol(s,t),s.subtreeFlags=0,t=a,a=s.child;a!==null;)sm(a,t),a=a.sibling;return F(St,St.current&1|2),s.child}t=t.sibling}u.tail!==null&&Kt()>Rl&&(s.flags|=128,l=!0,Ia(u,!1),s.lanes=4194304)}else{if(!l)if(t=El(f),t!==null){if(s.flags|=128,l=!0,t=t.updateQueue,s.updateQueue=t,Ol(s,t),Ia(u,!0),u.tail===null&&u.tailMode==="hidden"&&!f.alternate&&!We)return ut(s),null}else 2*Kt()-u.renderingStartTime>Rl&&a!==536870912&&(s.flags|=128,l=!0,Ia(u,!1),s.lanes=4194304);u.isBackwards?(f.sibling=s.child,s.child=f):(t=u.last,t!==null?t.sibling=f:s.child=f,u.last=f)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=Kt(),s.sibling=null,t=St.current,F(St,l?t&1|2:t&1),s):(ut(s),null);case 22:case 23:return ri(s),td(),l=s.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(s.flags|=8192):l&&(s.flags|=8192),l?(a&536870912)!==0&&(s.flags&128)===0&&(ut(s),s.subtreeFlags&6&&(s.flags|=8192)):ut(s),a=s.updateQueue,a!==null&&Ol(s,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),l!==a&&(s.flags|=2048),t!==null&&B(Ts),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),s.memoizedState.cache!==a&&(s.flags|=2048),ii(Et),ut(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function jC(t,s){switch(Bu(s),s.tag){case 1:return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 3:return ii(Et),oe(),t=s.flags,(t&65536)!==0&&(t&128)===0?(s.flags=t&-65537|128,s):null;case 26:case 27:case 5:return Ge(s),null;case 13:if(ri(s),t=s.memoizedState,t!==null&&t.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ma()}return t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 19:return B(St),null;case 4:return oe(),null;case 10:return ii(s.type),null;case 22:case 23:return ri(s),td(),t!==null&&B(Ts),t=s.flags,t&65536?(s.flags=t&-65537|128,s):null;case 24:return ii(Et),null;case 25:return null;default:return null}}function Dv(t,s){switch(Bu(s),s.tag){case 3:ii(Et),oe();break;case 26:case 27:case 5:Ge(s);break;case 4:oe();break;case 13:ri(s);break;case 19:B(St);break;case 10:ii(s.type);break;case 22:case 23:ri(s),td(),t!==null&&B(Ts);break;case 24:ii(Et)}}function ka(t,s){try{var a=s.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&t)===t){l=void 0;var f=a.create,v=a.inst;l=f(),v.destroy=l}a=a.next}while(a!==u)}}catch(y){nt(s,s.return,y)}}function Mi(t,s,a){try{var l=s.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var f=u.next;l=f;do{if((l.tag&t)===t){var v=l.inst,y=v.destroy;if(y!==void 0){v.destroy=void 0,u=s;var S=a,I=y;try{I()}catch($){nt(u,S,$)}}}l=l.next}while(l!==f)}}catch($){nt(s,s.return,$)}}function Iv(t){var s=t.updateQueue;if(s!==null){var a=t.stateNode;try{_m(s,a)}catch(l){nt(t,t.return,l)}}}function kv(t,s,a){a.props=Os(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){nt(t,s,l)}}function ja(t,s){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(u){nt(t,s,u)}}function $n(t,s){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){nt(t,s,u)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){nt(t,s,u)}else a.current=null}function jv(t){var s=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){nt(t,t.return,u)}}function Rd(t,s,a){try{var l=t.stateNode;tT(l,t.type,a,s),l[U]=s}catch(u){nt(t,t.return,u)}}function Mv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&$i(t.type)||t.tag===4}function Ad(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Mv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&$i(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Dd(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,s):(s=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,s.appendChild(t),a=a._reactRootContainer,a!=null||s.onclick!==null||(s.onclick=Ul));else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode,s=null),t=t.child,t!==null))for(Dd(t,s,a),t=t.sibling;t!==null;)Dd(t,s,a),t=t.sibling}function xl(t,s,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,s?a.insertBefore(t,s):a.appendChild(t);else if(l!==4&&(l===27&&$i(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xl(t,s,a),t=t.sibling;t!==null;)xl(t,s,a),t=t.sibling}function Lv(t){var s=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,u=s.attributes;u.length;)s.removeAttributeNode(u[0]);Pt(s,l,a),s[V]=t,s[U]=a}catch(f){nt(t,t.return,f)}}var li=!1,mt=!1,Id=!1,Pv=typeof WeakSet=="function"?WeakSet:Set,Nt=null;function MC(t,s){if(t=t.containerInfo,nf=ql,t=Wg(t),Au(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var v=0,y=-1,S=-1,I=0,$=0,Y=t,j=null;t:for(;;){for(var M;Y!==a||u!==0&&Y.nodeType!==3||(y=v+u),Y!==f||l!==0&&Y.nodeType!==3||(S=v+l),Y.nodeType===3&&(v+=Y.nodeValue.length),(M=Y.firstChild)!==null;)j=Y,Y=M;for(;;){if(Y===t)break t;if(j===a&&++I===u&&(y=v),j===f&&++$===l&&(S=v),(M=Y.nextSibling)!==null)break;Y=j,j=Y.parentNode}Y=M}a=y===-1||S===-1?null:{start:y,end:S}}else a=null}a=a||{start:0,end:0}}else a=null;for(sf={focusedElem:t,selectionRange:a},ql=!1,Nt=s;Nt!==null;)if(s=Nt,t=s.child,(s.subtreeFlags&1024)!==0&&t!==null)t.return=s,Nt=t;else for(;Nt!==null;){switch(s=Nt,f=s.alternate,t=s.flags,s.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=s,u=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var we=Os(a.type,u,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(we,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(be){nt(a,a.return,be)}}break;case 3:if((t&1024)!==0){if(t=s.stateNode.containerInfo,a=t.nodeType,a===9)of(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":of(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(r(163))}if(t=s.sibling,t!==null){t.return=s.return,Nt=t;break}Nt=s.return}}function Uv(t,s,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Li(t,a),l&4&&ka(5,a);break;case 1:if(Li(t,a),l&4)if(t=a.stateNode,s===null)try{t.componentDidMount()}catch(v){nt(a,a.return,v)}else{var u=Os(a.type,s.memoizedProps);s=s.memoizedState;try{t.componentDidUpdate(u,s,t.__reactInternalSnapshotBeforeUpdate)}catch(v){nt(a,a.return,v)}}l&64&&Iv(a),l&512&&ja(a,a.return);break;case 3:if(Li(t,a),l&64&&(t=a.updateQueue,t!==null)){if(s=null,a.child!==null)switch(a.child.tag){case 27:case 5:s=a.child.stateNode;break;case 1:s=a.child.stateNode}try{_m(t,s)}catch(v){nt(a,a.return,v)}}break;case 27:s===null&&l&4&&Lv(a);case 26:case 5:Li(t,a),s===null&&l&4&&jv(a),l&512&&ja(a,a.return);break;case 12:Li(t,a);break;case 13:Li(t,a),l&4&&Bv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=GC.bind(null,a),lT(t,a))));break;case 22:if(l=a.memoizedState!==null||li,!l){s=s!==null&&s.memoizedState!==null||mt,u=li;var f=mt;li=l,(mt=s)&&!f?Pi(t,a,(a.subtreeFlags&8772)!==0):Li(t,a),li=u,mt=f}break;case 30:break;default:Li(t,a)}}function zv(t){var s=t.alternate;s!==null&&(t.alternate=null,zv(s)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(s=t.stateNode,s!==null&&yt(s)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var lt=null,Zt=!1;function ci(t,s,a){for(a=a.child;a!==null;)Hv(t,s,a),a=a.sibling}function Hv(t,s,a){if(Gt&&typeof Gt.onCommitFiberUnmount=="function")try{Gt.onCommitFiberUnmount(fs,a)}catch{}switch(a.tag){case 26:mt||$n(a,s),ci(t,s,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:mt||$n(a,s);var l=lt,u=Zt;$i(a.type)&&(lt=a.stateNode,Zt=!1),ci(t,s,a),$a(a.stateNode),lt=l,Zt=u;break;case 5:mt||$n(a,s);case 6:if(l=lt,u=Zt,lt=null,ci(t,s,a),lt=l,Zt=u,lt!==null)if(Zt)try{(lt.nodeType===9?lt.body:lt.nodeName==="HTML"?lt.ownerDocument.body:lt).removeChild(a.stateNode)}catch(f){nt(a,s,f)}else try{lt.removeChild(a.stateNode)}catch(f){nt(a,s,f)}break;case 18:lt!==null&&(Zt?(t=lt,Ny(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Xa(t)):Ny(lt,a.stateNode));break;case 4:l=lt,u=Zt,lt=a.stateNode.containerInfo,Zt=!0,ci(t,s,a),lt=l,Zt=u;break;case 0:case 11:case 14:case 15:mt||Mi(2,a,s),mt||Mi(4,a,s),ci(t,s,a);break;case 1:mt||($n(a,s),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kv(a,s,l)),ci(t,s,a);break;case 21:ci(t,s,a);break;case 22:mt=(l=mt)||a.memoizedState!==null,ci(t,s,a),mt=l;break;default:ci(t,s,a)}}function Bv(t,s){if(s.memoizedState===null&&(t=s.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Xa(t)}catch(a){nt(s,s.return,a)}}function LC(t){switch(t.tag){case 13:case 19:var s=t.stateNode;return s===null&&(s=t.stateNode=new Pv),s;case 22:return t=t.stateNode,s=t._retryCache,s===null&&(s=t._retryCache=new Pv),s;default:throw Error(r(435,t.tag))}}function kd(t,s){var a=LC(t);s.forEach(function(l){var u=qC.bind(null,t,l);a.has(l)||(a.add(l),l.then(u,u))})}function on(t,s){var a=s.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],f=t,v=s,y=v;e:for(;y!==null;){switch(y.tag){case 27:if($i(y.type)){lt=y.stateNode,Zt=!1;break e}break;case 5:lt=y.stateNode,Zt=!1;break e;case 3:case 4:lt=y.stateNode.containerInfo,Zt=!0;break e}y=y.return}if(lt===null)throw Error(r(160));Hv(f,v,u),lt=null,Zt=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(s.subtreeFlags&13878)for(s=s.child;s!==null;)Vv(s,t),s=s.sibling}var Rn=null;function Vv(t,s){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:on(s,t),ln(t),l&4&&(Mi(3,t,t.return),ka(3,t),Mi(5,t,t.return));break;case 1:on(s,t),ln(t),l&512&&(mt||a===null||$n(a,a.return)),l&64&&li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=Rn;if(on(s,t),ln(t),l&512&&(mt||a===null||$n(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":f=u.getElementsByTagName("title")[0],(!f||f[vt]||f[V]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(l),u.head.insertBefore(f,u.querySelector("head > title"))),Pt(f,l,a),f[V]=t,dt(f),l=f;break e;case"link":var v=Ly("link","href",u).get(l+(a.href||""));if(v){for(var y=0;y<v.length;y++)if(f=v[y],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){v.splice(y,1);break t}}f=u.createElement(l),Pt(f,l,a),u.head.appendChild(f);break;case"meta":if(v=Ly("meta","content",u).get(l+(a.content||""))){for(y=0;y<v.length;y++)if(f=v[y],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){v.splice(y,1);break t}}f=u.createElement(l),Pt(f,l,a),u.head.appendChild(f);break;default:throw Error(r(468,l))}f[V]=t,dt(f),l=f}t.stateNode=l}else Py(u,t.type,t.stateNode);else t.stateNode=My(u,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?Py(u,t.type,t.stateNode):My(u,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Rd(t,t.memoizedProps,a.memoizedProps)}break;case 27:on(s,t),ln(t),l&512&&(mt||a===null||$n(a,a.return)),a!==null&&l&4&&Rd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(on(s,t),ln(t),l&512&&(mt||a===null||$n(a,a.return)),t.flags&32){u=t.stateNode;try{Js(u,"")}catch(M){nt(t,t.return,M)}}l&4&&t.stateNode!=null&&(u=t.memoizedProps,Rd(t,u,a!==null?a.memoizedProps:u)),l&1024&&(Id=!0);break;case 6:if(on(s,t),ln(t),l&4){if(t.stateNode===null)throw Error(r(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(M){nt(t,t.return,M)}}break;case 3:if(Vl=null,u=Rn,Rn=Hl(s.containerInfo),on(s,t),Rn=u,ln(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Xa(s.containerInfo)}catch(M){nt(t,t.return,M)}Id&&(Id=!1,$v(t));break;case 4:l=Rn,Rn=Hl(t.stateNode.containerInfo),on(s,t),ln(t),Rn=l;break;case 12:on(s,t),ln(t);break;case 13:on(s,t),ln(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(zd=Kt()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 22:u=t.memoizedState!==null;var S=a!==null&&a.memoizedState!==null,I=li,$=mt;if(li=I||u,mt=$||S,on(s,t),mt=$,li=I,ln(t),l&8192)e:for(s=t.stateNode,s._visibility=u?s._visibility&-2:s._visibility|1,u&&(a===null||S||li||mt||xs(t)),a=null,s=t;;){if(s.tag===5||s.tag===26){if(a===null){S=a=s;try{if(f=S.stateNode,u)v=f.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{y=S.stateNode;var Y=S.memoizedProps.style,j=Y!=null&&Y.hasOwnProperty("display")?Y.display:null;y.style.display=j==null||typeof j=="boolean"?"":(""+j).trim()}}catch(M){nt(S,S.return,M)}}}else if(s.tag===6){if(a===null){S=s;try{S.stateNode.nodeValue=u?"":S.memoizedProps}catch(M){nt(S,S.return,M)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===t)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;a===s&&(a=null),s=s.return}a===s&&(a=null),s.sibling.return=s.return,s=s.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,kd(t,a))));break;case 19:on(s,t),ln(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,kd(t,l)));break;case 30:break;case 21:break;default:on(s,t),ln(t)}}function ln(t){var s=t.flags;if(s&2){try{for(var a,l=t.return;l!==null;){if(Mv(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,f=Ad(t);xl(t,f,u);break;case 5:var v=a.stateNode;a.flags&32&&(Js(v,""),a.flags&=-33);var y=Ad(t);xl(t,y,v);break;case 3:case 4:var S=a.stateNode.containerInfo,I=Ad(t);Dd(t,I,S);break;default:throw Error(r(161))}}catch($){nt(t,t.return,$)}t.flags&=-3}s&4096&&(t.flags&=-4097)}function $v(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var s=t;$v(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),t=t.sibling}}function Li(t,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)Uv(t,s.alternate,s),s=s.sibling}function xs(t){for(t=t.child;t!==null;){var s=t;switch(s.tag){case 0:case 11:case 14:case 15:Mi(4,s,s.return),xs(s);break;case 1:$n(s,s.return);var a=s.stateNode;typeof a.componentWillUnmount=="function"&&kv(s,s.return,a),xs(s);break;case 27:$a(s.stateNode);case 26:case 5:$n(s,s.return),xs(s);break;case 22:s.memoizedState===null&&xs(s);break;case 30:xs(s);break;default:xs(s)}t=t.sibling}}function Pi(t,s,a){for(a=a&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var l=s.alternate,u=t,f=s,v=f.flags;switch(f.tag){case 0:case 11:case 15:Pi(u,f,a),ka(4,f);break;case 1:if(Pi(u,f,a),l=f,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(I){nt(l,l.return,I)}if(l=f,u=l.updateQueue,u!==null){var y=l.stateNode;try{var S=u.shared.hiddenCallbacks;if(S!==null)for(u.shared.hiddenCallbacks=null,u=0;u<S.length;u++)ym(S[u],y)}catch(I){nt(l,l.return,I)}}a&&v&64&&Iv(f),ja(f,f.return);break;case 27:Lv(f);case 26:case 5:Pi(u,f,a),a&&l===null&&v&4&&jv(f),ja(f,f.return);break;case 12:Pi(u,f,a);break;case 13:Pi(u,f,a),a&&v&4&&Bv(u,f);break;case 22:f.memoizedState===null&&Pi(u,f,a),ja(f,f.return);break;case 30:break;default:Pi(u,f,a)}s=s.sibling}}function jd(t,s){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(t=s.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&_a(a))}function Md(t,s){t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_a(t))}function Gn(t,s,a,l){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Gv(t,s,a,l),s=s.sibling}function Gv(t,s,a,l){var u=s.flags;switch(s.tag){case 0:case 11:case 15:Gn(t,s,a,l),u&2048&&ka(9,s);break;case 1:Gn(t,s,a,l);break;case 3:Gn(t,s,a,l),u&2048&&(t=null,s.alternate!==null&&(t=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==t&&(s.refCount++,t!=null&&_a(t)));break;case 12:if(u&2048){Gn(t,s,a,l),t=s.stateNode;try{var f=s.memoizedProps,v=f.id,y=f.onPostCommit;typeof y=="function"&&y(v,s.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(S){nt(s,s.return,S)}}else Gn(t,s,a,l);break;case 13:Gn(t,s,a,l);break;case 23:break;case 22:f=s.stateNode,v=s.alternate,s.memoizedState!==null?f._visibility&2?Gn(t,s,a,l):Ma(t,s):f._visibility&2?Gn(t,s,a,l):(f._visibility|=2,yr(t,s,a,l,(s.subtreeFlags&10256)!==0)),u&2048&&jd(v,s);break;case 24:Gn(t,s,a,l),u&2048&&Md(s.alternate,s);break;default:Gn(t,s,a,l)}}function yr(t,s,a,l,u){for(u=u&&(s.subtreeFlags&10256)!==0,s=s.child;s!==null;){var f=t,v=s,y=a,S=l,I=v.flags;switch(v.tag){case 0:case 11:case 15:yr(f,v,y,S,u),ka(8,v);break;case 23:break;case 22:var $=v.stateNode;v.memoizedState!==null?$._visibility&2?yr(f,v,y,S,u):Ma(f,v):($._visibility|=2,yr(f,v,y,S,u)),u&&I&2048&&jd(v.alternate,v);break;case 24:yr(f,v,y,S,u),u&&I&2048&&Md(v.alternate,v);break;default:yr(f,v,y,S,u)}s=s.sibling}}function Ma(t,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var a=t,l=s,u=l.flags;switch(l.tag){case 22:Ma(a,l),u&2048&&jd(l.alternate,l);break;case 24:Ma(a,l),u&2048&&Md(l.alternate,l);break;default:Ma(a,l)}s=s.sibling}}var La=8192;function _r(t){if(t.subtreeFlags&La)for(t=t.child;t!==null;)qv(t),t=t.sibling}function qv(t){switch(t.tag){case 26:_r(t),t.flags&La&&t.memoizedState!==null&&ET(Rn,t.memoizedState,t.memoizedProps);break;case 5:_r(t);break;case 3:case 4:var s=Rn;Rn=Hl(t.stateNode.containerInfo),_r(t),Rn=s;break;case 22:t.memoizedState===null&&(s=t.alternate,s!==null&&s.memoizedState!==null?(s=La,La=16777216,_r(t),La=s):_r(t));break;default:_r(t)}}function Yv(t){var s=t.alternate;if(s!==null&&(t=s.child,t!==null)){s.child=null;do s=t.sibling,t.sibling=null,t=s;while(t!==null)}}function Pa(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Nt=l,Wv(l,t)}Yv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Fv(t),t=t.sibling}function Fv(t){switch(t.tag){case 0:case 11:case 15:Pa(t),t.flags&2048&&Mi(9,t,t.return);break;case 3:Pa(t);break;case 12:Pa(t);break;case 22:var s=t.stateNode;t.memoizedState!==null&&s._visibility&2&&(t.return===null||t.return.tag!==13)?(s._visibility&=-3,Nl(t)):Pa(t);break;default:Pa(t)}}function Nl(t){var s=t.deletions;if((t.flags&16)!==0){if(s!==null)for(var a=0;a<s.length;a++){var l=s[a];Nt=l,Wv(l,t)}Yv(t)}for(t=t.child;t!==null;){switch(s=t,s.tag){case 0:case 11:case 15:Mi(8,s,s.return),Nl(s);break;case 22:a=s.stateNode,a._visibility&2&&(a._visibility&=-3,Nl(s));break;default:Nl(s)}t=t.sibling}}function Wv(t,s){for(;Nt!==null;){var a=Nt;switch(a.tag){case 0:case 11:case 15:Mi(8,a,s);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:_a(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Nt=l;else e:for(a=t;Nt!==null;){l=Nt;var u=l.sibling,f=l.return;if(zv(l),l===a){Nt=null;break e}if(u!==null){u.return=f,Nt=u;break e}Nt=f}}}var PC={getCacheForType:function(t){var s=Ht(Et),a=s.data.get(t);return a===void 0&&(a=t(),s.data.set(t,a)),a}},UC=typeof WeakMap=="function"?WeakMap:Map,Qe=0,st=null,Ue=null,qe=0,Xe=0,cn=null,Ui=!1,br=!1,Ld=!1,ui=0,ht=0,zi=0,Ns=0,Pd=0,Sn=0,Er=0,Ua=null,Jt=null,Ud=!1,zd=0,Rl=1/0,Al=null,Hi=null,Lt=0,Bi=null,Sr=null,Cr=0,Hd=0,Bd=null,Kv=null,za=0,Vd=null;function un(){if((Qe&2)!==0&&qe!==0)return qe&-qe;if(L.T!==null){var t=ur;return t!==0?t:Kd()}return uu()}function Qv(){Sn===0&&(Sn=(qe&536870912)===0||We?au():536870912);var t=En.current;return t!==null&&(t.flags|=32),Sn}function dn(t,s,a){(t===st&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)&&(Tr(t,0),Vi(t,qe,Sn,!1)),Ks(t,a),((Qe&2)===0||t!==st)&&(t===st&&((Qe&2)===0&&(Ns|=a),ht===4&&Vi(t,qe,Sn,!1)),qn(t))}function Xv(t,s,a){if((Qe&6)!==0)throw Error(r(327));var l=!a&&(s&124)===0&&(s&t.expiredLanes)===0||Ws(t,s),u=l?BC(t,s):qd(t,s,!0),f=l;do{if(u===0){br&&!l&&Vi(t,s,0,!1);break}else{if(a=t.current.alternate,f&&!zC(a)){u=qd(t,s,!1),f=!1;continue}if(u===2){if(f=s,t.errorRecoveryDisabledLanes&f)var v=0;else v=t.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){s=v;e:{var y=t;u=Ua;var S=y.current.memoizedState.isDehydrated;if(S&&(Tr(y,v).flags|=256),v=qd(y,v,!1),v!==2){if(Ld&&!S){y.errorRecoveryDisabledLanes|=f,Ns|=f,u=4;break e}f=Jt,Jt=u,f!==null&&(Jt===null?Jt=f:Jt.push.apply(Jt,f))}u=v}if(f=!1,u!==2)continue}}if(u===1){Tr(t,0),Vi(t,s,0,!0);break}e:{switch(l=t,f=u,f){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:Vi(l,s,Sn,!Ui);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(u=zd+300-Kt(),10<u)){if(Vi(l,s,Sn,!Ui),sa(l,0,!0)!==0)break e;l.timeoutHandle=Oy(Zv.bind(null,l,a,Jt,Al,Ud,s,Sn,Ns,Er,Ui,f,2,-0,0),u);break e}Zv(l,a,Jt,Al,Ud,s,Sn,Ns,Er,Ui,f,0,-0,0)}}break}while(!0);qn(t)}function Zv(t,s,a,l,u,f,v,y,S,I,$,Y,j,M){if(t.timeoutHandle=-1,Y=s.subtreeFlags,(Y&8192||(Y&16785408)===16785408)&&(Ya={stylesheets:null,count:0,unsuspend:bT},qv(s),Y=ST(),Y!==null)){t.cancelPendingCommit=Y(ry.bind(null,t,s,f,a,l,u,v,y,S,$,1,j,M)),Vi(t,f,v,!I);return}ry(t,s,f,a,l,u,v,y,S)}function zC(t){for(var s=t;;){var a=s.tag;if((a===0||a===11||a===15)&&s.flags&16384&&(a=s.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],f=u.getSnapshot;u=u.value;try{if(!rn(f(),u))return!1}catch{return!1}}if(a=s.child,s.subtreeFlags&16384&&a!==null)a.return=s,s=a;else{if(s===t)break;for(;s.sibling===null;){if(s.return===null||s.return===t)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Vi(t,s,a,l){s&=~Pd,s&=~Ns,t.suspendedLanes|=s,t.pingedLanes&=~s,l&&(t.warmLanes|=s),l=t.expirationTimes;for(var u=s;0<u;){var f=31-zt(u),v=1<<f;l[f]=-1,u&=~v}a!==0&&lu(t,a,s)}function Dl(){return(Qe&6)===0?(Ha(0),!1):!0}function $d(){if(Ue!==null){if(Xe===0)var t=Ue.return;else t=Ue,ni=Ss=null,ad(t),mr=null,Aa=0,t=Ue;for(;t!==null;)Dv(t.alternate,t),t=t.return;Ue=null}}function Tr(t,s){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iT(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),$d(),st=t,Ue=a=Jn(t.current,null),qe=s,Xe=0,cn=null,Ui=!1,br=Ws(t,s),Ld=!1,Er=Sn=Pd=Ns=zi=ht=0,Jt=Ua=null,Ud=!1,(s&8)!==0&&(s|=s&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=s;0<l;){var u=31-zt(l),f=1<<u;s|=t[u],l&=~f}return ui=s,Jo(),a}function Jv(t,s){ke=null,L.H=yl,s===Ea||s===ll?(s=mm(),Xe=3):s===hm?(s=mm(),Xe=4):Xe=s===vv?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,cn=s,Ue===null&&(ht=1,Cl(t,vn(s,t.current)))}function ey(){var t=L.H;return L.H=yl,t===null?yl:t}function ty(){var t=L.A;return L.A=PC,t}function Gd(){ht=4,Ui||(qe&4194048)!==qe&&En.current!==null||(br=!0),(zi&134217727)===0&&(Ns&134217727)===0||st===null||Vi(st,qe,Sn,!1)}function qd(t,s,a){var l=Qe;Qe|=2;var u=ey(),f=ty();(st!==t||qe!==s)&&(Al=null,Tr(t,s)),s=!1;var v=ht;e:do try{if(Xe!==0&&Ue!==null){var y=Ue,S=cn;switch(Xe){case 8:$d(),v=6;break e;case 3:case 2:case 9:case 6:En.current===null&&(s=!0);var I=Xe;if(Xe=0,cn=null,wr(t,y,S,I),a&&br){v=0;break e}break;default:I=Xe,Xe=0,cn=null,wr(t,y,S,I)}}HC(),v=ht;break}catch($){Jv(t,$)}while(!0);return s&&t.shellSuspendCounter++,ni=Ss=null,Qe=l,L.H=u,L.A=f,Ue===null&&(st=null,qe=0,Jo()),v}function HC(){for(;Ue!==null;)ny(Ue)}function BC(t,s){var a=Qe;Qe|=2;var l=ey(),u=ty();st!==t||qe!==s?(Al=null,Rl=Kt()+500,Tr(t,s)):br=Ws(t,s);e:do try{if(Xe!==0&&Ue!==null){s=Ue;var f=cn;t:switch(Xe){case 1:Xe=0,cn=null,wr(t,s,f,1);break;case 2:case 9:if(pm(f)){Xe=0,cn=null,iy(s);break}s=function(){Xe!==2&&Xe!==9||st!==t||(Xe=7),qn(t)},f.then(s,s);break e;case 3:Xe=7;break e;case 4:Xe=5;break e;case 7:pm(f)?(Xe=0,cn=null,iy(s)):(Xe=0,cn=null,wr(t,s,f,7));break;case 5:var v=null;switch(Ue.tag){case 26:v=Ue.memoizedState;case 5:case 27:var y=Ue;if(!v||Uy(v)){Xe=0,cn=null;var S=y.sibling;if(S!==null)Ue=S;else{var I=y.return;I!==null?(Ue=I,Il(I)):Ue=null}break t}}Xe=0,cn=null,wr(t,s,f,5);break;case 6:Xe=0,cn=null,wr(t,s,f,6);break;case 8:$d(),ht=6;break e;default:throw Error(r(462))}}VC();break}catch($){Jv(t,$)}while(!0);return ni=Ss=null,L.H=l,L.A=u,Qe=a,Ue!==null?0:(st=null,qe=0,Jo(),ht)}function VC(){for(;Ue!==null&&!Un();)ny(Ue)}function ny(t){var s=Rv(t.alternate,t,ui);t.memoizedProps=t.pendingProps,s===null?Il(t):Ue=s}function iy(t){var s=t,a=s.alternate;switch(s.tag){case 15:case 0:s=Cv(a,s,s.pendingProps,s.type,void 0,qe);break;case 11:s=Cv(a,s,s.pendingProps,s.type.render,s.ref,qe);break;case 5:ad(s);default:Dv(a,s),s=Ue=sm(s,ui),s=Rv(a,s,ui)}t.memoizedProps=t.pendingProps,s===null?Il(t):Ue=s}function wr(t,s,a,l){ni=Ss=null,ad(s),mr=null,Aa=0;var u=s.return;try{if(DC(t,u,s,a,qe)){ht=1,Cl(t,vn(a,t.current)),Ue=null;return}}catch(f){if(u!==null)throw Ue=u,f;ht=1,Cl(t,vn(a,t.current)),Ue=null;return}s.flags&32768?(We||l===1?t=!0:br||(qe&536870912)!==0?t=!1:(Ui=t=!0,(l===2||l===9||l===3||l===6)&&(l=En.current,l!==null&&l.tag===13&&(l.flags|=16384))),sy(s,t)):Il(s)}function Il(t){var s=t;do{if((s.flags&32768)!==0){sy(s,Ui);return}t=s.return;var a=kC(s.alternate,s,ui);if(a!==null){Ue=a;return}if(s=s.sibling,s!==null){Ue=s;return}Ue=s=t}while(s!==null);ht===0&&(ht=5)}function sy(t,s){do{var a=jC(t.alternate,t);if(a!==null){a.flags&=32767,Ue=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!s&&(t=t.sibling,t!==null)){Ue=t;return}Ue=t=a}while(t!==null);ht=6,Ue=null}function ry(t,s,a,l,u,f,v,y,S){t.cancelPendingCommit=null;do kl();while(Lt!==0);if((Qe&6)!==0)throw Error(r(327));if(s!==null){if(s===t.current)throw Error(r(177));if(f=s.lanes|s.childLanes,f|=Mu,mg(t,a,f,v,y,S),t===st&&(Ue=st=null,qe=0),Sr=s,Bi=t,Cr=a,Hd=f,Bd=u,Kv=l,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,YC(Ci,function(){return uy(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||l){l=L.T,L.T=null,u=ie.p,ie.p=2,v=Qe,Qe|=4;try{MC(t,s,a)}finally{Qe=v,ie.p=u,L.T=l}}Lt=1,ay(),oy(),ly()}}function ay(){if(Lt===1){Lt=0;var t=Bi,s=Sr,a=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||a){a=L.T,L.T=null;var l=ie.p;ie.p=2;var u=Qe;Qe|=4;try{Vv(s,t);var f=sf,v=Wg(t.containerInfo),y=f.focusedElem,S=f.selectionRange;if(v!==y&&y&&y.ownerDocument&&Fg(y.ownerDocument.documentElement,y)){if(S!==null&&Au(y)){var I=S.start,$=S.end;if($===void 0&&($=I),"selectionStart"in y)y.selectionStart=I,y.selectionEnd=Math.min($,y.value.length);else{var Y=y.ownerDocument||document,j=Y&&Y.defaultView||window;if(j.getSelection){var M=j.getSelection(),we=y.textContent.length,be=Math.min(S.start,we),et=S.end===void 0?be:Math.min(S.end,we);!M.extend&&be>et&&(v=et,et=be,be=v);var x=Yg(y,be),O=Yg(y,et);if(x&&O&&(M.rangeCount!==1||M.anchorNode!==x.node||M.anchorOffset!==x.offset||M.focusNode!==O.node||M.focusOffset!==O.offset)){var D=Y.createRange();D.setStart(x.node,x.offset),M.removeAllRanges(),be>et?(M.addRange(D),M.extend(O.node,O.offset)):(D.setEnd(O.node,O.offset),M.addRange(D))}}}}for(Y=[],M=y;M=M.parentNode;)M.nodeType===1&&Y.push({element:M,left:M.scrollLeft,top:M.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<Y.length;y++){var q=Y[y];q.element.scrollLeft=q.left,q.element.scrollTop=q.top}}ql=!!nf,sf=nf=null}finally{Qe=u,ie.p=l,L.T=a}}t.current=s,Lt=2}}function oy(){if(Lt===2){Lt=0;var t=Bi,s=Sr,a=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||a){a=L.T,L.T=null;var l=ie.p;ie.p=2;var u=Qe;Qe|=4;try{Uv(t,s.alternate,s)}finally{Qe=u,ie.p=l,L.T=a}}Lt=3}}function ly(){if(Lt===4||Lt===3){Lt=0,ta();var t=Bi,s=Sr,a=Cr,l=Kv;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Lt=5:(Lt=0,Sr=Bi=null,cy(t,t.pendingLanes));var u=t.pendingLanes;if(u===0&&(Hi=null),$o(a),s=s.stateNode,Gt&&typeof Gt.onCommitFiberRoot=="function")try{Gt.onCommitFiberRoot(fs,s,void 0,(s.current.flags&128)===128)}catch{}if(l!==null){s=L.T,u=ie.p,ie.p=2,L.T=null;try{for(var f=t.onRecoverableError,v=0;v<l.length;v++){var y=l[v];f(y.value,{componentStack:y.stack})}}finally{L.T=s,ie.p=u}}(Cr&3)!==0&&kl(),qn(t),u=t.pendingLanes,(a&4194090)!==0&&(u&42)!==0?t===Vd?za++:(za=0,Vd=t):za=0,Ha(0)}}function cy(t,s){(t.pooledCacheLanes&=s)===0&&(s=t.pooledCache,s!=null&&(t.pooledCache=null,_a(s)))}function kl(t){return ay(),oy(),ly(),uy()}function uy(){if(Lt!==5)return!1;var t=Bi,s=Hd;Hd=0;var a=$o(Cr),l=L.T,u=ie.p;try{ie.p=32>a?32:a,L.T=null,a=Bd,Bd=null;var f=Bi,v=Cr;if(Lt=0,Sr=Bi=null,Cr=0,(Qe&6)!==0)throw Error(r(331));var y=Qe;if(Qe|=4,Fv(f.current),Gv(f,f.current,v,a),Qe=y,Ha(0,!1),Gt&&typeof Gt.onPostCommitFiberRoot=="function")try{Gt.onPostCommitFiberRoot(fs,f)}catch{}return!0}finally{ie.p=u,L.T=l,cy(t,s)}}function dy(t,s,a){s=vn(a,s),s=bd(t.stateNode,s,2),t=Di(t,s,2),t!==null&&(Ks(t,2),qn(t))}function nt(t,s,a){if(t.tag===3)dy(t,t,a);else for(;s!==null;){if(s.tag===3){dy(s,t,a);break}else if(s.tag===1){var l=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(Hi===null||!Hi.has(l))){t=vn(a,t),a=gv(2),l=Di(s,a,2),l!==null&&(mv(a,l,s,t),Ks(l,2),qn(l));break}}s=s.return}}function Yd(t,s,a){var l=t.pingCache;if(l===null){l=t.pingCache=new UC;var u=new Set;l.set(s,u)}else u=l.get(s),u===void 0&&(u=new Set,l.set(s,u));u.has(a)||(Ld=!0,u.add(a),t=$C.bind(null,t,s,a),s.then(t,t))}function $C(t,s,a){var l=t.pingCache;l!==null&&l.delete(s),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,st===t&&(qe&a)===a&&(ht===4||ht===3&&(qe&62914560)===qe&&300>Kt()-zd?(Qe&2)===0&&Tr(t,0):Pd|=a,Er===qe&&(Er=0)),qn(t)}function fy(t,s){s===0&&(s=ou()),t=ar(t,s),t!==null&&(Ks(t,s),qn(t))}function GC(t){var s=t.memoizedState,a=0;s!==null&&(a=s.retryLane),fy(t,a)}function qC(t,s){var a=0;switch(t.tag){case 13:var l=t.stateNode,u=t.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(s),fy(t,a)}function YC(t,s){return fn(t,s)}var jl=null,Or=null,Fd=!1,Ml=!1,Wd=!1,Rs=0;function qn(t){t!==Or&&t.next===null&&(Or===null?jl=Or=t:Or=Or.next=t),Ml=!0,Fd||(Fd=!0,WC())}function Ha(t,s){if(!Wd&&Ml){Wd=!0;do for(var a=!1,l=jl;l!==null;){if(t!==0){var u=l.pendingLanes;if(u===0)var f=0;else{var v=l.suspendedLanes,y=l.pingedLanes;f=(1<<31-zt(42|t)+1)-1,f&=u&~(v&~y),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,my(l,f))}else f=qe,f=sa(l,l===st?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||Ws(l,f)||(a=!0,my(l,f));l=l.next}while(a);Wd=!1}}function FC(){hy()}function hy(){Ml=Fd=!1;var t=0;Rs!==0&&(nT()&&(t=Rs),Rs=0);for(var s=Kt(),a=null,l=jl;l!==null;){var u=l.next,f=py(l,s);f===0?(l.next=null,a===null?jl=u:a.next=u,u===null&&(Or=a)):(a=l,(t!==0||(f&3)!==0)&&(Ml=!0)),l=u}Ha(t)}function py(t,s){for(var a=t.suspendedLanes,l=t.pingedLanes,u=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var v=31-zt(f),y=1<<v,S=u[v];S===-1?((y&a)===0||(y&l)!==0)&&(u[v]=gg(y,s)):S<=s&&(t.expiredLanes|=y),f&=~y}if(s=st,a=qe,a=sa(t,t===s?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===s&&(Xe===2||Xe===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&Ut(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||Ws(t,a)){if(s=a&-a,s===t.callbackPriority)return s;switch(l!==null&&Ut(l),$o(a)){case 2:case 8:a=Ys;break;case 32:a=Ci;break;case 268435456:a=xn;break;default:a=Ci}return l=gy.bind(null,t),a=fn(a,l),t.callbackPriority=s,t.callbackNode=a,s}return l!==null&&l!==null&&Ut(l),t.callbackPriority=2,t.callbackNode=null,2}function gy(t,s){if(Lt!==0&&Lt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(kl()&&t.callbackNode!==a)return null;var l=qe;return l=sa(t,t===st?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Xv(t,l,s),py(t,Kt()),t.callbackNode!=null&&t.callbackNode===a?gy.bind(null,t):null)}function my(t,s){if(kl())return null;Xv(t,s,!0)}function WC(){sT(function(){(Qe&6)!==0?fn(qs,FC):hy()})}function Kd(){return Rs===0&&(Rs=au()),Rs}function vy(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Yo(""+t)}function yy(t,s){var a=s.ownerDocument.createElement("input");return a.name=s.name,a.value=s.value,t.id&&a.setAttribute("form",t.id),s.parentNode.insertBefore(a,s),t=new FormData(t),a.parentNode.removeChild(a),t}function KC(t,s,a,l,u){if(s==="submit"&&a&&a.stateNode===u){var f=vy((u[U]||null).action),v=l.submitter;v&&(s=(s=v[U]||null)?vy(s.formAction):v.getAttribute("formAction"),s!==null&&(f=s,v=null));var y=new Qo("action","action",null,l,u);t.push({event:y,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Rs!==0){var S=v?yy(u,v):new FormData(u);gd(a,{pending:!0,data:S,method:u.method,action:f},null,S)}}else typeof f=="function"&&(y.preventDefault(),S=v?yy(u,v):new FormData(u),gd(a,{pending:!0,data:S,method:u.method,action:f},f,S))},currentTarget:u}]})}}for(var Qd=0;Qd<ju.length;Qd++){var Xd=ju[Qd],QC=Xd.toLowerCase(),XC=Xd[0].toUpperCase()+Xd.slice(1);Nn(QC,"on"+XC)}Nn(Xg,"onAnimationEnd"),Nn(Zg,"onAnimationIteration"),Nn(Jg,"onAnimationStart"),Nn("dblclick","onDoubleClick"),Nn("focusin","onFocus"),Nn("focusout","onBlur"),Nn(pC,"onTransitionRun"),Nn(gC,"onTransitionStart"),Nn(mC,"onTransitionCancel"),Nn(em,"onTransitionEnd"),qt("onMouseEnter",["mouseout","mouseover"]),qt("onMouseLeave",["mouseout","mouseover"]),qt("onPointerEnter",["pointerout","pointerover"]),qt("onPointerLeave",["pointerout","pointerover"]),pn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),pn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),pn("onBeforeInput",["compositionend","keypress","textInput","paste"]),pn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),pn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ba="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZC=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ba));function _y(t,s){s=(s&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],u=l.event;l=l.listeners;e:{var f=void 0;if(s)for(var v=l.length-1;0<=v;v--){var y=l[v],S=y.instance,I=y.currentTarget;if(y=y.listener,S!==f&&u.isPropagationStopped())break e;f=y,u.currentTarget=I;try{f(u)}catch($){Sl($)}u.currentTarget=null,f=S}else for(v=0;v<l.length;v++){if(y=l[v],S=y.instance,I=y.currentTarget,y=y.listener,S!==f&&u.isPropagationStopped())break e;f=y,u.currentTarget=I;try{f(u)}catch($){Sl($)}u.currentTarget=null,f=S}}}}function ze(t,s){var a=s[he];a===void 0&&(a=s[he]=new Set);var l=t+"__bubble";a.has(l)||(by(s,t,2,!1),a.add(l))}function Zd(t,s,a){var l=0;s&&(l|=4),by(a,t,l,s)}var Ll="_reactListening"+Math.random().toString(36).slice(2);function Jd(t){if(!t[Ll]){t[Ll]=!0,ra.forEach(function(a){a!=="selectionchange"&&(ZC.has(a)||Zd(a,!1,t),Zd(a,!0,t))});var s=t.nodeType===9?t:t.ownerDocument;s===null||s[Ll]||(s[Ll]=!0,Zd("selectionchange",!1,s))}}function by(t,s,a,l){switch(Gy(s)){case 2:var u=wT;break;case 8:u=OT;break;default:u=pf}a=u.bind(null,s,a,t),u=void 0,!Eu||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(u=!0),l?u!==void 0?t.addEventListener(s,a,{capture:!0,passive:u}):t.addEventListener(s,a,!0):u!==void 0?t.addEventListener(s,a,{passive:u}):t.addEventListener(s,a,!1)}function ef(t,s,a,l,u){var f=l;if((s&1)===0&&(s&2)===0&&l!==null)e:for(;;){if(l===null)return;var v=l.tag;if(v===3||v===4){var y=l.stateNode.containerInfo;if(y===u)break;if(v===4)for(v=l.return;v!==null;){var S=v.tag;if((S===3||S===4)&&v.stateNode.containerInfo===u)return;v=v.return}for(;y!==null;){if(v=jt(y),v===null)return;if(S=v.tag,S===5||S===6||S===26||S===27){l=f=v;continue e}y=y.parentNode}}l=l.return}xg(function(){var I=f,$=_u(a),Y=[];e:{var j=tm.get(t);if(j!==void 0){var M=Qo,we=t;switch(t){case"keypress":if(Wo(a)===0)break e;case"keydown":case"keyup":M=YS;break;case"focusin":we="focus",M=wu;break;case"focusout":we="blur",M=wu;break;case"beforeblur":case"afterblur":M=wu;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":M=Ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":M=jS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":M=KS;break;case Xg:case Zg:case Jg:M=PS;break;case em:M=XS;break;case"scroll":case"scrollend":M=IS;break;case"wheel":M=JS;break;case"copy":case"cut":case"paste":M=zS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":M=Ig;break;case"toggle":case"beforetoggle":M=tC}var be=(s&4)!==0,et=!be&&(t==="scroll"||t==="scrollend"),x=be?j!==null?j+"Capture":null:j;be=[];for(var O=I,D;O!==null;){var q=O;if(D=q.stateNode,q=q.tag,q!==5&&q!==26&&q!==27||D===null||x===null||(q=aa(O,x),q!=null&&be.push(Va(O,q,D))),et)break;O=O.return}0<be.length&&(j=new M(j,we,null,a,$),Y.push({event:j,listeners:be}))}}if((s&7)===0){e:{if(j=t==="mouseover"||t==="pointerover",M=t==="mouseout"||t==="pointerout",j&&a!==yu&&(we=a.relatedTarget||a.fromElement)&&(jt(we)||we[te]))break e;if((M||j)&&(j=$.window===$?$:(j=$.ownerDocument)?j.defaultView||j.parentWindow:window,M?(we=a.relatedTarget||a.toElement,M=I,we=we?jt(we):null,we!==null&&(et=c(we),be=we.tag,we!==et||be!==5&&be!==27&&be!==6)&&(we=null)):(M=null,we=I),M!==we)){if(be=Ag,q="onMouseLeave",x="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(be=Ig,q="onPointerLeave",x="onPointerEnter",O="pointer"),et=M==null?j:wt(M),D=we==null?j:wt(we),j=new be(q,O+"leave",M,a,$),j.target=et,j.relatedTarget=D,q=null,jt($)===I&&(be=new be(x,O+"enter",we,a,$),be.target=D,be.relatedTarget=et,q=be),et=q,M&&we)t:{for(be=M,x=we,O=0,D=be;D;D=xr(D))O++;for(D=0,q=x;q;q=xr(q))D++;for(;0<O-D;)be=xr(be),O--;for(;0<D-O;)x=xr(x),D--;for(;O--;){if(be===x||x!==null&&be===x.alternate)break t;be=xr(be),x=xr(x)}be=null}else be=null;M!==null&&Ey(Y,j,M,be,!1),we!==null&&et!==null&&Ey(Y,et,we,be,!0)}}e:{if(j=I?wt(I):window,M=j.nodeName&&j.nodeName.toLowerCase(),M==="select"||M==="input"&&j.type==="file")var de=Hg;else if(Ug(j))if(Bg)de=dC;else{de=cC;var je=lC}else M=j.nodeName,!M||M.toLowerCase()!=="input"||j.type!=="checkbox"&&j.type!=="radio"?I&&vu(I.elementType)&&(de=Hg):de=uC;if(de&&(de=de(t,I))){zg(Y,de,a,$);break e}je&&je(t,j,I),t==="focusout"&&I&&j.type==="number"&&I.memoizedProps.value!=null&&mu(j,"number",j.value)}switch(je=I?wt(I):window,t){case"focusin":(Ug(je)||je.contentEditable==="true")&&(ir=je,Du=I,pa=null);break;case"focusout":pa=Du=ir=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,Kg(Y,a,$);break;case"selectionchange":if(hC)break;case"keydown":case"keyup":Kg(Y,a,$)}var ge;if(xu)e:{switch(t){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else nr?Lg(t,a)&&(Se="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(kg&&a.locale!=="ko"&&(nr||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&nr&&(ge=Ng()):(xi=$,Su="value"in xi?xi.value:xi.textContent,nr=!0)),je=Pl(I,Se),0<je.length&&(Se=new Dg(Se,t,null,a,$),Y.push({event:Se,listeners:je}),ge?Se.data=ge:(ge=Pg(a),ge!==null&&(Se.data=ge)))),(ge=iC?sC(t,a):rC(t,a))&&(Se=Pl(I,"onBeforeInput"),0<Se.length&&(je=new Dg("onBeforeInput","beforeinput",null,a,$),Y.push({event:je,listeners:Se}),je.data=ge)),KC(Y,t,I,a,$)}_y(Y,s)})}function Va(t,s,a){return{instance:t,listener:s,currentTarget:a}}function Pl(t,s){for(var a=s+"Capture",l=[];t!==null;){var u=t,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=aa(t,a),u!=null&&l.unshift(Va(t,u,f)),u=aa(t,s),u!=null&&l.push(Va(t,u,f))),t.tag===3)return l;t=t.return}return[]}function xr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ey(t,s,a,l,u){for(var f=s._reactName,v=[];a!==null&&a!==l;){var y=a,S=y.alternate,I=y.stateNode;if(y=y.tag,S!==null&&S===l)break;y!==5&&y!==26&&y!==27||I===null||(S=I,u?(I=aa(a,f),I!=null&&v.unshift(Va(a,I,S))):u||(I=aa(a,f),I!=null&&v.push(Va(a,I,S)))),a=a.return}v.length!==0&&t.push({event:s,listeners:v})}var JC=/\r\n?/g,eT=/\u0000|\uFFFD/g;function Sy(t){return(typeof t=="string"?t:""+t).replace(JC,`
`).replace(eT,"")}function Cy(t,s){return s=Sy(s),Sy(t)===s}function Ul(){}function Je(t,s,a,l,u,f){switch(a){case"children":typeof l=="string"?s==="body"||s==="textarea"&&l===""||Js(t,l):(typeof l=="number"||typeof l=="bigint")&&s!=="body"&&Js(t,""+l);break;case"className":Oi(t,"class",l);break;case"tabIndex":Oi(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Oi(t,a,l);break;case"style":wg(t,l,f);break;case"data":if(s!=="object"){Oi(t,"data",l);break}case"src":case"href":if(l===""&&(s!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yo(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(s!=="input"&&Je(t,s,"name",u.name,u,null),Je(t,s,"formEncType",u.formEncType,u,null),Je(t,s,"formMethod",u.formMethod,u,null),Je(t,s,"formTarget",u.formTarget,u,null)):(Je(t,s,"encType",u.encType,u,null),Je(t,s,"method",u.method,u,null),Je(t,s,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Yo(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Ul);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Yo(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":ze("beforetoggle",t),ze("toggle",t),wi(t,"popover",l);break;case"xlinkActuate":Xn(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Xn(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Xn(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Xn(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Xn(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Xn(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Xn(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":wi(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=AS.get(a)||a,wi(t,a,l))}}function tf(t,s,a,l,u,f){switch(a){case"style":wg(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Js(t,l):(typeof l=="number"||typeof l=="bigint")&&Js(t,""+l);break;case"onScroll":l!=null&&ze("scroll",t);break;case"onScrollEnd":l!=null&&ze("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Ul);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!hn.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),s=a.slice(2,u?a.length-7:void 0),f=t[U]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(s,f,u),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(s,l,u);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):wi(t,a,l)}}}function Pt(t,s,a){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ze("error",t),ze("load",t);var l=!1,u=!1,f;for(f in a)if(a.hasOwnProperty(f)){var v=a[f];if(v!=null)switch(f){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(t,s,f,v,a,null)}}u&&Je(t,s,"srcSet",a.srcSet,a,null),l&&Je(t,s,"src",a.src,a,null);return;case"input":ze("invalid",t);var y=f=v=u=null,S=null,I=null;for(l in a)if(a.hasOwnProperty(l)){var $=a[l];if($!=null)switch(l){case"name":u=$;break;case"type":v=$;break;case"checked":S=$;break;case"defaultChecked":I=$;break;case"value":f=$;break;case"defaultValue":y=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(r(137,s));break;default:Je(t,s,l,$,a,null)}}Eg(t,f,y,S,I,v,u,!1),Go(t);return;case"select":ze("invalid",t),l=v=f=null;for(u in a)if(a.hasOwnProperty(u)&&(y=a[u],y!=null))switch(u){case"value":f=y;break;case"defaultValue":v=y;break;case"multiple":l=y;default:Je(t,s,u,y,a,null)}s=f,a=v,t.multiple=!!l,s!=null?Zs(t,!!l,s,!1):a!=null&&Zs(t,!!l,a,!0);return;case"textarea":ze("invalid",t),f=u=l=null;for(v in a)if(a.hasOwnProperty(v)&&(y=a[v],y!=null))switch(v){case"value":l=y;break;case"defaultValue":u=y;break;case"children":f=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(r(91));break;default:Je(t,s,v,y,a,null)}Cg(t,l,u,f),Go(t);return;case"option":for(S in a)if(a.hasOwnProperty(S)&&(l=a[S],l!=null))switch(S){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Je(t,s,S,l,a,null)}return;case"dialog":ze("beforetoggle",t),ze("toggle",t),ze("cancel",t),ze("close",t);break;case"iframe":case"object":ze("load",t);break;case"video":case"audio":for(l=0;l<Ba.length;l++)ze(Ba[l],t);break;case"image":ze("error",t),ze("load",t);break;case"details":ze("toggle",t);break;case"embed":case"source":case"link":ze("error",t),ze("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:Je(t,s,I,l,a,null)}return;default:if(vu(s)){for($ in a)a.hasOwnProperty($)&&(l=a[$],l!==void 0&&tf(t,s,$,l,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(l=a[y],l!=null&&Je(t,s,y,l,a,null))}function tT(t,s,a,l){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,v=null,y=null,S=null,I=null,$=null;for(M in a){var Y=a[M];if(a.hasOwnProperty(M)&&Y!=null)switch(M){case"checked":break;case"value":break;case"defaultValue":S=Y;default:l.hasOwnProperty(M)||Je(t,s,M,null,l,Y)}}for(var j in l){var M=l[j];if(Y=a[j],l.hasOwnProperty(j)&&(M!=null||Y!=null))switch(j){case"type":f=M;break;case"name":u=M;break;case"checked":I=M;break;case"defaultChecked":$=M;break;case"value":v=M;break;case"defaultValue":y=M;break;case"children":case"dangerouslySetInnerHTML":if(M!=null)throw Error(r(137,s));break;default:M!==Y&&Je(t,s,j,M,l,Y)}}gu(t,v,y,S,I,$,f,u);return;case"select":M=v=y=j=null;for(f in a)if(S=a[f],a.hasOwnProperty(f)&&S!=null)switch(f){case"value":break;case"multiple":M=S;default:l.hasOwnProperty(f)||Je(t,s,f,null,l,S)}for(u in l)if(f=l[u],S=a[u],l.hasOwnProperty(u)&&(f!=null||S!=null))switch(u){case"value":j=f;break;case"defaultValue":y=f;break;case"multiple":v=f;default:f!==S&&Je(t,s,u,f,l,S)}s=y,a=v,l=M,j!=null?Zs(t,!!a,j,!1):!!l!=!!a&&(s!=null?Zs(t,!!a,s,!0):Zs(t,!!a,a?[]:"",!1));return;case"textarea":M=j=null;for(y in a)if(u=a[y],a.hasOwnProperty(y)&&u!=null&&!l.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:Je(t,s,y,null,l,u)}for(v in l)if(u=l[v],f=a[v],l.hasOwnProperty(v)&&(u!=null||f!=null))switch(v){case"value":j=u;break;case"defaultValue":M=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==f&&Je(t,s,v,u,l,f)}Sg(t,j,M);return;case"option":for(var we in a)if(j=a[we],a.hasOwnProperty(we)&&j!=null&&!l.hasOwnProperty(we))switch(we){case"selected":t.selected=!1;break;default:Je(t,s,we,null,l,j)}for(S in l)if(j=l[S],M=a[S],l.hasOwnProperty(S)&&j!==M&&(j!=null||M!=null))switch(S){case"selected":t.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:Je(t,s,S,j,l,M)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var be in a)j=a[be],a.hasOwnProperty(be)&&j!=null&&!l.hasOwnProperty(be)&&Je(t,s,be,null,l,j);for(I in l)if(j=l[I],M=a[I],l.hasOwnProperty(I)&&j!==M&&(j!=null||M!=null))switch(I){case"children":case"dangerouslySetInnerHTML":if(j!=null)throw Error(r(137,s));break;default:Je(t,s,I,j,l,M)}return;default:if(vu(s)){for(var et in a)j=a[et],a.hasOwnProperty(et)&&j!==void 0&&!l.hasOwnProperty(et)&&tf(t,s,et,void 0,l,j);for($ in l)j=l[$],M=a[$],!l.hasOwnProperty($)||j===M||j===void 0&&M===void 0||tf(t,s,$,j,l,M);return}}for(var x in a)j=a[x],a.hasOwnProperty(x)&&j!=null&&!l.hasOwnProperty(x)&&Je(t,s,x,null,l,j);for(Y in l)j=l[Y],M=a[Y],!l.hasOwnProperty(Y)||j===M||j==null&&M==null||Je(t,s,Y,j,l,M)}var nf=null,sf=null;function zl(t){return t.nodeType===9?t:t.ownerDocument}function Ty(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wy(t,s){if(t===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&s==="foreignObject"?0:t}function rf(t,s){return t==="textarea"||t==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var af=null;function nT(){var t=window.event;return t&&t.type==="popstate"?t===af?!1:(af=t,!0):(af=null,!1)}var Oy=typeof setTimeout=="function"?setTimeout:void 0,iT=typeof clearTimeout=="function"?clearTimeout:void 0,xy=typeof Promise=="function"?Promise:void 0,sT=typeof queueMicrotask=="function"?queueMicrotask:typeof xy<"u"?function(t){return xy.resolve(null).then(t).catch(rT)}:Oy;function rT(t){setTimeout(function(){throw t})}function $i(t){return t==="head"}function Ny(t,s){var a=s,l=0,u=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var v=t.ownerDocument;if(a&1&&$a(v.documentElement),a&2&&$a(v.body),a&4)for(a=v.head,$a(a),v=a.firstChild;v;){var y=v.nextSibling,S=v.nodeName;v[vt]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&v.rel.toLowerCase()==="stylesheet"||a.removeChild(v),v=y}}if(u===0){t.removeChild(f),Xa(s);return}u--}else a==="$"||a==="$?"||a==="$!"?u++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);Xa(s)}function of(t){var s=t.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var a=s;switch(s=s.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":of(a),yt(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aT(t,s,a,l){for(;t.nodeType===1;){var u=a;if(t.nodeName.toLowerCase()!==s.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[vt])switch(s){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==u.rel||t.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||t.getAttribute("title")!==(u.title==null?null:u.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(u.src==null?null:u.src)||t.getAttribute("type")!==(u.type==null?null:u.type)||t.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(s==="input"&&t.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=An(t.nextSibling),t===null)break}return null}function oT(t,s,a){if(s==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=An(t.nextSibling),t===null))return null;return t}function lf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lT(t,s){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")s();else{var l=function(){s(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function An(t){for(;t!=null;t=t.nextSibling){var s=t.nodeType;if(s===1||s===3)break;if(s===8){if(s=t.data,s==="$"||s==="$!"||s==="$?"||s==="F!"||s==="F")break;if(s==="/$")return null}}return t}var cf=null;function Ry(t){t=t.previousSibling;for(var s=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(s===0)return t;s--}else a==="/$"&&s++}t=t.previousSibling}return null}function Ay(t,s,a){switch(s=zl(a),t){case"html":if(t=s.documentElement,!t)throw Error(r(452));return t;case"head":if(t=s.head,!t)throw Error(r(453));return t;case"body":if(t=s.body,!t)throw Error(r(454));return t;default:throw Error(r(451))}}function $a(t){for(var s=t.attributes;s.length;)t.removeAttributeNode(s[0]);yt(t)}var Cn=new Map,Dy=new Set;function Hl(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var di=ie.d;ie.d={f:cT,r:uT,D:dT,C:fT,L:hT,m:pT,X:mT,S:gT,M:vT};function cT(){var t=di.f(),s=Dl();return t||s}function uT(t){var s=ct(t);s!==null&&s.tag===5&&s.type==="form"?Xm(s):di.r(t)}var Nr=typeof document>"u"?null:document;function Iy(t,s,a){var l=Nr;if(l&&typeof s=="string"&&s){var u=mn(s);u='link[rel="'+t+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Dy.has(u)||(Dy.add(u),t={rel:t,crossOrigin:a,href:s},l.querySelector(u)===null&&(s=l.createElement("link"),Pt(s,"link",t),dt(s),l.head.appendChild(s)))}}function dT(t){di.D(t),Iy("dns-prefetch",t,null)}function fT(t,s){di.C(t,s),Iy("preconnect",t,s)}function hT(t,s,a){di.L(t,s,a);var l=Nr;if(l&&t&&s){var u='link[rel="preload"][as="'+mn(s)+'"]';s==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+mn(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+mn(a.imageSizes)+'"]')):u+='[href="'+mn(t)+'"]';var f=u;switch(s){case"style":f=Rr(t);break;case"script":f=Ar(t)}Cn.has(f)||(t=_({rel:"preload",href:s==="image"&&a&&a.imageSrcSet?void 0:t,as:s},a),Cn.set(f,t),l.querySelector(u)!==null||s==="style"&&l.querySelector(Ga(f))||s==="script"&&l.querySelector(qa(f))||(s=l.createElement("link"),Pt(s,"link",t),dt(s),l.head.appendChild(s)))}}function pT(t,s){di.m(t,s);var a=Nr;if(a&&t){var l=s&&typeof s.as=="string"?s.as:"script",u='link[rel="modulepreload"][as="'+mn(l)+'"][href="'+mn(t)+'"]',f=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Ar(t)}if(!Cn.has(f)&&(t=_({rel:"modulepreload",href:t},s),Cn.set(f,t),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(qa(f)))return}l=a.createElement("link"),Pt(l,"link",t),dt(l),a.head.appendChild(l)}}}function gT(t,s,a){di.S(t,s,a);var l=Nr;if(l&&t){var u=Ot(l).hoistableStyles,f=Rr(t);s=s||"default";var v=u.get(f);if(!v){var y={loading:0,preload:null};if(v=l.querySelector(Ga(f)))y.loading=5;else{t=_({rel:"stylesheet",href:t,"data-precedence":s},a),(a=Cn.get(f))&&uf(t,a);var S=v=l.createElement("link");dt(S),Pt(S,"link",t),S._p=new Promise(function(I,$){S.onload=I,S.onerror=$}),S.addEventListener("load",function(){y.loading|=1}),S.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Bl(v,s,l)}v={type:"stylesheet",instance:v,count:1,state:y},u.set(f,v)}}}function mT(t,s){di.X(t,s);var a=Nr;if(a&&t){var l=Ot(a).hoistableScripts,u=Ar(t),f=l.get(u);f||(f=a.querySelector(qa(u)),f||(t=_({src:t,async:!0},s),(s=Cn.get(u))&&df(t,s),f=a.createElement("script"),dt(f),Pt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function vT(t,s){di.M(t,s);var a=Nr;if(a&&t){var l=Ot(a).hoistableScripts,u=Ar(t),f=l.get(u);f||(f=a.querySelector(qa(u)),f||(t=_({src:t,async:!0,type:"module"},s),(s=Cn.get(u))&&df(t,s),f=a.createElement("script"),dt(f),Pt(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(u,f))}}function ky(t,s,a,l){var u=(u=le.current)?Hl(u):null;if(!u)throw Error(r(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(s=Rr(a.href),a=Ot(u).hoistableStyles,l=a.get(s),l||(l={type:"style",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=Rr(a.href);var f=Ot(u).hoistableStyles,v=f.get(t);if(v||(u=u.ownerDocument||u,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,v),(f=u.querySelector(Ga(t)))&&!f._p&&(v.instance=f,v.state.loading=5),Cn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Cn.set(t,a),f||yT(u,t,a,v.state))),s&&l===null)throw Error(r(528,""));return v}if(s&&l!==null)throw Error(r(529,""));return null;case"script":return s=a.async,a=a.src,typeof a=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Ar(a),a=Ot(u).hoistableScripts,l=a.get(s),l||(l={type:"script",instance:null,count:0,state:null},a.set(s,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,t))}}function Rr(t){return'href="'+mn(t)+'"'}function Ga(t){return'link[rel="stylesheet"]['+t+"]"}function jy(t){return _({},t,{"data-precedence":t.precedence,precedence:null})}function yT(t,s,a,l){t.querySelector('link[rel="preload"][as="style"]['+s+"]")?l.loading=1:(s=t.createElement("link"),l.preload=s,s.addEventListener("load",function(){return l.loading|=1}),s.addEventListener("error",function(){return l.loading|=2}),Pt(s,"link",a),dt(s),t.head.appendChild(s))}function Ar(t){return'[src="'+mn(t)+'"]'}function qa(t){return"script[async]"+t}function My(t,s,a){if(s.count++,s.instance===null)switch(s.type){case"style":var l=t.querySelector('style[data-href~="'+mn(a.href)+'"]');if(l)return s.instance=l,dt(l),l;var u=_({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),dt(l),Pt(l,"style",u),Bl(l,a.precedence,t),s.instance=l;case"stylesheet":u=Rr(a.href);var f=t.querySelector(Ga(u));if(f)return s.state.loading|=4,s.instance=f,dt(f),f;l=jy(a),(u=Cn.get(u))&&uf(l,u),f=(t.ownerDocument||t).createElement("link"),dt(f);var v=f;return v._p=new Promise(function(y,S){v.onload=y,v.onerror=S}),Pt(f,"link",l),s.state.loading|=4,Bl(f,a.precedence,t),s.instance=f;case"script":return f=Ar(a.src),(u=t.querySelector(qa(f)))?(s.instance=u,dt(u),u):(l=a,(u=Cn.get(f))&&(l=_({},a),df(l,u)),t=t.ownerDocument||t,u=t.createElement("script"),dt(u),Pt(u,"link",l),t.head.appendChild(u),s.instance=u);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(l=s.instance,s.state.loading|=4,Bl(l,a.precedence,t));return s.instance}function Bl(t,s,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,f=u,v=0;v<l.length;v++){var y=l[v];if(y.dataset.precedence===s)f=y;else if(f!==u)break}f?f.parentNode.insertBefore(t,f.nextSibling):(s=a.nodeType===9?a.head:a,s.insertBefore(t,s.firstChild))}function uf(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.title==null&&(t.title=s.title)}function df(t,s){t.crossOrigin==null&&(t.crossOrigin=s.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=s.referrerPolicy),t.integrity==null&&(t.integrity=s.integrity)}var Vl=null;function Ly(t,s,a){if(Vl===null){var l=new Map,u=Vl=new Map;u.set(a,l)}else u=Vl,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),u=0;u<a.length;u++){var f=a[u];if(!(f[vt]||f[V]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var v=f.getAttribute(s)||"";v=t+v;var y=l.get(v);y?y.push(f):l.set(v,[f])}}return l}function Py(t,s,a){t=t.ownerDocument||t,t.head.insertBefore(a,s==="title"?t.querySelector("head > title"):null)}function _T(t,s,a){if(a===1||s.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return t=s.disabled,typeof s.precedence=="string"&&t==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Uy(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var Ya=null;function bT(){}function ET(t,s,a){if(Ya===null)throw Error(r(475));var l=Ya;if(s.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(s.state.loading&4)===0){if(s.instance===null){var u=Rr(a.href),f=t.querySelector(Ga(u));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=$l.bind(l),t.then(l,l)),s.state.loading|=4,s.instance=f,dt(f);return}f=t.ownerDocument||t,a=jy(a),(u=Cn.get(u))&&uf(a,u),f=f.createElement("link"),dt(f);var v=f;v._p=new Promise(function(y,S){v.onload=y,v.onerror=S}),Pt(f,"link",a),s.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(s,t),(t=s.state.preload)&&(s.state.loading&3)===0&&(l.count++,s=$l.bind(l),t.addEventListener("load",s),t.addEventListener("error",s))}}function ST(){if(Ya===null)throw Error(r(475));var t=Ya;return t.stylesheets&&t.count===0&&ff(t,t.stylesheets),0<t.count?function(s){var a=setTimeout(function(){if(t.stylesheets&&ff(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=s,function(){t.unsuspend=null,clearTimeout(a)}}:null}function $l(){if(this.count--,this.count===0){if(this.stylesheets)ff(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Gl=null;function ff(t,s){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Gl=new Map,s.forEach(CT,t),Gl=null,$l.call(t))}function CT(t,s){if(!(s.state.loading&4)){var a=Gl.get(t);if(a)var l=a.get(null);else{a=new Map,Gl.set(t,a);for(var u=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var v=u[f];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(a.set(v.dataset.precedence,v),l=v)}l&&a.set(null,l)}u=s.instance,v=u.getAttribute("data-precedence"),f=a.get(v)||l,f===l&&a.set(null,u),a.set(v,u),this.count++,l=$l.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),f?f.parentNode.insertBefore(u,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(u,t.firstChild)),s.state.loading|=4}}var Fa={$$typeof:X,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function TT(t,s,a,l,u,f,v,y){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Bo(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bo(0),this.hiddenUpdates=Bo(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=y,this.incompleteTransitions=new Map}function zy(t,s,a,l,u,f,v,y,S,I,$,Y){return t=new TT(t,s,a,v,y,S,I,Y),s=1,f===!0&&(s|=24),f=an(3,null,null,s),t.current=f,f.stateNode=t,s=Yu(),s.refCount++,t.pooledCache=s,s.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:s},Qu(f),t}function Hy(t){return t?(t=or,t):or}function By(t,s,a,l,u,f){u=Hy(u),l.context===null?l.context=u:l.pendingContext=u,l=Ai(s),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=Di(t,l,s),a!==null&&(dn(a,t,s),Ca(a,t,s))}function Vy(t,s){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<s?a:s}}function hf(t,s){Vy(t,s),(t=t.alternate)&&Vy(t,s)}function $y(t){if(t.tag===13){var s=ar(t,67108864);s!==null&&dn(s,t,67108864),hf(t,67108864)}}var ql=!0;function wT(t,s,a,l){var u=L.T;L.T=null;var f=ie.p;try{ie.p=2,pf(t,s,a,l)}finally{ie.p=f,L.T=u}}function OT(t,s,a,l){var u=L.T;L.T=null;var f=ie.p;try{ie.p=8,pf(t,s,a,l)}finally{ie.p=f,L.T=u}}function pf(t,s,a,l){if(ql){var u=gf(l);if(u===null)ef(t,s,l,Yl,a),qy(t,l);else if(NT(u,t,s,a,l))l.stopPropagation();else if(qy(t,l),s&4&&-1<xT.indexOf(t)){for(;u!==null;){var f=ct(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var v=Hn(f.pendingLanes);if(v!==0){var y=f;for(y.pendingLanes|=2,y.entangledLanes|=2;v;){var S=1<<31-zt(v);y.entanglements[1]|=S,v&=~S}qn(f),(Qe&6)===0&&(Rl=Kt()+500,Ha(0))}}break;case 13:y=ar(f,2),y!==null&&dn(y,f,2),Dl(),hf(f,2)}if(f=gf(l),f===null&&ef(t,s,l,Yl,a),f===u)break;u=f}u!==null&&l.stopPropagation()}else ef(t,s,l,null,a)}}function gf(t){return t=_u(t),mf(t)}var Yl=null;function mf(t){if(Yl=null,t=jt(t),t!==null){var s=c(t);if(s===null)t=null;else{var a=s.tag;if(a===13){if(t=d(s),t!==null)return t;t=null}else if(a===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;t=null}else s!==t&&(t=null)}}return Yl=t,null}function Gy(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(na()){case qs:return 2;case Ys:return 8;case Ci:case $e:return 32;case xn:return 268435456;default:return 32}default:return 32}}var vf=!1,Gi=null,qi=null,Yi=null,Wa=new Map,Ka=new Map,Fi=[],xT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qy(t,s){switch(t){case"focusin":case"focusout":Gi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Yi=null;break;case"pointerover":case"pointerout":Wa.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ka.delete(s.pointerId)}}function Qa(t,s,a,l,u,f){return t===null||t.nativeEvent!==f?(t={blockedOn:s,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[u]},s!==null&&(s=ct(s),s!==null&&$y(s)),t):(t.eventSystemFlags|=l,s=t.targetContainers,u!==null&&s.indexOf(u)===-1&&s.push(u),t)}function NT(t,s,a,l,u){switch(s){case"focusin":return Gi=Qa(Gi,t,s,a,l,u),!0;case"dragenter":return qi=Qa(qi,t,s,a,l,u),!0;case"mouseover":return Yi=Qa(Yi,t,s,a,l,u),!0;case"pointerover":var f=u.pointerId;return Wa.set(f,Qa(Wa.get(f)||null,t,s,a,l,u)),!0;case"gotpointercapture":return f=u.pointerId,Ka.set(f,Qa(Ka.get(f)||null,t,s,a,l,u)),!0}return!1}function Yy(t){var s=jt(t.target);if(s!==null){var a=c(s);if(a!==null){if(s=a.tag,s===13){if(s=d(a),s!==null){t.blockedOn=s,du(t.priority,function(){if(a.tag===13){var l=un();l=Vo(l);var u=ar(a,l);u!==null&&dn(u,a,l),hf(a,l)}});return}}else if(s===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Fl(t){if(t.blockedOn!==null)return!1;for(var s=t.targetContainers;0<s.length;){var a=gf(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);yu=l,a.target.dispatchEvent(l),yu=null}else return s=ct(a),s!==null&&$y(s),t.blockedOn=a,!1;s.shift()}return!0}function Fy(t,s,a){Fl(t)&&a.delete(s)}function RT(){vf=!1,Gi!==null&&Fl(Gi)&&(Gi=null),qi!==null&&Fl(qi)&&(qi=null),Yi!==null&&Fl(Yi)&&(Yi=null),Wa.forEach(Fy),Ka.forEach(Fy)}function Wl(t,s){t.blockedOn===s&&(t.blockedOn=null,vf||(vf=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,RT)))}var Kl=null;function Wy(t){Kl!==t&&(Kl=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Kl===t&&(Kl=null);for(var s=0;s<t.length;s+=3){var a=t[s],l=t[s+1],u=t[s+2];if(typeof l!="function"){if(mf(l||a)===null)continue;break}var f=ct(a);f!==null&&(t.splice(s,3),s-=3,gd(f,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function Xa(t){function s(S){return Wl(S,t)}Gi!==null&&Wl(Gi,t),qi!==null&&Wl(qi,t),Yi!==null&&Wl(Yi,t),Wa.forEach(s),Ka.forEach(s);for(var a=0;a<Fi.length;a++){var l=Fi[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<Fi.length&&(a=Fi[0],a.blockedOn===null);)Yy(a),a.blockedOn===null&&Fi.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],f=a[l+1],v=u[U]||null;if(typeof f=="function")v||Wy(a);else if(v){var y=null;if(f&&f.hasAttribute("formAction")){if(u=f,v=f[U]||null)y=v.formAction;else if(mf(u)!==null)continue}else y=v.action;typeof y=="function"?a[l+1]=y:(a.splice(l,3),l-=3),Wy(a)}}}function yf(t){this._internalRoot=t}Ql.prototype.render=yf.prototype.render=function(t){var s=this._internalRoot;if(s===null)throw Error(r(409));var a=s.current,l=un();By(a,l,t,s,null,null)},Ql.prototype.unmount=yf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var s=t.containerInfo;By(t.current,2,null,t,null,null),Dl(),s[te]=null}};function Ql(t){this._internalRoot=t}Ql.prototype.unstable_scheduleHydration=function(t){if(t){var s=uu();t={blockedOn:null,target:t,priority:s};for(var a=0;a<Fi.length&&s!==0&&s<Fi[a].priority;a++);Fi.splice(a,0,t),a===0&&Yy(t)}};var Ky=e.version;if(Ky!=="19.1.0")throw Error(r(527,Ky,"19.1.0"));ie.findDOMNode=function(t){var s=t._reactInternals;if(s===void 0)throw typeof t.render=="function"?Error(r(188)):(t=Object.keys(t).join(","),Error(r(268,t)));return t=g(s),t=t!==null?m(t):null,t=t===null?null:t.stateNode,t};var AT={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xl.isDisabled&&Xl.supportsFiber)try{fs=Xl.inject(AT),Gt=Xl}catch{}}return Ja.createRoot=function(t,s){if(!o(t))throw Error(r(299));var a=!1,l="",u=dv,f=fv,v=hv,y=null;return s!=null&&(s.unstable_strictMode===!0&&(a=!0),s.identifierPrefix!==void 0&&(l=s.identifierPrefix),s.onUncaughtError!==void 0&&(u=s.onUncaughtError),s.onCaughtError!==void 0&&(f=s.onCaughtError),s.onRecoverableError!==void 0&&(v=s.onRecoverableError),s.unstable_transitionCallbacks!==void 0&&(y=s.unstable_transitionCallbacks)),s=zy(t,1,!1,null,null,a,l,u,f,v,y,null),t[te]=s.current,Jd(t),new yf(s)},Ja.hydrateRoot=function(t,s,a){if(!o(t))throw Error(r(299));var l=!1,u="",f=dv,v=fv,y=hv,S=null,I=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(v=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(S=a.unstable_transitionCallbacks),a.formState!==void 0&&(I=a.formState)),s=zy(t,1,!0,s,a??null,l,u,f,v,y,S,I),s.context=Hy(null),a=s.current,l=un(),l=Vo(l),u=Ai(l),u.callback=null,Di(a,u,l),a=l,s.current.lanes=a,Ks(s,a),qn(s),t[te]=s.current,Jd(t),new Ql(s)},Ja.version="19.1.0",Ja}var r_;function zT(){if(r_)return Ef.exports;r_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ef.exports=UT(),Ef.exports}var HT=zT();const BT=Oo(HT),jb=A.createContext({dragDropManager:void 0});function Tn(i){return"Minified Redux error #"+i+"; visit https://redux.js.org/Errors?code="+i+" for the full message or use the non-minified dev environment for full errors. "}var a_=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),o_=function(){return Math.random().toString(36).substring(7).split("").join(".")},l_={INIT:"@@redux/INIT"+o_(),REPLACE:"@@redux/REPLACE"+o_()};function VT(i){if(typeof i!="object"||i===null)return!1;for(var e=i;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(i)===e}function Mb(i,e,n){var r;if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Tn(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Tn(1));return n(Mb)(i,e)}if(typeof i!="function")throw new Error(Tn(2));var o=i,c=e,d=[],h=d,g=!1;function m(){h===d&&(h=d.slice())}function _(){if(g)throw new Error(Tn(3));return c}function b(P){if(typeof P!="function")throw new Error(Tn(4));if(g)throw new Error(Tn(5));var N=!0;return m(),h.push(P),function(){if(N){if(g)throw new Error(Tn(6));N=!1,m();var z=h.indexOf(P);h.splice(z,1),d=null}}}function E(P){if(!VT(P))throw new Error(Tn(7));if(typeof P.type>"u")throw new Error(Tn(8));if(g)throw new Error(Tn(9));try{g=!0,c=o(c,P)}finally{g=!1}for(var N=d=h,H=0;H<N.length;H++){var z=N[H];z()}return P}function w(P){if(typeof P!="function")throw new Error(Tn(10));o=P,E({type:l_.REPLACE})}function T(){var P,N=b;return P={subscribe:function(z){if(typeof z!="object"||z===null)throw new Error(Tn(11));function X(){z.next&&z.next(_())}X();var Z=N(X);return{unsubscribe:Z}}},P[a_]=function(){return this},P}return E({type:l_.INIT}),r={dispatch:E,subscribe:b,getState:_,replaceReducer:w},r[a_]=T,r}function De(i,e,...n){if($T()&&e===void 0)throw new Error("invariant requires an error message argument");if(!i){let r;if(e===void 0)r=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{let o=0;r=new Error(e.replace(/%s/g,function(){return n[o++]})),r.name="Invariant Violation"}throw r.framesToPop=1,r}}function $T(){return typeof process<"u"&&!0}function GT(i,e,n){return e.split(".").reduce((r,o)=>r&&r[o]?r[o]:n||null,i)}function qT(i,e){return i.filter(n=>n!==e)}function Lb(i){return typeof i=="object"}function YT(i,e){const n=new Map,r=c=>{n.set(c,n.has(c)?n.get(c)+1:1)};i.forEach(r),e.forEach(r);const o=[];return n.forEach((c,d)=>{c===1&&o.push(d)}),o}function FT(i,e){return i.filter(n=>e.indexOf(n)>-1)}const Zh="dnd-core/INIT_COORDS",jc="dnd-core/BEGIN_DRAG",Jh="dnd-core/PUBLISH_DRAG_SOURCE",Mc="dnd-core/HOVER",Lc="dnd-core/DROP",Pc="dnd-core/END_DRAG";function c_(i,e){return{type:Zh,payload:{sourceClientOffset:e||null,clientOffset:i||null}}}const WT={type:Zh,payload:{clientOffset:null,sourceClientOffset:null}};function KT(i){return function(n=[],r={publishSource:!0}){const{publishSource:o=!0,clientOffset:c,getSourceClientOffset:d}=r,h=i.getMonitor(),g=i.getRegistry();i.dispatch(c_(c)),QT(n,h,g);const m=JT(n,h);if(m==null){i.dispatch(WT);return}let _=null;if(c){if(!d)throw new Error("getSourceClientOffset must be defined");XT(d),_=d(m)}i.dispatch(c_(c,_));const E=g.getSource(m).beginDrag(h,m);if(E==null)return;ZT(E),g.pinSource(m);const w=g.getSourceType(m);return{type:jc,payload:{itemType:w,item:E,sourceId:m,clientOffset:c||null,sourceClientOffset:_||null,isSourcePublic:!!o}}}}function QT(i,e,n){De(!e.isDragging(),"Cannot call beginDrag while dragging."),i.forEach(function(r){De(n.getSource(r),"Expected sourceIds to be registered.")})}function XT(i){De(typeof i=="function","When clientOffset is provided, getSourceClientOffset must be a function.")}function ZT(i){De(Lb(i),"Item must be an object.")}function JT(i,e){let n=null;for(let r=i.length-1;r>=0;r--)if(e.canDragSource(i[r])){n=i[r];break}return n}function ew(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function tw(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){ew(i,o,n[o])})}return i}function nw(i){return function(n={}){const r=i.getMonitor(),o=i.getRegistry();iw(r),aw(r).forEach((d,h)=>{const g=sw(d,h,o,r),m={type:Lc,payload:{dropResult:tw({},n,g)}};i.dispatch(m)})}}function iw(i){De(i.isDragging(),"Cannot call drop while not dragging."),De(!i.didDrop(),"Cannot call drop twice during one drag operation.")}function sw(i,e,n,r){const o=n.getTarget(i);let c=o?o.drop(r,i):void 0;return rw(c),typeof c>"u"&&(c=e===0?{}:r.getDropResult()),c}function rw(i){De(typeof i>"u"||Lb(i),"Drop result must either be an object or undefined.")}function aw(i){const e=i.getTargetIds().filter(i.canDropOnTarget,i);return e.reverse(),e}function ow(i){return function(){const n=i.getMonitor(),r=i.getRegistry();lw(n);const o=n.getSourceId();return o!=null&&(r.getSource(o,!0).endDrag(n,o),r.unpinSource()),{type:Pc}}}function lw(i){De(i.isDragging(),"Cannot call endDrag while not dragging.")}function Zf(i,e){return e===null?i===null:Array.isArray(i)?i.some(n=>n===e):i===e}function cw(i){return function(n,{clientOffset:r}={}){uw(n);const o=n.slice(0),c=i.getMonitor(),d=i.getRegistry(),h=c.getItemType();return fw(o,d,h),dw(o,c,d),hw(o,c,d),{type:Mc,payload:{targetIds:o,clientOffset:r||null}}}}function uw(i){De(Array.isArray(i),"Expected targetIds to be an array.")}function dw(i,e,n){De(e.isDragging(),"Cannot call hover while not dragging."),De(!e.didDrop(),"Cannot call hover after drop.");for(let r=0;r<i.length;r++){const o=i[r];De(i.lastIndexOf(o)===r,"Expected targetIds to be unique in the passed array.");const c=n.getTarget(o);De(c,"Expected targetIds to be registered.")}}function fw(i,e,n){for(let r=i.length-1;r>=0;r--){const o=i[r],c=e.getTargetType(o);Zf(c,n)||i.splice(r,1)}}function hw(i,e,n){i.forEach(function(r){n.getTarget(r).hover(e,r)})}function pw(i){return function(){if(i.getMonitor().isDragging())return{type:Jh}}}function gw(i){return{beginDrag:KT(i),publishDragSource:pw(i),hover:cw(i),drop:nw(i),endDrag:ow(i)}}class mw{receiveBackend(e){this.backend=e}getMonitor(){return this.monitor}getBackend(){return this.backend}getRegistry(){return this.monitor.registry}getActions(){const e=this,{dispatch:n}=this.store;function r(c){return(...d)=>{const h=c.apply(e,d);typeof h<"u"&&n(h)}}const o=gw(this);return Object.keys(o).reduce((c,d)=>{const h=o[d];return c[d]=r(h),c},{})}dispatch(e){this.store.dispatch(e)}constructor(e,n){this.isSetUp=!1,this.handleRefCountChange=()=>{const r=this.store.getState().refCount>0;this.backend&&(r&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!r&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1))},this.store=e,this.monitor=n,e.subscribe(this.handleRefCountChange)}}function vw(i,e){return{x:i.x+e.x,y:i.y+e.y}}function Pb(i,e){return{x:i.x-e.x,y:i.y-e.y}}function yw(i){const{clientOffset:e,initialClientOffset:n,initialSourceClientOffset:r}=i;return!e||!n||!r?null:Pb(vw(e,r),n)}function _w(i){const{clientOffset:e,initialClientOffset:n}=i;return!e||!n?null:Pb(e,n)}const ro=[],ep=[];ro.__IS_NONE__=!0;ep.__IS_ALL__=!0;function bw(i,e){return i===ro?!1:i===ep||typeof e>"u"?!0:FT(e,i).length>0}class Ew{subscribeToStateChange(e,n={}){const{handlerIds:r}=n;De(typeof e=="function","listener must be a function."),De(typeof r>"u"||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");let o=this.store.getState().stateId;const c=()=>{const d=this.store.getState(),h=d.stateId;try{h===o||h===o+1&&!bw(d.dirtyHandlerIds,r)||e()}finally{o=h}};return this.store.subscribe(c)}subscribeToOffsetChange(e){De(typeof e=="function","listener must be a function.");let n=this.store.getState().dragOffset;const r=()=>{const o=this.store.getState().dragOffset;o!==n&&(n=o,e())};return this.store.subscribe(r)}canDragSource(e){if(!e)return!1;const n=this.registry.getSource(e);return De(n,`Expected to find a valid source. sourceId=${e}`),this.isDragging()?!1:n.canDrag(this,e)}canDropOnTarget(e){if(!e)return!1;const n=this.registry.getTarget(e);if(De(n,`Expected to find a valid target. targetId=${e}`),!this.isDragging()||this.didDrop())return!1;const r=this.registry.getTargetType(e),o=this.getItemType();return Zf(r,o)&&n.canDrop(this,e)}isDragging(){return!!this.getItemType()}isDraggingSource(e){if(!e)return!1;const n=this.registry.getSource(e,!0);if(De(n,`Expected to find a valid source. sourceId=${e}`),!this.isDragging()||!this.isSourcePublic())return!1;const r=this.registry.getSourceType(e),o=this.getItemType();return r!==o?!1:n.isDragging(this,e)}isOverTarget(e,n={shallow:!1}){if(!e)return!1;const{shallow:r}=n;if(!this.isDragging())return!1;const o=this.registry.getTargetType(e),c=this.getItemType();if(c&&!Zf(o,c))return!1;const d=this.getTargetIds();if(!d.length)return!1;const h=d.indexOf(e);return r?h===d.length-1:h>-1}getItemType(){return this.store.getState().dragOperation.itemType}getItem(){return this.store.getState().dragOperation.item}getSourceId(){return this.store.getState().dragOperation.sourceId}getTargetIds(){return this.store.getState().dragOperation.targetIds}getDropResult(){return this.store.getState().dragOperation.dropResult}didDrop(){return this.store.getState().dragOperation.didDrop}isSourcePublic(){return!!this.store.getState().dragOperation.isSourcePublic}getInitialClientOffset(){return this.store.getState().dragOffset.initialClientOffset}getInitialSourceClientOffset(){return this.store.getState().dragOffset.initialSourceClientOffset}getClientOffset(){return this.store.getState().dragOffset.clientOffset}getSourceClientOffset(){return yw(this.store.getState().dragOffset)}getDifferenceFromInitialOffset(){return _w(this.store.getState().dragOffset)}constructor(e,n){this.store=e,this.registry=n}}const u_=typeof global<"u"?global:self,Ub=u_.MutationObserver||u_.WebKitMutationObserver;function zb(i){return function(){const n=setTimeout(o,0),r=setInterval(o,50);function o(){clearTimeout(n),clearInterval(r),i()}}}function Sw(i){let e=1;const n=new Ub(i),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}const Cw=typeof Ub=="function"?Sw:zb;class Tw{enqueueTask(e){const{queue:n,requestFlush:r}=this;n.length||(r(),this.flushing=!0),n[n.length]=e}constructor(){this.queue=[],this.pendingErrors=[],this.flushing=!1,this.index=0,this.capacity=1024,this.flush=()=>{const{queue:e}=this;for(;this.index<e.length;){const n=this.index;if(this.index++,e[n].call(),this.index>this.capacity){for(let r=0,o=e.length-this.index;r<o;r++)e[r]=e[r+this.index];e.length-=this.index,this.index=0}}e.length=0,this.index=0,this.flushing=!1},this.registerPendingError=e=>{this.pendingErrors.push(e),this.requestErrorThrow()},this.requestFlush=Cw(this.flush),this.requestErrorThrow=zb(()=>{if(this.pendingErrors.length)throw this.pendingErrors.shift()})}}class ww{call(){try{this.task&&this.task()}catch(e){this.onError(e)}finally{this.task=null,this.release(this)}}constructor(e,n){this.onError=e,this.release=n,this.task=null}}class Ow{create(e){const n=this.freeTasks,r=n.length?n.pop():new ww(this.onError,o=>n[n.length]=o);return r.task=e,r}constructor(e){this.onError=e,this.freeTasks=[]}}const Hb=new Tw,xw=new Ow(Hb.registerPendingError);function Nw(i){Hb.enqueueTask(xw.create(i))}const tp="dnd-core/ADD_SOURCE",np="dnd-core/ADD_TARGET",ip="dnd-core/REMOVE_SOURCE",Uc="dnd-core/REMOVE_TARGET";function Rw(i){return{type:tp,payload:{sourceId:i}}}function Aw(i){return{type:np,payload:{targetId:i}}}function Dw(i){return{type:ip,payload:{sourceId:i}}}function Iw(i){return{type:Uc,payload:{targetId:i}}}function kw(i){De(typeof i.canDrag=="function","Expected canDrag to be a function."),De(typeof i.beginDrag=="function","Expected beginDrag to be a function."),De(typeof i.endDrag=="function","Expected endDrag to be a function.")}function jw(i){De(typeof i.canDrop=="function","Expected canDrop to be a function."),De(typeof i.hover=="function","Expected hover to be a function."),De(typeof i.drop=="function","Expected beginDrag to be a function.")}function Jf(i,e){if(e&&Array.isArray(i)){i.forEach(n=>Jf(n,!1));return}De(typeof i=="string"||typeof i=="symbol",e?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}var wn;(function(i){i.SOURCE="SOURCE",i.TARGET="TARGET"})(wn||(wn={}));let Mw=0;function Lw(){return Mw++}function Pw(i){const e=Lw().toString();switch(i){case wn.SOURCE:return`S${e}`;case wn.TARGET:return`T${e}`;default:throw new Error(`Unknown Handler Role: ${i}`)}}function d_(i){switch(i[0]){case"S":return wn.SOURCE;case"T":return wn.TARGET;default:throw new Error(`Cannot parse handler ID: ${i}`)}}function f_(i,e){const n=i.entries();let r=!1;do{const{done:o,value:[,c]}=n.next();if(c===e)return!0;r=!!o}while(!r);return!1}class Uw{addSource(e,n){Jf(e),kw(n);const r=this.addHandler(wn.SOURCE,e,n);return this.store.dispatch(Rw(r)),r}addTarget(e,n){Jf(e,!0),jw(n);const r=this.addHandler(wn.TARGET,e,n);return this.store.dispatch(Aw(r)),r}containsHandler(e){return f_(this.dragSources,e)||f_(this.dropTargets,e)}getSource(e,n=!1){return De(this.isSourceId(e),"Expected a valid source ID."),n&&e===this.pinnedSourceId?this.pinnedSource:this.dragSources.get(e)}getTarget(e){return De(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}getSourceType(e){return De(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}getTargetType(e){return De(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}isSourceId(e){return d_(e)===wn.SOURCE}isTargetId(e){return d_(e)===wn.TARGET}removeSource(e){De(this.getSource(e),"Expected an existing source."),this.store.dispatch(Dw(e)),Nw(()=>{this.dragSources.delete(e),this.types.delete(e)})}removeTarget(e){De(this.getTarget(e),"Expected an existing target."),this.store.dispatch(Iw(e)),this.dropTargets.delete(e),this.types.delete(e)}pinSource(e){const n=this.getSource(e);De(n,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=n}unpinSource(){De(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}addHandler(e,n,r){const o=Pw(e);return this.types.set(o,n),e===wn.SOURCE?this.dragSources.set(o,r):e===wn.TARGET&&this.dropTargets.set(o,r),o}constructor(e){this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=e}}const zw=(i,e)=>i===e;function Hw(i,e){return!i&&!e?!0:!i||!e?!1:i.x===e.x&&i.y===e.y}function Bw(i,e,n=zw){if(i.length!==e.length)return!1;for(let r=0;r<i.length;++r)if(!n(i[r],e[r]))return!1;return!0}function Vw(i=ro,e){switch(e.type){case Mc:break;case tp:case np:case Uc:case ip:return ro;case jc:case Jh:case Pc:case Lc:default:return ep}const{targetIds:n=[],prevTargetIds:r=[]}=e.payload,o=YT(n,r);if(!(o.length>0||!Bw(n,r)))return ro;const d=r[r.length-1],h=n[n.length-1];return d!==h&&(d&&o.push(d),h&&o.push(h)),o}function $w(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Gw(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){$w(i,o,n[o])})}return i}const h_={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function qw(i=h_,e){const{payload:n}=e;switch(e.type){case Zh:case jc:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case Mc:return Hw(i.clientOffset,n.clientOffset)?i:Gw({},i,{clientOffset:n.clientOffset});case Pc:case Lc:return h_;default:return i}}function Yw(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Dr(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Yw(i,o,n[o])})}return i}const Fw={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function Ww(i=Fw,e){const{payload:n}=e;switch(e.type){case jc:return Dr({},i,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case Jh:return Dr({},i,{isSourcePublic:!0});case Mc:return Dr({},i,{targetIds:n.targetIds});case Uc:return i.targetIds.indexOf(n.targetId)===-1?i:Dr({},i,{targetIds:qT(i.targetIds,n.targetId)});case Lc:return Dr({},i,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case Pc:return Dr({},i,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return i}}function Kw(i=0,e){switch(e.type){case tp:case np:return i+1;case ip:case Uc:return i-1;default:return i}}function Qw(i=0){return i+1}function Xw(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function Zw(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){Xw(i,o,n[o])})}return i}function Jw(i={},e){return{dirtyHandlerIds:Vw(i.dirtyHandlerIds,{type:e.type,payload:Zw({},e.payload,{prevTargetIds:GT(i,"dragOperation.targetIds",[])})}),dragOffset:qw(i.dragOffset,e),refCount:Kw(i.refCount,e),dragOperation:Ww(i.dragOperation,e),stateId:Qw(i.stateId)}}function eO(i,e=void 0,n={},r=!1){const o=tO(r),c=new Ew(o,new Uw(o)),d=new mw(o,c),h=i(d,e,n);return d.receiveBackend(h),d}function tO(i){const e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION__;return Mb(Jw,i&&e&&e({name:"dnd-core",instanceId:"dnd-core"}))}function nO(i,e){if(i==null)return{};var n=iO(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function iO(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}let p_=0;const sc=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");var sO=A.memo(function(e){var{children:n}=e,r=nO(e,["children"]);const[o,c]=rO(r);return A.useEffect(()=>{if(c){const d=Bb();return++p_,()=>{--p_===0&&(d[sc]=null)}}},[]),p.jsx(jb.Provider,{value:o,children:n})});function rO(i){if("manager"in i)return[{dragDropManager:i.manager},!1];const e=aO(i.backend,i.context,i.options,i.debugMode),n=!i.context;return[e,n]}function aO(i,e=Bb(),n,r){const o=e;return o[sc]||(o[sc]={dragDropManager:eO(i,e,n,r)}),o[sc]}function Bb(){return typeof global<"u"?global:window}var wf,g_;function oO(){return g_||(g_=1,wf=function i(e,n){if(e===n)return!0;if(e&&n&&typeof e=="object"&&typeof n=="object"){if(e.constructor!==n.constructor)return!1;var r,o,c;if(Array.isArray(e)){if(r=e.length,r!=n.length)return!1;for(o=r;o--!==0;)if(!i(e[o],n[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if(c=Object.keys(e),r=c.length,r!==Object.keys(n).length)return!1;for(o=r;o--!==0;)if(!Object.prototype.hasOwnProperty.call(n,c[o]))return!1;for(o=r;o--!==0;){var d=c[o];if(!i(e[d],n[d]))return!1}return!0}return e!==e&&n!==n}),wf}var lO=oO();const cO=Oo(lO),Ls=typeof window<"u"?A.useLayoutEffect:A.useEffect;function uO(i,e,n){const[r,o]=A.useState(()=>e(i)),c=A.useCallback(()=>{const d=e(i);cO(r,d)||(o(d),n&&n())},[r,i,n]);return Ls(c),[r,c]}function dO(i,e,n){const[r,o]=uO(i,e,n);return Ls(function(){const d=i.getHandlerId();if(d!=null)return i.subscribeToStateChange(o,{handlerIds:[d]})},[i,o]),r}function Vb(i,e,n){return dO(e,i||(()=>({})),()=>n.reconnect())}function $b(i,e){const n=[...e||[]];return e==null&&typeof i!="function"&&n.push(i),A.useMemo(()=>typeof i=="function"?i():i,n)}function fO(i){return A.useMemo(()=>i.hooks.dragSource(),[i])}function hO(i){return A.useMemo(()=>i.hooks.dragPreview(),[i])}let Of=!1,xf=!1;class pO{receiveHandlerId(e){this.sourceId=e}getHandlerId(){return this.sourceId}canDrag(){De(!Of,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return Of=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{Of=!1}}isDragging(){if(!this.sourceId)return!1;De(!xf,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return xf=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{xf=!1}}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}isDraggingSource(e){return this.internalMonitor.isDraggingSource(e)}isOverTarget(e,n){return this.internalMonitor.isOverTarget(e,n)}getTargetIds(){return this.internalMonitor.getTargetIds()}isSourcePublic(){return this.internalMonitor.isSourcePublic()}getSourceId(){return this.internalMonitor.getSourceId()}subscribeToOffsetChange(e){return this.internalMonitor.subscribeToOffsetChange(e)}canDragSource(e){return this.internalMonitor.canDragSource(e)}canDropOnTarget(e){return this.internalMonitor.canDropOnTarget(e)}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.sourceId=null,this.internalMonitor=e.getMonitor()}}let Nf=!1;class gO{receiveHandlerId(e){this.targetId=e}getHandlerId(){return this.targetId}subscribeToStateChange(e,n){return this.internalMonitor.subscribeToStateChange(e,n)}canDrop(){if(!this.targetId)return!1;De(!Nf,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return Nf=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{Nf=!1}}isOver(e){return this.targetId?this.internalMonitor.isOverTarget(this.targetId,e):!1}getItemType(){return this.internalMonitor.getItemType()}getItem(){return this.internalMonitor.getItem()}getDropResult(){return this.internalMonitor.getDropResult()}didDrop(){return this.internalMonitor.didDrop()}getInitialClientOffset(){return this.internalMonitor.getInitialClientOffset()}getInitialSourceClientOffset(){return this.internalMonitor.getInitialSourceClientOffset()}getSourceClientOffset(){return this.internalMonitor.getSourceClientOffset()}getClientOffset(){return this.internalMonitor.getClientOffset()}getDifferenceFromInitialOffset(){return this.internalMonitor.getDifferenceFromInitialOffset()}constructor(e){this.targetId=null,this.internalMonitor=e.getMonitor()}}function mO(i,e,n){const r=n.getRegistry(),o=r.addTarget(i,e);return[o,()=>r.removeTarget(o)]}function vO(i,e,n){const r=n.getRegistry(),o=r.addSource(i,e);return[o,()=>r.removeSource(o)]}function eh(i,e,n,r){let o;if(o!==void 0)return!!o;if(i===e)return!0;if(typeof i!="object"||!i||typeof e!="object"||!e)return!1;const c=Object.keys(i),d=Object.keys(e);if(c.length!==d.length)return!1;const h=Object.prototype.hasOwnProperty.bind(e);for(let g=0;g<c.length;g++){const m=c[g];if(!h(m))return!1;const _=i[m],b=e[m];if(o=void 0,o===!1||o===void 0&&_!==b)return!1}return!0}function th(i){return i!==null&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function yO(i){if(typeof i.type=="string")return;const e=i.type.displayName||i.type.name||"the component";throw new Error(`Only native element nodes can now be passed to React DnD connectors.You can either wrap ${e} into a <div>, or turn it into a drag source or a drop target itself.`)}function _O(i){return(e=null,n=null)=>{if(!A.isValidElement(e)){const c=e;return i(c,n),c}const r=e;return yO(r),bO(r,n?c=>i(c,n):i)}}function Gb(i){const e={};return Object.keys(i).forEach(n=>{const r=i[n];if(n.endsWith("Ref"))e[n]=i[n];else{const o=_O(r);e[n]=()=>o}}),e}function m_(i,e){typeof i=="function"?i(e):i.current=e}function bO(i,e){const n=i.ref;return De(typeof n!="string","Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://reactjs.org/docs/refs-and-the-dom.html#callback-refs"),n?A.cloneElement(i,{ref:r=>{m_(n,r),m_(e,r)}}):A.cloneElement(i,{ref:e})}class EO{receiveHandlerId(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}get connectTarget(){return this.dragSource}get dragSourceOptions(){return this.dragSourceOptionsInternal}set dragSourceOptions(e){this.dragSourceOptionsInternal=e}get dragPreviewOptions(){return this.dragPreviewOptionsInternal}set dragPreviewOptions(e){this.dragPreviewOptionsInternal=e}reconnect(){const e=this.reconnectDragSource();this.reconnectDragPreview(e)}reconnectDragSource(){const e=this.dragSource,n=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();return n&&this.disconnectDragSource(),this.handlerId?e?(n&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)),n):(this.lastConnectedDragSource=e,n):n}reconnectDragPreview(e=!1){const n=this.dragPreview,r=e||this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();if(r&&this.disconnectDragPreview(),!!this.handlerId){if(!n){this.lastConnectedDragPreview=n;return}r&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=n,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,n,this.dragPreviewOptions))}}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didConnectedDragSourceChange(){return this.lastConnectedDragSource!==this.dragSource}didConnectedDragPreviewChange(){return this.lastConnectedDragPreview!==this.dragPreview}didDragSourceOptionsChange(){return!eh(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}didDragPreviewOptionsChange(){return!eh(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}disconnectDragSource(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}disconnectDragPreview(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}get dragSource(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}get dragPreview(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}clearDragSource(){this.dragSourceNode=null,this.dragSourceRef=null}clearDragPreview(){this.dragPreviewNode=null,this.dragPreviewRef=null}constructor(e){this.hooks=Gb({dragSource:(n,r)=>{this.clearDragSource(),this.dragSourceOptions=r||null,th(n)?this.dragSourceRef=n:this.dragSourceNode=n,this.reconnectDragSource()},dragPreview:(n,r)=>{this.clearDragPreview(),this.dragPreviewOptions=r||null,th(n)?this.dragPreviewRef=n:this.dragPreviewNode=n,this.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=e}}class SO{get connectTarget(){return this.dropTarget}reconnect(){const e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();const n=this.dropTarget;if(this.handlerId){if(!n){this.lastConnectedDropTarget=n;return}e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=n,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,n,this.dropTargetOptions))}}receiveHandlerId(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}get dropTargetOptions(){return this.dropTargetOptionsInternal}set dropTargetOptions(e){this.dropTargetOptionsInternal=e}didHandlerIdChange(){return this.lastConnectedHandlerId!==this.handlerId}didDropTargetChange(){return this.lastConnectedDropTarget!==this.dropTarget}didOptionsChange(){return!eh(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}disconnectDropTarget(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}get dropTarget(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}clearDropTarget(){this.dropTargetRef=null,this.dropTargetNode=null}constructor(e){this.hooks=Gb({dropTarget:(n,r)=>{this.clearDropTarget(),this.dropTargetOptions=r,th(n)?this.dropTargetRef=n:this.dropTargetNode=n,this.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=e}}function Fr(){const{dragDropManager:i}=A.useContext(jb);return De(i!=null,"Expected drag drop context"),i}function CO(i,e){const n=Fr(),r=A.useMemo(()=>new EO(n.getBackend()),[n]);return Ls(()=>(r.dragSourceOptions=i||null,r.reconnect(),()=>r.disconnectDragSource()),[r,i]),Ls(()=>(r.dragPreviewOptions=e||null,r.reconnect(),()=>r.disconnectDragPreview()),[r,e]),r}function TO(){const i=Fr();return A.useMemo(()=>new pO(i),[i])}class wO{beginDrag(){const e=this.spec,n=this.monitor;let r=null;return typeof e.item=="object"?r=e.item:typeof e.item=="function"?r=e.item(n):r={},r??null}canDrag(){const e=this.spec,n=this.monitor;return typeof e.canDrag=="boolean"?e.canDrag:typeof e.canDrag=="function"?e.canDrag(n):!0}isDragging(e,n){const r=this.spec,o=this.monitor,{isDragging:c}=r;return c?c(o):n===e.getSourceId()}endDrag(){const e=this.spec,n=this.monitor,r=this.connector,{end:o}=e;o&&o(n.getItem(),n),r.reconnect()}constructor(e,n,r){this.spec=e,this.monitor=n,this.connector=r}}function OO(i,e,n){const r=A.useMemo(()=>new wO(i,e,n),[e,n]);return A.useEffect(()=>{r.spec=i},[i]),r}function xO(i){return A.useMemo(()=>{const e=i.type;return De(e!=null,"spec.type must be defined"),e},[i])}function NO(i,e,n){const r=Fr(),o=OO(i,e,n),c=xO(i);Ls(function(){if(c!=null){const[h,g]=vO(c,o,r);return e.receiveHandlerId(h),n.receiveHandlerId(h),g}},[r,e,n,o,c])}function RO(i,e){const n=$b(i,e);De(!n.begin,"useDrag::spec.begin was deprecated in v14. Replace spec.begin() with spec.item(). (see more here - https://react-dnd.github.io/react-dnd/docs/api/use-drag)");const r=TO(),o=CO(n.options,n.previewOptions);return NO(n,r,o),[Vb(n.collect,r,o),fO(o),hO(o)]}function AO(i){return A.useMemo(()=>i.hooks.dropTarget(),[i])}function DO(i){const e=Fr(),n=A.useMemo(()=>new SO(e.getBackend()),[e]);return Ls(()=>(n.dropTargetOptions=i||null,n.reconnect(),()=>n.disconnectDropTarget()),[i]),n}function IO(){const i=Fr();return A.useMemo(()=>new gO(i),[i])}function kO(i){const{accept:e}=i;return A.useMemo(()=>(De(i.accept!=null,"accept must be defined"),Array.isArray(e)?e:[e]),[e])}class jO{canDrop(){const e=this.spec,n=this.monitor;return e.canDrop?e.canDrop(n.getItem(),n):!0}hover(){const e=this.spec,n=this.monitor;e.hover&&e.hover(n.getItem(),n)}drop(){const e=this.spec,n=this.monitor;if(e.drop)return e.drop(n.getItem(),n)}constructor(e,n){this.spec=e,this.monitor=n}}function MO(i,e){const n=A.useMemo(()=>new jO(i,e),[e]);return A.useEffect(()=>{n.spec=i},[i]),n}function LO(i,e,n){const r=Fr(),o=MO(i,e),c=kO(i);Ls(function(){const[h,g]=mO(c,o,r);return e.receiveHandlerId(h),n.receiveHandlerId(h),g},[r,e,o,n,c.map(d=>d.toString()).join("|")])}function sp(i,e){const n=$b(i,e),r=IO(),o=DO(n.options);return LO(n,r,o),[Vb(n.collect,r,o),AO(o)]}function qb(i){let e=null;return()=>(e==null&&(e=i()),e)}function PO(i,e){return i.filter(n=>n!==e)}function UO(i,e){const n=new Set,r=c=>n.add(c);i.forEach(r),e.forEach(r);const o=[];return n.forEach(c=>o.push(c)),o}class zO{enter(e){const n=this.entered.length,r=o=>this.isNodeInDocument(o)&&(!o.contains||o.contains(e));return this.entered=UO(this.entered.filter(r),[e]),n===0&&this.entered.length>0}leave(e){const n=this.entered.length;return this.entered=PO(this.entered.filter(this.isNodeInDocument),e),n>0&&this.entered.length===0}reset(){this.entered=[]}constructor(e){this.entered=[],this.isNodeInDocument=e}}class HO{initializeExposedProperties(){Object.keys(this.config.exposeProperties).forEach(e=>{Object.defineProperty(this.item,e,{configurable:!0,enumerable:!0,get(){return console.warn(`Browser doesn't allow reading "${e}" until the drop event.`),null}})})}loadDataTransfer(e){if(e){const n={};Object.keys(this.config.exposeProperties).forEach(r=>{const o=this.config.exposeProperties[r];o!=null&&(n[r]={value:o(e,this.config.matchesTypes),configurable:!0,enumerable:!0})}),Object.defineProperties(this.item,n)}}canDrag(){return!0}beginDrag(){return this.item}isDragging(e,n){return n===e.getSourceId()}endDrag(){}constructor(e){this.config=e,this.item={},this.initializeExposedProperties()}}const Yb="__NATIVE_FILE__",Fb="__NATIVE_URL__",Wb="__NATIVE_TEXT__",Kb="__NATIVE_HTML__",v_=Object.freeze(Object.defineProperty({__proto__:null,FILE:Yb,HTML:Kb,TEXT:Wb,URL:Fb},Symbol.toStringTag,{value:"Module"}));function Rf(i,e,n){const r=e.reduce((o,c)=>o||i.getData(c),"");return r??n}const nh={[Yb]:{exposeProperties:{files:i=>Array.prototype.slice.call(i.files),items:i=>i.items,dataTransfer:i=>i},matchesTypes:["Files"]},[Kb]:{exposeProperties:{html:(i,e)=>Rf(i,e,""),dataTransfer:i=>i},matchesTypes:["Html","text/html"]},[Fb]:{exposeProperties:{urls:(i,e)=>Rf(i,e,"").split(`
`),dataTransfer:i=>i},matchesTypes:["Url","text/uri-list"]},[Wb]:{exposeProperties:{text:(i,e)=>Rf(i,e,""),dataTransfer:i=>i},matchesTypes:["Text","text/plain"]}};function BO(i,e){const n=nh[i];if(!n)throw new Error(`native type ${i} has no configuration`);const r=new HO(n);return r.loadDataTransfer(e),r}function Af(i){if(!i)return null;const e=Array.prototype.slice.call(i.types||[]);return Object.keys(nh).filter(n=>{const r=nh[n];return r!=null&&r.matchesTypes?r.matchesTypes.some(o=>e.indexOf(o)>-1):!1})[0]||null}const VO=qb(()=>/firefox/i.test(navigator.userAgent)),Qb=qb(()=>!!window.safari);class y_{interpolate(e){const{xs:n,ys:r,c1s:o,c2s:c,c3s:d}=this;let h=n.length-1;if(e===n[h])return r[h];let g=0,m=d.length-1,_;for(;g<=m;){_=Math.floor(.5*(g+m));const w=n[_];if(w<e)g=_+1;else if(w>e)m=_-1;else return r[_]}h=Math.max(0,m);const b=e-n[h],E=b*b;return r[h]+o[h]*b+c[h]*E+d[h]*b*E}constructor(e,n){const{length:r}=e,o=[];for(let w=0;w<r;w++)o.push(w);o.sort((w,T)=>e[w]<e[T]?-1:1);const c=[],d=[];let h,g;for(let w=0;w<r-1;w++)h=e[w+1]-e[w],g=n[w+1]-n[w],c.push(h),d.push(g/h);const m=[d[0]];for(let w=0;w<c.length-1;w++){const T=d[w],P=d[w+1];if(T*P<=0)m.push(0);else{h=c[w];const N=c[w+1],H=h+N;m.push(3*H/((H+N)/T+(H+h)/P))}}m.push(d[d.length-1]);const _=[],b=[];let E;for(let w=0;w<m.length-1;w++){E=d[w];const T=m[w],P=1/c[w],N=T+m[w+1]-E-E;_.push((E-T-N)*P),b.push(N*P*P)}this.xs=e,this.ys=n,this.c1s=m,this.c2s=_,this.c3s=b}}const $O=1;function Xb(i){const e=i.nodeType===$O?i:i.parentElement;if(!e)return null;const{top:n,left:r}=e.getBoundingClientRect();return{x:r,y:n}}function Zl(i){return{x:i.clientX,y:i.clientY}}function GO(i){var e;return i.nodeName==="IMG"&&(VO()||!(!((e=document.documentElement)===null||e===void 0)&&e.contains(i)))}function qO(i,e,n,r){let o=i?e.width:n,c=i?e.height:r;return Qb()&&i&&(c/=window.devicePixelRatio,o/=window.devicePixelRatio),{dragPreviewWidth:o,dragPreviewHeight:c}}function YO(i,e,n,r,o){const c=GO(e),h=Xb(c?i:e),g={x:n.x-h.x,y:n.y-h.y},{offsetWidth:m,offsetHeight:_}=i,{anchorX:b,anchorY:E}=r,{dragPreviewWidth:w,dragPreviewHeight:T}=qO(c,e,m,_),P=()=>{let re=new y_([0,.5,1],[g.y,g.y/_*T,g.y+T-_]).interpolate(E);return Qb()&&c&&(re+=(window.devicePixelRatio-1)*T),re},N=()=>new y_([0,.5,1],[g.x,g.x/m*w,g.x+w-m]).interpolate(b),{offsetX:H,offsetY:z}=o,X=H===0||H,Z=z===0||z;return{x:X?H:N(),y:Z?z:P()}}class FO{get window(){if(this.globalContext)return this.globalContext;if(typeof window<"u")return window}get document(){var e;return!((e=this.globalContext)===null||e===void 0)&&e.document?this.globalContext.document:this.window?this.window.document:void 0}get rootElement(){var e;return((e=this.optionsArgs)===null||e===void 0?void 0:e.rootElement)||this.window}constructor(e,n){this.ownerDocument=null,this.globalContext=e,this.optionsArgs=n}}function WO(i,e,n){return e in i?Object.defineProperty(i,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):i[e]=n,i}function __(i){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{},r=Object.keys(n);typeof Object.getOwnPropertySymbols=="function"&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable}))),r.forEach(function(o){WO(i,o,n[o])})}return i}class KO{profile(){var e,n;return{sourcePreviewNodes:this.sourcePreviewNodes.size,sourcePreviewNodeOptions:this.sourcePreviewNodeOptions.size,sourceNodeOptions:this.sourceNodeOptions.size,sourceNodes:this.sourceNodes.size,dragStartSourceIds:((e=this.dragStartSourceIds)===null||e===void 0?void 0:e.length)||0,dropTargetIds:this.dropTargetIds.length,dragEnterTargetIds:this.dragEnterTargetIds.length,dragOverTargetIds:((n=this.dragOverTargetIds)===null||n===void 0?void 0:n.length)||0}}get window(){return this.options.window}get document(){return this.options.document}get rootElement(){return this.options.rootElement}setup(){const e=this.rootElement;if(e!==void 0){if(e.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");e.__isReactDndBackendSetUp=!0,this.addEventListeners(e)}}teardown(){const e=this.rootElement;if(e!==void 0&&(e.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.rootElement),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId)){var n;(n=this.window)===null||n===void 0||n.cancelAnimationFrame(this.asyncEndDragFrameId)}}connectDragPreview(e,n,r){return this.sourcePreviewNodeOptions.set(e,r),this.sourcePreviewNodes.set(e,n),()=>{this.sourcePreviewNodes.delete(e),this.sourcePreviewNodeOptions.delete(e)}}connectDragSource(e,n,r){this.sourceNodes.set(e,n),this.sourceNodeOptions.set(e,r);const o=d=>this.handleDragStart(d,e),c=d=>this.handleSelectStart(d);return n.setAttribute("draggable","true"),n.addEventListener("dragstart",o),n.addEventListener("selectstart",c),()=>{this.sourceNodes.delete(e),this.sourceNodeOptions.delete(e),n.removeEventListener("dragstart",o),n.removeEventListener("selectstart",c),n.setAttribute("draggable","false")}}connectDropTarget(e,n){const r=d=>this.handleDragEnter(d,e),o=d=>this.handleDragOver(d,e),c=d=>this.handleDrop(d,e);return n.addEventListener("dragenter",r),n.addEventListener("dragover",o),n.addEventListener("drop",c),()=>{n.removeEventListener("dragenter",r),n.removeEventListener("dragover",o),n.removeEventListener("drop",c)}}addEventListeners(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}removeEventListeners(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}getCurrentSourceNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourceNodeOptions.get(e);return __({dropEffect:this.altKeyPressed?"copy":"move"},n||{})}getCurrentDropEffect(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}getCurrentSourcePreviewNodeOptions(){const e=this.monitor.getSourceId(),n=this.sourcePreviewNodeOptions.get(e);return __({anchorX:.5,anchorY:.5,captureDraggingState:!1},n||{})}isDraggingNativeItem(){const e=this.monitor.getItemType();return Object.keys(v_).some(n=>v_[n]===e)}beginDragNativeItem(e,n){this.clearCurrentDragSourceNode(),this.currentNativeSource=BO(e,n),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}setCurrentDragSourceNode(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e;const n=1e3;this.mouseMoveTimeoutTimer=setTimeout(()=>{var r;return(r=this.rootElement)===null||r===void 0?void 0:r.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},n)}clearCurrentDragSourceNode(){if(this.currentDragSourceNode){if(this.currentDragSourceNode=null,this.rootElement){var e;(e=this.window)===null||e===void 0||e.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.rootElement.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)}return this.mouseMoveTimeoutTimer=null,!0}return!1}handleDragStart(e,n){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(n))}handleDragEnter(e,n){this.dragEnterTargetIds.unshift(n)}handleDragOver(e,n){this.dragOverTargetIds===null&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(n)}handleDrop(e,n){this.dropTargetIds.unshift(n)}constructor(e,n,r){this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.lastClientOffset=null,this.hoverRafId=null,this.getSourceClientOffset=o=>{const c=this.sourceNodes.get(o);return c&&Xb(c)||null},this.endDragNativeItem=()=>{this.isDraggingNativeItem()&&(this.actions.endDrag(),this.currentNativeHandle&&this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null)},this.isNodeInDocument=o=>!!(o&&this.document&&this.document.body&&this.document.body.contains(o)),this.endDragIfSourceWasRemovedFromDOM=()=>{const o=this.currentDragSourceNode;o==null||this.isNodeInDocument(o)||(this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover())},this.scheduleHover=o=>{this.hoverRafId===null&&typeof requestAnimationFrame<"u"&&(this.hoverRafId=requestAnimationFrame(()=>{this.monitor.isDragging()&&this.actions.hover(o||[],{clientOffset:this.lastClientOffset}),this.hoverRafId=null}))},this.cancelHover=()=>{this.hoverRafId!==null&&typeof cancelAnimationFrame<"u"&&(cancelAnimationFrame(this.hoverRafId),this.hoverRafId=null)},this.handleTopDragStartCapture=()=>{this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},this.handleTopDragStart=o=>{if(o.defaultPrevented)return;const{dragStartSourceIds:c}=this;this.dragStartSourceIds=null;const d=Zl(o);this.monitor.isDragging()&&(this.actions.endDrag(),this.cancelHover()),this.actions.beginDrag(c||[],{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:d});const{dataTransfer:h}=o,g=Af(h);if(this.monitor.isDragging()){if(h&&typeof h.setDragImage=="function"){const _=this.monitor.getSourceId(),b=this.sourceNodes.get(_),E=this.sourcePreviewNodes.get(_)||b;if(E){const{anchorX:w,anchorY:T,offsetX:P,offsetY:N}=this.getCurrentSourcePreviewNodeOptions(),X=YO(b,E,d,{anchorX:w,anchorY:T},{offsetX:P,offsetY:N});h.setDragImage(E,X.x,X.y)}}try{h==null||h.setData("application/json",{})}catch{}this.setCurrentDragSourceNode(o.target);const{captureDraggingState:m}=this.getCurrentSourcePreviewNodeOptions();m?this.actions.publishDragSource():setTimeout(()=>this.actions.publishDragSource(),0)}else if(g)this.beginDragNativeItem(g);else{if(h&&!h.types&&(o.target&&!o.target.hasAttribute||!o.target.hasAttribute("draggable")))return;o.preventDefault()}},this.handleTopDragEndCapture=()=>{this.clearCurrentDragSourceNode()&&this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleTopDragEnterCapture=o=>{if(this.dragEnterTargetIds=[],this.isDraggingNativeItem()){var c;(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(o.dataTransfer)}if(!this.enterLeaveCounter.enter(o.target)||this.monitor.isDragging())return;const{dataTransfer:h}=o,g=Af(h);g&&this.beginDragNativeItem(g,h)},this.handleTopDragEnter=o=>{const{dragEnterTargetIds:c}=this;if(this.dragEnterTargetIds=[],!this.monitor.isDragging())return;this.altKeyPressed=o.altKey,c.length>0&&this.actions.hover(c,{clientOffset:Zl(o)}),c.some(h=>this.monitor.canDropOnTarget(h))&&(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect()))},this.handleTopDragOverCapture=o=>{if(this.dragOverTargetIds=[],this.isDraggingNativeItem()){var c;(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(o.dataTransfer)}},this.handleTopDragOver=o=>{const{dragOverTargetIds:c}=this;if(this.dragOverTargetIds=[],!this.monitor.isDragging()){o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none");return}this.altKeyPressed=o.altKey,this.lastClientOffset=Zl(o),this.scheduleHover(c),(c||[]).some(h=>this.monitor.canDropOnTarget(h))?(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect=this.getCurrentDropEffect())):this.isDraggingNativeItem()?o.preventDefault():(o.preventDefault(),o.dataTransfer&&(o.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=o=>{this.isDraggingNativeItem()&&o.preventDefault(),this.enterLeaveCounter.leave(o.target)&&(this.isDraggingNativeItem()&&setTimeout(()=>this.endDragNativeItem(),0),this.cancelHover())},this.handleTopDropCapture=o=>{if(this.dropTargetIds=[],this.isDraggingNativeItem()){var c;o.preventDefault(),(c=this.currentNativeSource)===null||c===void 0||c.loadDataTransfer(o.dataTransfer)}else Af(o.dataTransfer)&&o.preventDefault();this.enterLeaveCounter.reset()},this.handleTopDrop=o=>{const{dropTargetIds:c}=this;this.dropTargetIds=[],this.actions.hover(c,{clientOffset:Zl(o)}),this.actions.drop({dropEffect:this.getCurrentDropEffect()}),this.isDraggingNativeItem()?this.endDragNativeItem():this.monitor.isDragging()&&this.actions.endDrag(),this.cancelHover()},this.handleSelectStart=o=>{const c=o.target;typeof c.dragDrop=="function"&&(c.tagName==="INPUT"||c.tagName==="SELECT"||c.tagName==="TEXTAREA"||c.isContentEditable||(o.preventDefault(),c.dragDrop()))},this.options=new FO(n,r),this.actions=e.getActions(),this.monitor=e.getMonitor(),this.registry=e.getRegistry(),this.enterLeaveCounter=new zO(this.isNodeInDocument)}}const QO=function(e,n,r){return new KO(e,n,r)};var Df={exports:{}},If,b_;function XO(){if(b_)return If;b_=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return If=i,If}var kf,E_;function ZO(){if(E_)return kf;E_=1;var i=XO();function e(){}function n(){}return n.resetWarningCache=e,kf=function(){function r(d,h,g,m,_,b){if(b!==i){var E=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw E.name="Invariant Violation",E}}r.isRequired=r;function o(){return r}var c={array:r,bigint:r,bool:r,func:r,number:r,object:r,string:r,symbol:r,any:r,arrayOf:o,element:r,elementType:r,instanceOf:o,node:r,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return c.PropTypes=c,c},kf}var S_;function JO(){return S_||(S_=1,Df.exports=ZO()()),Df.exports}var e1=JO();const K=Oo(e1);function ih(){return ih=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ih.apply(this,arguments)}function t1(i,e){if(i==null)return{};var n=n1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function n1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var rp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=t1(i,["color","size"]);return Q.createElement("svg",ih({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Q.createElement("polyline",{points:"19 12 12 19 5 12"}))});rp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};rp.displayName="ArrowDown";function sh(){return sh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},sh.apply(this,arguments)}function i1(i,e){if(i==null)return{};var n=s1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function s1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var fi=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=i1(i,["color","size"]);return Q.createElement("svg",sh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("line",{x1:"19",y1:"12",x2:"5",y2:"12"}),Q.createElement("polyline",{points:"12 19 5 12 12 5"}))});fi.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};fi.displayName="ArrowLeft";function rh(){return rh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},rh.apply(this,arguments)}function r1(i,e){if(i==null)return{};var n=a1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function a1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var ap=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=r1(i,["color","size"]);return Q.createElement("svg",rh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("circle",{cx:"12",cy:"8",r:"7"}),Q.createElement("polyline",{points:"8.21 13.89 7 23 12 20 17 23 15.79 13.88"}))});ap.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};ap.displayName="Award";function ah(){return ah=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ah.apply(this,arguments)}function o1(i,e){if(i==null)return{};var n=l1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function l1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var go=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=o1(i,["color","size"]);return Q.createElement("svg",ah({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("line",{x1:"12",y1:"20",x2:"12",y2:"10"}),Q.createElement("line",{x1:"18",y1:"20",x2:"18",y2:"4"}),Q.createElement("line",{x1:"6",y1:"20",x2:"6",y2:"16"}))});go.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};go.displayName="BarChart";function oh(){return oh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},oh.apply(this,arguments)}function c1(i,e){if(i==null)return{};var n=u1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function u1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var xo=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=c1(i,["color","size"]);return Q.createElement("svg",oh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polyline",{points:"6 9 12 15 18 9"}))});xo.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};xo.displayName="ChevronDown";function lh(){return lh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},lh.apply(this,arguments)}function d1(i,e){if(i==null)return{};var n=f1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function f1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var op=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=d1(i,["color","size"]);return Q.createElement("svg",lh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polyline",{points:"15 18 9 12 15 6"}))});op.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};op.displayName="ChevronLeft";function ch(){return ch=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ch.apply(this,arguments)}function h1(i,e){if(i==null)return{};var n=p1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function p1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var zc=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=h1(i,["color","size"]);return Q.createElement("svg",ch({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polyline",{points:"9 18 15 12 9 6"}))});zc.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};zc.displayName="ChevronRight";function uh(){return uh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},uh.apply(this,arguments)}function g1(i,e){if(i==null)return{};var n=m1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function m1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var lp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=g1(i,["color","size"]);return Q.createElement("svg",uh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polyline",{points:"18 15 12 9 6 15"}))});lp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};lp.displayName="ChevronUp";function dh(){return dh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},dh.apply(this,arguments)}function v1(i,e){if(i==null)return{};var n=y1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function y1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var cp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=v1(i,["color","size"]);return Q.createElement("svg",dh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"}),Q.createElement("rect",{x:"8",y:"2",width:"8",height:"4",rx:"1",ry:"1"}))});cp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};cp.displayName="Clipboard";function fh(){return fh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},fh.apply(this,arguments)}function _1(i,e){if(i==null)return{};var n=b1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function b1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var up=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=_1(i,["color","size"]);return Q.createElement("svg",fh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"}))});up.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};up.displayName="Edit2";function hh(){return hh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},hh.apply(this,arguments)}function E1(i,e){if(i==null)return{};var n=S1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function S1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var ao=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=E1(i,["color","size"]);return Q.createElement("svg",hh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"}),Q.createElement("circle",{cx:"12",cy:"12",r:"3"}))});ao.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};ao.displayName="Eye";function ph(){return ph=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},ph.apply(this,arguments)}function C1(i,e){if(i==null)return{};var n=T1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function T1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var dp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=C1(i,["color","size"]);return Q.createElement("svg",ph({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),Q.createElement("polyline",{points:"14 2 14 8 20 8"}),Q.createElement("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),Q.createElement("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),Q.createElement("polyline",{points:"10 9 9 9 8 9"}))});dp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};dp.displayName="FileText";function gh(){return gh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},gh.apply(this,arguments)}function w1(i,e){if(i==null)return{};var n=O1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function O1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var Hc=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=w1(i,["color","size"]);return Q.createElement("svg",gh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"}))});Hc.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};Hc.displayName="Heart";function mh(){return mh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},mh.apply(this,arguments)}function x1(i,e){if(i==null)return{};var n=N1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function N1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var fp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=x1(i,["color","size"]);return Q.createElement("svg",mh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polygon",{points:"12 2 2 7 12 12 22 7 12 2"}),Q.createElement("polyline",{points:"2 17 12 22 22 17"}),Q.createElement("polyline",{points:"2 12 12 17 22 12"}))});fp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};fp.displayName="Layers";function vh(){return vh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},vh.apply(this,arguments)}function R1(i,e){if(i==null)return{};var n=A1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function A1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var hp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=R1(i,["color","size"]);return Q.createElement("svg",vh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"}),Q.createElement("path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"}))});hp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};hp.displayName="Link";function yh(){return yh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},yh.apply(this,arguments)}function D1(i,e){if(i==null)return{};var n=I1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function I1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var pp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=D1(i,["color","size"]);return Q.createElement("svg",yh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"}))});pp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};pp.displayName="MessageCircle";function _h(){return _h=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},_h.apply(this,arguments)}function k1(i,e){if(i==null)return{};var n=j1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function j1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var No=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=k1(i,["color","size"]);return Q.createElement("svg",_h({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"}))});No.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};No.displayName="MessageSquare";function bh(){return bh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},bh.apply(this,arguments)}function M1(i,e){if(i==null)return{};var n=L1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function L1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var gp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=M1(i,["color","size"]);return Q.createElement("svg",bh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"}))});gp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};gp.displayName="Moon";function Eh(){return Eh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Eh.apply(this,arguments)}function P1(i,e){if(i==null)return{};var n=U1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function U1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var mp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=P1(i,["color","size"]);return Q.createElement("svg",Eh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("rect",{x:"3",y:"3",width:"18",height:"18",rx:"2",ry:"2"}),Q.createElement("line",{x1:"12",y1:"8",x2:"12",y2:"16"}),Q.createElement("line",{x1:"8",y1:"12",x2:"16",y2:"12"}))});mp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};mp.displayName="PlusSquare";function Sh(){return Sh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Sh.apply(this,arguments)}function z1(i,e){if(i==null)return{};var n=H1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function H1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var Bc=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=z1(i,["color","size"]);return Q.createElement("svg",Sh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),Q.createElement("line",{x1:"5",y1:"12",x2:"19",y2:"12"}))});Bc.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};Bc.displayName="Plus";function Ch(){return Ch=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Ch.apply(this,arguments)}function B1(i,e){if(i==null)return{};var n=V1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function V1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var vp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=B1(i,["color","size"]);return Q.createElement("svg",Ch({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("circle",{cx:"12",cy:"12",r:"3"}),Q.createElement("path",{d:"M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"}))});vp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};vp.displayName="Settings";function Th(){return Th=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Th.apply(this,arguments)}function $1(i,e){if(i==null)return{};var n=G1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function G1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var yp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=$1(i,["color","size"]);return Q.createElement("svg",Th({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("circle",{cx:"12",cy:"12",r:"10"}),Q.createElement("path",{d:"M8 14s1.5 2 4 2 4-2 4-2"}),Q.createElement("line",{x1:"9",y1:"9",x2:"9.01",y2:"9"}),Q.createElement("line",{x1:"15",y1:"9",x2:"15.01",y2:"9"}))});yp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};yp.displayName="Smile";function wh(){return wh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},wh.apply(this,arguments)}function q1(i,e){if(i==null)return{};var n=Y1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function Y1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var Is=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=q1(i,["color","size"]);return Q.createElement("svg",wh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2"}))});Is.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};Is.displayName="Star";function Oh(){return Oh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Oh.apply(this,arguments)}function F1(i,e){if(i==null)return{};var n=W1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function W1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var _p=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=F1(i,["color","size"]);return Q.createElement("svg",Oh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("circle",{cx:"12",cy:"12",r:"5"}),Q.createElement("line",{x1:"12",y1:"1",x2:"12",y2:"3"}),Q.createElement("line",{x1:"12",y1:"21",x2:"12",y2:"23"}),Q.createElement("line",{x1:"4.22",y1:"4.22",x2:"5.64",y2:"5.64"}),Q.createElement("line",{x1:"18.36",y1:"18.36",x2:"19.78",y2:"19.78"}),Q.createElement("line",{x1:"1",y1:"12",x2:"3",y2:"12"}),Q.createElement("line",{x1:"21",y1:"12",x2:"23",y2:"12"}),Q.createElement("line",{x1:"4.22",y1:"19.78",x2:"5.64",y2:"18.36"}),Q.createElement("line",{x1:"18.36",y1:"5.64",x2:"19.78",y2:"4.22"}))});_p.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};_p.displayName="Sun";function xh(){return xh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},xh.apply(this,arguments)}function K1(i,e){if(i==null)return{};var n=Q1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function Q1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var bp=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=K1(i,["color","size"]);return Q.createElement("svg",xh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M14 9V5a3 3 0 0 0-3-3l-4 9v11h11.28a2 2 0 0 0 2-1.7l1.38-9a2 2 0 0 0-2-2.3zM7 22H4a2 2 0 0 1-2-2v-7a2 2 0 0 1 2-2h3"}))});bp.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};bp.displayName="ThumbsUp";function Nh(){return Nh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Nh.apply(this,arguments)}function X1(i,e){if(i==null)return{};var n=Z1(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function Z1(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var Ep=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=X1(i,["color","size"]);return Q.createElement("svg",Nh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("polyline",{points:"3 6 5 6 21 6"}),Q.createElement("path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"}),Q.createElement("line",{x1:"10",y1:"11",x2:"10",y2:"17"}),Q.createElement("line",{x1:"14",y1:"11",x2:"14",y2:"17"}))});Ep.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};Ep.displayName="Trash2";function Rh(){return Rh=Object.assign||function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(i[r]=n[r])}return i},Rh.apply(this,arguments)}function J1(i,e){if(i==null)return{};var n=ex(i,e),r,o;if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(i);for(o=0;o<c.length;o++)r=c[o],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(i,r)&&(n[r]=i[r])}return n}function ex(i,e){if(i==null)return{};var n={},r=Object.keys(i),o,c;for(c=0;c<r.length;c++)o=r[c],!(e.indexOf(o)>=0)&&(n[o]=i[o]);return n}var $s=A.forwardRef(function(i,e){var n=i.color,r=n===void 0?"currentColor":n,o=i.size,c=o===void 0?24:o,d=J1(i,["color","size"]);return Q.createElement("svg",Rh({ref:e,xmlns:"http://www.w3.org/2000/svg",width:c,height:c,viewBox:"0 0 24 24",fill:"none",stroke:r,strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},d),Q.createElement("path",{d:"M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"}),Q.createElement("circle",{cx:"9",cy:"7",r:"4"}),Q.createElement("path",{d:"M23 21v-2a4 4 0 0 0-3-3.87"}),Q.createElement("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}))});$s.propTypes={color:K.string,size:K.oneOfType([K.string,K.number])};$s.displayName="Users";const tx=()=>{};var C_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne=function(i,e){if(!i)throw Wr(e)},Wr=function(i){return new Error("Firebase Database ("+Zb.SDK_VERSION+") INTERNAL ASSERT FAILED: "+i)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},nx=function(i){const e=[];let n=0,r=0;for(;n<i.length;){const o=i[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const c=i[n++];e[r++]=String.fromCharCode((o&31)<<6|c&63)}else if(o>239&&o<365){const c=i[n++],d=i[n++],h=i[n++],g=((o&7)<<18|(c&63)<<12|(d&63)<<6|h&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const c=i[n++],d=i[n++];e[r++]=String.fromCharCode((o&15)<<12|(c&63)<<6|d&63)}}return e.join("")},Sp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<i.length;o+=3){const c=i[o],d=o+1<i.length,h=d?i[o+1]:0,g=o+2<i.length,m=g?i[o+2]:0,_=c>>2,b=(c&3)<<4|h>>4;let E=(h&15)<<2|m>>6,w=m&63;g||(w=64,d||(E=64)),r.push(n[_],n[b],n[E],n[w])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(Jb(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):nx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<i.length;){const c=n[i.charAt(o++)],h=o<i.length?n[i.charAt(o)]:0;++o;const m=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,c==null||h==null||m==null||b==null)throw new ix;const E=c<<2|h>>4;if(r.push(E),m!==64){const w=h<<4&240|m>>2;if(r.push(w),b!==64){const T=m<<6&192|b;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class ix extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const e0=function(i){const e=Jb(i);return Sp.encodeByteArray(e,!0)},uc=function(i){return e0(i).replace(/\./g,"")},dc=function(i){try{return Sp.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sx(i){return t0(void 0,i)}function t0(i,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:i===void 0&&(i={});break;case Array:i=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!rx(n)||(i[n]=t0(i[n],e[n]));return i}function rx(i){return i!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox=()=>ax().__FIREBASE_DEFAULTS__,lx=()=>{if(typeof process>"u"||typeof C_>"u")return;const i=C_.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},cx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&dc(i[1]);return e&&JSON.parse(e)},Cp=()=>{try{return tx()||ox()||lx()||cx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},n0=i=>{var e,n;return(n=(e=Cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},ux=i=>{const e=n0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},i0=()=>{var i;return(i=Cp())===null||i===void 0?void 0:i.config},s0=i=>{var e;return(e=Cp())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=i.iat||0,c=i.sub||i.user_id;if(!c)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:c,user_id:c,firebase:{sign_in_provider:"custom",identities:{}}},i);return[uc(JSON.stringify(n)),uc(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Tp(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Wt())}function fx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function hx(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function r0(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function px(){const i=Wt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function gx(){return Zb.NODE_ADMIN===!0}function mx(){try{return typeof indexedDB=="object"}catch{return!1}}function vx(){return new Promise((i,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var c;e(((c=o.error)===null||c===void 0?void 0:c.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="FirebaseError";class ds extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yx,Object.setPrototypeOf(this,ds.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ro.prototype.create)}}class Ro{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,c=this.errors[e],d=c?_x(c,r):"Error",h=`${this.serviceName}: ${d} (${o}).`;return new ds(o,h,r)}}function _x(i,e){return i.replace(bx,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const bx=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mo(i){return JSON.parse(i)}function Ct(i){return JSON.stringify(i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(i){let e={},n={},r={},o="";try{const c=i.split(".");e=mo(dc(c[0])||""),n=mo(dc(c[1])||""),o=c[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:o}},Ex=function(i){const e=a0(i),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},Sx=function(i){const e=a0(i).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(i,e){return Object.prototype.hasOwnProperty.call(i,e)}function Br(i,e){if(Object.prototype.hasOwnProperty.call(i,e))return i[e]}function Ah(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function fc(i,e,n){const r={};for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&(r[o]=e.call(n,i[o],o,i));return r}function Ps(i,e){if(i===e)return!0;const n=Object.keys(i),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const c=i[o],d=e[o];if(T_(c)&&T_(d)){if(!Ps(c,d))return!1}else if(c!==d)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function T_(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kr(i){const e=[];for(const[n,r]of Object.entries(i))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let b=0;b<16;b++)r[b]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let b=0;b<16;b++)r[b]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let b=16;b<80;b++){const E=r[b-3]^r[b-8]^r[b-14]^r[b-16];r[b]=(E<<1|E>>>31)&4294967295}let o=this.chain_[0],c=this.chain_[1],d=this.chain_[2],h=this.chain_[3],g=this.chain_[4],m,_;for(let b=0;b<80;b++){b<40?b<20?(m=h^c&(d^h),_=1518500249):(m=c^d^h,_=1859775393):b<60?(m=c&d|h&(c|d),_=2400959708):(m=c^d^h,_=3395469782);const E=(o<<5|o>>>27)+m+g+_+r[b]&4294967295;g=h,h=d,d=(c<<30|c>>>2)&4294967295,c=o,o=E}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+c&4294967295,this.chain_[2]=this.chain_[2]+d&4294967295,this.chain_[3]=this.chain_[3]+h&4294967295,this.chain_[4]=this.chain_[4]+g&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let o=0;const c=this.buf_;let d=this.inbuf_;for(;o<n;){if(d===0)for(;o<=r;)this.compress_(e,o),o+=this.blockSize;if(typeof e=="string"){for(;o<n;)if(c[d]=e.charCodeAt(o),++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}else for(;o<n;)if(c[d]=e[o],++d,++o,d===this.blockSize){this.compress_(c),d=0;break}}this.inbuf_=d,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let o=this.blockSize-1;o>=56;o--)this.buf_[o]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let o=0;o<5;o++)for(let c=24;c>=0;c-=8)e[r]=this.chain_[o]>>c&255,++r;return e}}function Tx(i,e){const n=new wx(i,e);return n.subscribe.bind(n)}class wx{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ox(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=jf),o.error===void 0&&(o.error=jf),o.complete===void 0&&(o.complete=jf);const c=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),c}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Ox(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function jf(){}function wp(i,e){return`${i} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xx=function(i){const e=[];let n=0;for(let r=0;r<i.length;r++){let o=i.charCodeAt(r);if(o>=55296&&o<=56319){const c=o-55296;r++,ne(r<i.length,"Surrogate pair missing trail surrogate.");const d=i.charCodeAt(r)-56320;o=65536+(c<<10)+d}o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):o<65536?(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$c=function(i){let e=0;for(let n=0;n<i.length;n++){const r=i.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(i){return i&&i._delegate?i._delegate:i}class Us{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const As="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nx{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Vc;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(c){if(o)return null;throw c}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ax(e))try{this.getOrInitializeService({instanceIdentifier:As})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const c=this.getOrInitializeService({instanceIdentifier:o});r.resolve(c)}catch{}}}}clearInstance(e=As){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=As){return this.instances.has(e)}getOptions(e=As){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[c,d]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(c);r===h&&d.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),c=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;c.add(e),this.onInitCallbacks.set(o,c);const d=this.instances.get(o);return d&&e(d,o),()=>{c.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Rx(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=As){return this.component?this.component.multipleInstances?e:As:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rx(i){return i===As?void 0:i}function Ax(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dx{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Nx(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tt;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(tt||(tt={}));const Ix={debug:tt.DEBUG,verbose:tt.VERBOSE,info:tt.INFO,warn:tt.WARN,error:tt.ERROR,silent:tt.SILENT},kx=tt.INFO,jx={[tt.DEBUG]:"log",[tt.VERBOSE]:"log",[tt.INFO]:"info",[tt.WARN]:"warn",[tt.ERROR]:"error"},Mx=(i,e,...n)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),o=jx[e];if(o)console[o](`[${r}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Op{constructor(e){this.name=e,this._logLevel=kx,this._logHandler=Mx,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Ix[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tt.DEBUG,...e),this._logHandler(this,tt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tt.VERBOSE,...e),this._logHandler(this,tt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tt.INFO,...e),this._logHandler(this,tt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tt.WARN,...e),this._logHandler(this,tt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tt.ERROR,...e),this._logHandler(this,tt.ERROR,...e)}}const Lx=(i,e)=>e.some(n=>i instanceof n);let w_,O_;function Px(){return w_||(w_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Ux(){return O_||(O_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const o0=new WeakMap,Dh=new WeakMap,l0=new WeakMap,Mf=new WeakMap,xp=new WeakMap;function zx(i){const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("success",c),i.removeEventListener("error",d)},c=()=>{n(es(i.result)),o()},d=()=>{r(i.error),o()};i.addEventListener("success",c),i.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&o0.set(n,i)}).catch(()=>{}),xp.set(e,i),e}function Hx(i){if(Dh.has(i))return;const e=new Promise((n,r)=>{const o=()=>{i.removeEventListener("complete",c),i.removeEventListener("error",d),i.removeEventListener("abort",d)},c=()=>{n(),o()},d=()=>{r(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",c),i.addEventListener("error",d),i.addEventListener("abort",d)});Dh.set(i,e)}let Ih={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Dh.get(i);if(e==="objectStoreNames")return i.objectStoreNames||l0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return es(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function Bx(i){Ih=i(Ih)}function Vx(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=i.call(Lf(this),e,...n);return l0.set(r,e.sort?e.sort():[e]),es(r)}:Ux().includes(i)?function(...e){return i.apply(Lf(this),e),es(o0.get(this))}:function(...e){return es(i.apply(Lf(this),e))}}function $x(i){return typeof i=="function"?Vx(i):(i instanceof IDBTransaction&&Hx(i),Lx(i,Px())?new Proxy(i,Ih):i)}function es(i){if(i instanceof IDBRequest)return zx(i);if(Mf.has(i))return Mf.get(i);const e=$x(i);return e!==i&&(Mf.set(i,e),xp.set(e,i)),e}const Lf=i=>xp.get(i);function Gx(i,e,{blocked:n,upgrade:r,blocking:o,terminated:c}={}){const d=indexedDB.open(i,e),h=es(d);return r&&d.addEventListener("upgradeneeded",g=>{r(es(d.result),g.oldVersion,g.newVersion,es(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),h.then(g=>{c&&g.addEventListener("close",()=>c()),o&&g.addEventListener("versionchange",m=>o(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const qx=["get","getKey","getAll","getAllKeys","count"],Yx=["put","add","delete","clear"],Pf=new Map;function x_(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Pf.get(e))return Pf.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=Yx.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||qx.includes(n)))return;const c=async function(d,...h){const g=this.transaction(d,o?"readwrite":"readonly");let m=g.store;return r&&(m=m.index(h.shift())),(await Promise.all([m[n](...h),o&&g.done]))[0]};return Pf.set(e,c),c}Bx(i=>({...i,get:(e,n,r)=>x_(e,n)||i.get(e,n,r),has:(e,n)=>!!x_(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Wx(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function Wx(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",N_="0.11.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new Op("@firebase/app"),Kx="@firebase/app-compat",Qx="@firebase/analytics-compat",Xx="@firebase/analytics",Zx="@firebase/app-check-compat",Jx="@firebase/app-check",eN="@firebase/auth",tN="@firebase/auth-compat",nN="@firebase/database",iN="@firebase/data-connect",sN="@firebase/database-compat",rN="@firebase/functions",aN="@firebase/functions-compat",oN="@firebase/installations",lN="@firebase/installations-compat",cN="@firebase/messaging",uN="@firebase/messaging-compat",dN="@firebase/performance",fN="@firebase/performance-compat",hN="@firebase/remote-config",pN="@firebase/remote-config-compat",gN="@firebase/storage",mN="@firebase/storage-compat",vN="@firebase/firestore",yN="@firebase/vertexai",_N="@firebase/firestore-compat",bN="firebase",EN="11.6.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh="[DEFAULT]",SN={[kh]:"fire-core",[Kx]:"fire-core-compat",[Xx]:"fire-analytics",[Qx]:"fire-analytics-compat",[Jx]:"fire-app-check",[Zx]:"fire-app-check-compat",[eN]:"fire-auth",[tN]:"fire-auth-compat",[nN]:"fire-rtdb",[iN]:"fire-data-connect",[sN]:"fire-rtdb-compat",[rN]:"fire-fn",[aN]:"fire-fn-compat",[oN]:"fire-iid",[lN]:"fire-iid-compat",[cN]:"fire-fcm",[uN]:"fire-fcm-compat",[dN]:"fire-perf",[fN]:"fire-perf-compat",[hN]:"fire-rc",[pN]:"fire-rc-compat",[gN]:"fire-gcs",[mN]:"fire-gcs-compat",[vN]:"fire-fst",[_N]:"fire-fst-compat",[yN]:"fire-vertex","fire-js":"fire-js",[bN]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc=new Map,CN=new Map,Mh=new Map;function R_(i,e){try{i.container.addComponent(e)}catch(n){yi.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function Vr(i){const e=i.name;if(Mh.has(e))return yi.debug(`There were multiple attempts to register component ${e}.`),!1;Mh.set(e,i);for(const n of hc.values())R_(n,i);for(const n of CN.values())R_(n,i);return!0}function Np(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Dn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TN={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},ts=new Ro("app","Firebase",TN);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wN{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Us("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw ts.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr=EN;function c0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const r=Object.assign({name:jh,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw ts.create("bad-app-name",{appName:String(o)});if(n||(n=i0()),!n)throw ts.create("no-options");const c=hc.get(o);if(c){if(Ps(n,c.options)&&Ps(r,c.config))return c;throw ts.create("duplicate-app",{appName:o})}const d=new Dx(o);for(const g of Mh.values())d.addComponent(g);const h=new wN(n,r,d);return hc.set(o,h),h}function u0(i=jh){const e=hc.get(i);if(!e&&i===jh&&i0())return c0();if(!e)throw ts.create("no-app",{appName:i});return e}function ns(i,e,n){var r;let o=(r=SN[i])!==null&&r!==void 0?r:i;n&&(o+=`-${n}`);const c=o.match(/\s|\//),d=e.match(/\s|\//);if(c||d){const h=[`Unable to register library "${o}" with version "${e}":`];c&&h.push(`library name "${o}" contains illegal characters (whitespace or "/")`),c&&d&&h.push("and"),d&&h.push(`version name "${e}" contains illegal characters (whitespace or "/")`),yi.warn(h.join(" "));return}Vr(new Us(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ON="firebase-heartbeat-database",xN=1,vo="firebase-heartbeat-store";let Uf=null;function d0(){return Uf||(Uf=Gx(ON,xN,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(vo)}catch(n){console.warn(n)}}}}).catch(i=>{throw ts.create("idb-open",{originalErrorMessage:i.message})})),Uf}async function NN(i){try{const n=(await d0()).transaction(vo),r=await n.objectStore(vo).get(f0(i));return await n.done,r}catch(e){if(e instanceof ds)yi.warn(e.message);else{const n=ts.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});yi.warn(n.message)}}}async function A_(i,e){try{const r=(await d0()).transaction(vo,"readwrite");await r.objectStore(vo).put(e,f0(i)),await r.done}catch(n){if(n instanceof ds)yi.warn(n.message);else{const r=ts.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});yi.warn(r.message)}}}function f0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RN=1024,AN=30;class DN{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new kN(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),c=D_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===c||this._heartbeatsCache.heartbeats.some(d=>d.date===c))return;if(this._heartbeatsCache.heartbeats.push({date:c,agent:o}),this._heartbeatsCache.heartbeats.length>AN){const d=jN(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){yi.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=D_(),{heartbeatsToSend:r,unsentEntries:o}=IN(this._heartbeatsCache.heartbeats),c=uc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),c}catch(n){return yi.warn(n),""}}}function D_(){return new Date().toISOString().substring(0,10)}function IN(i,e=RN){const n=[];let r=i.slice();for(const o of i){const c=n.find(d=>d.agent===o.agent);if(c){if(c.dates.push(o.date),I_(n)>e){c.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),I_(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class kN{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mx()?vx().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await NN(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function I_(i){return uc(JSON.stringify({version:2,heartbeats:i})).length}function jN(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let r=1;r<i.length;r++)i[r].date<n&&(n=i[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MN(i){Vr(new Us("platform-logger",e=>new Fx(e),"PRIVATE")),Vr(new Us("heartbeat",e=>new DN(e),"PRIVATE")),ns(kh,N_,i),ns(kh,N_,"esm2017"),ns("fire-js","")}MN("");var k_={};const j_="@firebase/database",M_="1.0.14";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h0="";function LN(i){h0=i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ct(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:mo(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UN{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return Si(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p0=function(i){try{if(typeof window<"u"&&typeof window[i]<"u"){const e=window[i];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new PN(e)}}catch{}return new UN},ks=p0("localStorage"),zN=p0("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mr=new Op("@firebase/database"),HN=function(){let i=1;return function(){return i++}}(),g0=function(i){const e=xx(i),n=new Cx;n.update(e);const r=n.digest();return Sp.encodeByteArray(r)},Ao=function(...i){let e="";for(let n=0;n<i.length;n++){const r=i[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Ao.apply(null,r):typeof r=="object"?e+=Ct(r):e+=r,e+=" "}return e};let oo=null,L_=!0;const BN=function(i,e){ne(!0,"Can't turn on custom loggers persistently."),Mr.logLevel=tt.VERBOSE,oo=Mr.log.bind(Mr)},Vt=function(...i){if(L_===!0&&(L_=!1,oo===null&&zN.get("logging_enabled")===!0&&BN()),oo){const e=Ao.apply(null,i);oo(e)}},Do=function(i){return function(...e){Vt(i,...e)}},Lh=function(...i){const e="FIREBASE INTERNAL ERROR: "+Ao(...i);Mr.error(e)},_i=function(...i){const e=`FIREBASE FATAL ERROR: ${Ao(...i)}`;throw Mr.error(e),new Error(e)},tn=function(...i){const e="FIREBASE WARNING: "+Ao(...i);Mr.warn(e)},VN=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&tn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},m0=function(i){return typeof i=="number"&&(i!==i||i===Number.POSITIVE_INFINITY||i===Number.NEGATIVE_INFINITY)},$N=function(i){if(document.readyState==="complete")i();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,i())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},$r="[MIN_NAME]",zs="[MAX_NAME]",Xr=function(i,e){if(i===e)return 0;if(i===$r||e===zs)return-1;if(e===$r||i===zs)return 1;{const n=P_(i),r=P_(e);return n!==null?r!==null?n-r===0?i.length-e.length:n-r:-1:r!==null?1:i<e?-1:1}},GN=function(i,e){return i===e?0:i<e?-1:1},eo=function(i,e){if(e&&i in e)return e[i];throw new Error("Missing required key ("+i+") in object: "+Ct(e))},Rp=function(i){if(typeof i!="object"||i===null)return Ct(i);const e=[];for(const r in i)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=Ct(e[r]),n+=":",n+=Rp(i[e[r]]);return n+="}",n},v0=function(i,e){const n=i.length;if(n<=e)return[i];const r=[];for(let o=0;o<n;o+=e)o+e>n?r.push(i.substring(o,n)):r.push(i.substring(o,o+e));return r};function nn(i,e){for(const n in i)i.hasOwnProperty(n)&&e(n,i[n])}const y0=function(i){ne(!m0(i),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let o,c,d,h,g;i===0?(c=0,d=0,o=1/i===-1/0?1:0):(o=i<0,i=Math.abs(i),i>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(i)/Math.LN2),r),c=h+r,d=Math.round(i*Math.pow(2,n-h)-Math.pow(2,n))):(c=0,d=Math.round(i/Math.pow(2,1-r-n))));const m=[];for(g=n;g;g-=1)m.push(d%2?1:0),d=Math.floor(d/2);for(g=e;g;g-=1)m.push(c%2?1:0),c=Math.floor(c/2);m.push(o?1:0),m.reverse();const _=m.join("");let b="";for(g=0;g<64;g+=8){let E=parseInt(_.substr(g,8),2).toString(16);E.length===1&&(E="0"+E),b=b+E}return b.toLowerCase()},qN=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},YN=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function FN(i,e){let n="Unknown Error";i==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":i==="permission_denied"?n="Client doesn't have permission to access the desired data.":i==="unavailable"&&(n="The service is unavailable");const r=new Error(i+" at "+e._path.toString()+": "+n);return r.code=i.toUpperCase(),r}const WN=new RegExp("^-?(0*)\\d{1,10}$"),KN=-2147483648,QN=2147483647,P_=function(i){if(WN.test(i)){const e=Number(i);if(e>=KN&&e<=QN)return e}return null},Zr=function(i){try{i()}catch(e){setTimeout(()=>{const n=e.stack||"";throw tn("Exception was thrown by user callback.",n),e},Math.floor(0))}},XN=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},lo=function(i,e){const n=setTimeout(i,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Dn(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){tn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JN{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(o=>this.auth_=o)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(Vt("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',tn(e)}}class rc{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}rc.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ap="5",_0="v",b0="s",E0="r",S0="f",C0=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,T0="ls",w0="p",Ph="ac",O0="websocket",x0="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N0{constructor(e,n,r,o,c=!1,d="",h=!1,g=!1,m=null){this.secure=n,this.namespace=r,this.webSocketOnly=o,this.nodeAdmin=c,this.persistenceKey=d,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=g,this.emulatorOptions=m,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=ks.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&ks.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function eR(i){return i.host!==i.internalHost||i.isCustomHost()||i.includeNamespaceInQueryParams}function R0(i,e,n){ne(typeof e=="string","typeof type must == string"),ne(typeof n=="object","typeof params must == object");let r;if(e===O0)r=(i.secure?"wss://":"ws://")+i.internalHost+"/.ws?";else if(e===x0)r=(i.secure?"https://":"http://")+i.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);eR(i)&&(n.ns=i.namespace);const o=[];return nn(n,(c,d)=>{o.push(c+"="+d)}),r+o.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(){this.counters_={}}incrementCounter(e,n=1){Si(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return sx(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zf={},Hf={};function Dp(i){const e=i.toString();return zf[e]||(zf[e]=new tR),zf[e]}function nR(i,e){const n=i.toString();return Hf[n]||(Hf[n]=e()),Hf[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let o=0;o<r.length;++o)r[o]&&Zr(()=>{this.onMessage_(r[o])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U_="start",sR="close",rR="pLPCommand",aR="pRTLPCB",A0="id",D0="pw",I0="ser",oR="cb",lR="seg",cR="ts",uR="d",dR="dframe",k0=1870,j0=30,fR=k0-j0,hR=25e3,pR=3e4;class kr{constructor(e,n,r,o,c,d,h){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.transportSessionId=d,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Do(e),this.stats_=Dp(n),this.urlFn=g=>(this.appCheckToken&&(g[Ph]=this.appCheckToken),R0(n,x0,g))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iR(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(pR)),$N(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Ip((...c)=>{const[d,h,g,m,_]=c;if(this.incrementIncomingBytes_(c),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,d===U_)this.id=h,this.password=g;else if(d===sR)h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+d)},(...c)=>{const[d,h]=c;this.incrementIncomingBytes_(c),this.myPacketOrderer.handleResponse(d,h)},()=>{this.onClosed_()},this.urlFn);const r={};r[U_]="t",r[I0]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[oR]=this.scriptTagHolder.uniqueCallbackIdentifier),r[_0]=Ap,this.transportSessionId&&(r[b0]=this.transportSessionId),this.lastSessionId&&(r[T0]=this.lastSessionId),this.applicationId&&(r[w0]=this.applicationId),this.appCheckToken&&(r[Ph]=this.appCheckToken),typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(r[E0]=S0);const o=this.urlFn(r);this.log_("Connecting via long-poll to "+o),this.scriptTagHolder.addTag(o,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){kr.forceAllow_=!0}static forceDisallow(){kr.forceDisallow_=!0}static isAvailable(){return kr.forceAllow_?!0:!kr.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!qN()&&!YN()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=e0(n),o=v0(r,fR);for(let c=0;c<o.length;c++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,o.length,o[c]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[dR]="t",r[A0]=e,r[D0]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Ct(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class Ip{constructor(e,n,r,o){this.onDisconnect=r,this.urlFn=o,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=HN(),window[rR+this.uniqueCallbackIdentifier]=e,window[aR+this.uniqueCallbackIdentifier]=n,this.myIFrame=Ip.createIFrame_();let c="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(c='<script>document.domain="'+document.domain+'";<\/script>');const d="<html><body>"+c+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(d),this.myIFrame.doc.close()}catch(h){Vt("frame writing exception"),h.stack&&Vt(h.stack),Vt(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Vt("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[A0]=this.myID,e[D0]=this.myPW,e[I0]=this.currentSerial;let n=this.urlFn(e),r="",o=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+j0+r.length<=k0;){const d=this.pendingSegs.shift();r=r+"&"+lR+o+"="+d.seg+"&"+cR+o+"="+d.ts+"&"+uR+o+"="+d.d,o++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},o=setTimeout(r,Math.floor(hR)),c=()=>{clearTimeout(o),r()};this.addTag(e,c)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const o=r.readyState;(!o||o==="loaded"||o==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Vt("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gR=16384,mR=45e3;let pc=null;typeof MozWebSocket<"u"?pc=MozWebSocket:typeof WebSocket<"u"&&(pc=WebSocket);class In{constructor(e,n,r,o,c,d,h){this.connId=e,this.applicationId=r,this.appCheckToken=o,this.authToken=c,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Do(this.connId),this.stats_=Dp(n),this.connURL=In.connectionURL_(n,d,h,o,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,o,c){const d={};return d[_0]=Ap,typeof location<"u"&&location.hostname&&C0.test(location.hostname)&&(d[E0]=S0),n&&(d[b0]=n),r&&(d[T0]=r),o&&(d[Ph]=o),c&&(d[w0]=c),R0(e,O0,d)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,ks.set("previous_websocket_failure",!0);try{let r;gx(),this.mySock=new pc(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const o=r.message||r.data;o&&this.log_(o),this.onClosed_()}}start(){}static forceDisallow(){In.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&pc!==null&&!In.forceDisallow_}static previouslyFailed(){return ks.isInMemoryStorage||ks.get("previous_websocket_failure")===!0}markConnectionHealthy(){ks.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=mo(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(ne(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=Ct(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=v0(n,gR);r.length>1&&this.sendString_(String(r.length));for(let o=0;o<r.length;o++)this.sendString_(r[o])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(mR))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}In.responsesRequiredToBeHealthy=2;In.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yo{static get ALL_TRANSPORTS(){return[kr,In]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=In&&In.isAvailable();let r=n&&!In.previouslyFailed();if(e.webSocketOnly&&(n||tn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[In];else{const o=this.transports_=[];for(const c of yo.ALL_TRANSPORTS)c&&c.isAvailable()&&o.push(c);yo.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}yo.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vR=6e4,yR=5e3,_R=10*1024,bR=100*1024,Bf="t",z_="d",ER="s",H_="r",SR="e",B_="o",V_="a",$_="n",G_="p",CR="h";class TR{constructor(e,n,r,o,c,d,h,g,m,_){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=o,this.authToken_=c,this.onMessage_=d,this.onReady_=h,this.onDisconnect_=g,this.onKill_=m,this.lastSessionId=_,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Do("c:"+this.id+":"),this.transportManager_=new yo(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const o=e.healthyTimeout||0;o>0&&(this.healthyTimeout_=lo(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>bR?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>_R?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(o)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(Bf in e){const n=e[Bf];n===V_?this.upgradeIfSecondaryHealthy_():n===H_?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===B_&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:G_,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:V_,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:$_,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eo("t",e),r=eo("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eo(Bf,e);if(z_ in e){const r=e[z_];if(n===CR){const o=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(o.h=this.repoInfo_.host),this.onHandshake_(o)}else if(n===$_){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let o=0;o<this.pendingDataMessages.length;++o)this.onDataMessage_(this.pendingDataMessages[o]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===ER?this.onConnectionShutdown_(r):n===H_?this.onReset_(r):n===SR?Lh("Server Error: "+r):n===B_?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Lh("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,o=e.h;this.sessionId=e.s,this.repoInfo_.host=o,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),Ap!==r&&tn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),lo(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(vR))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):lo(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(yR))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:G_,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(ks.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M0{put(e,n,r,o){}merge(e,n,r,o){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(e){this.allowedEvents_=e,this.listeners_={},ne(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let o=0;o<r.length;o++)r[o].callback.apply(r[o].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const o=this.getInitialEvent(e);o&&n.apply(r,o)}off(e,n,r){this.validateEventType_(e);const o=this.listeners_[e]||[];for(let c=0;c<o.length;c++)if(o[c].callback===n&&(!r||r===o[c].context)){o.splice(c,1);return}}validateEventType_(e){ne(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc extends L0{static getInstance(){return new gc}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Tp()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return ne(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=32,Y_=768;class it{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let o=0;o<this.pieces_.length;o++)this.pieces_[o].length>0&&(this.pieces_[r]=this.pieces_[o],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function Fe(){return new it("")}function Me(i){return i.pieceNum_>=i.pieces_.length?null:i.pieces_[i.pieceNum_]}function os(i){return i.pieces_.length-i.pieceNum_}function rt(i){let e=i.pieceNum_;return e<i.pieces_.length&&e++,new it(i.pieces_,e)}function P0(i){return i.pieceNum_<i.pieces_.length?i.pieces_[i.pieces_.length-1]:null}function wR(i){let e="";for(let n=i.pieceNum_;n<i.pieces_.length;n++)i.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(i.pieces_[n])));return e||"/"}function U0(i,e=0){return i.pieces_.slice(i.pieceNum_+e)}function z0(i){if(i.pieceNum_>=i.pieces_.length)return null;const e=[];for(let n=i.pieceNum_;n<i.pieces_.length-1;n++)e.push(i.pieces_[n]);return new it(e,0)}function Tt(i,e){const n=[];for(let r=i.pieceNum_;r<i.pieces_.length;r++)n.push(i.pieces_[r]);if(e instanceof it)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let o=0;o<r.length;o++)r[o].length>0&&n.push(r[o])}return new it(n,0)}function He(i){return i.pieceNum_>=i.pieces_.length}function Ft(i,e){const n=Me(i),r=Me(e);if(n===null)return e;if(n===r)return Ft(rt(i),rt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+i+")")}function kp(i,e){if(os(i)!==os(e))return!1;for(let n=i.pieceNum_,r=e.pieceNum_;n<=i.pieces_.length;n++,r++)if(i.pieces_[n]!==e.pieces_[r])return!1;return!0}function jn(i,e){let n=i.pieceNum_,r=e.pieceNum_;if(os(i)>os(e))return!1;for(;n<i.pieces_.length;){if(i.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class OR{constructor(e,n){this.errorPrefix_=n,this.parts_=U0(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=$c(this.parts_[r]);H0(this)}}function xR(i,e){i.parts_.length>0&&(i.byteLength_+=1),i.parts_.push(e),i.byteLength_+=$c(e),H0(i)}function NR(i){const e=i.parts_.pop();i.byteLength_-=$c(e),i.parts_.length>0&&(i.byteLength_-=1)}function H0(i){if(i.byteLength_>Y_)throw new Error(i.errorPrefix_+"has a key path longer than "+Y_+" bytes ("+i.byteLength_+").");if(i.parts_.length>q_)throw new Error(i.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+q_+") or object contains a cycle "+Ds(i))}function Ds(i){return i.parts_.length===0?"":"in property '"+i.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jp extends L0{static getInstance(){return new jp}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return ne(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const to=1e3,RR=60*5*1e3,F_=30*1e3,AR=1.3,DR=3e4,IR="server_kill",W_=3;class vi extends M0{constructor(e,n,r,o,c,d,h,g){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=o,this.onServerInfoUpdate_=c,this.authTokenProvider_=d,this.appCheckTokenProvider_=h,this.authOverride_=g,this.id=vi.nextPersistentConnectionId_++,this.log_=Do("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=to,this.maxReconnectDelay_=RR,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,g)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");jp.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&gc.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const o=++this.requestNumber_,c={r:o,a:e,b:n};this.log_(Ct(c)),ne(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(c),r&&(this.requestCBHash_[o]=r)}get(e){this.initConnection_();const n=new Vc,o={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:d=>{const h=d.d;d.s==="ok"?n.resolve(h):n.reject(h)}};this.outstandingGets_.push(o),this.outstandingGetCount_++;const c=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(c),n.promise}listen(e,n,r,o){this.initConnection_();const c=e._queryIdentifier,d=e._path.toString();this.log_("Listen called for "+d+" "+c),this.listens.has(d)||this.listens.set(d,new Map),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),ne(!this.listens.get(d).has(c),"listen() called twice for same path/queryId.");const h={onComplete:o,hashFn:n,query:e,tag:r};this.listens.get(d).set(c,h),this.connected_&&this.sendListen_(h)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),o=n._queryIdentifier;this.log_("Listen on "+r+" for "+o);const c={p:r},d="q";e.tag&&(c.q=n._queryObject,c.t=e.tag),c.h=e.hashFn(),this.sendRequest(d,c,h=>{const g=h.d,m=h.s;vi.warnOnListenWarnings_(g,n),(this.listens.get(r)&&this.listens.get(r).get(o))===e&&(this.log_("listen response",h),m!=="ok"&&this.removeListen_(r,o),e.onComplete&&e.onComplete(m,g))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&Si(e,"w")){const r=Br(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const o='".indexOn": "'+n._queryParams.getIndex().toString()+'"',c=n._path.toString();tn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${o} at ${c} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||Sx(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=F_)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=Ex(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,o=>{const c=o.s,d=o.d||"error";this.authToken_===e&&(c==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(c,d))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),o=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+o),ne(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,o)&&this.connected_&&this.sendUnlisten_(r,o,e._queryObject,n)}sendUnlisten_(e,n,r,o){this.log_("Unlisten on "+e+" for "+n);const c={p:e},d="n";o&&(c.q=r,c.t=o),this.sendRequest(d,c)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,o){const c={p:n,d:r};this.log_("onDisconnect "+e,c),this.sendRequest(e,c,d=>{o&&setTimeout(()=>{o(d.s,d.d)},Math.floor(0))})}put(e,n,r,o){this.putInternal("p",e,n,r,o)}merge(e,n,r,o){this.putInternal("m",e,n,r,o)}putInternal(e,n,r,o,c){this.initConnection_();const d={p:n,d:r};c!==void 0&&(d.h=c),this.outstandingPuts_.push({action:e,request:d,onComplete:o}),this.outstandingPutCount_++;const h=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(h):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,o=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,c=>{this.log_(n+" response",c),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),o&&o(c.s,c.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const c=r.d;this.log_("reportStats","Error sending stats: "+c)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ct(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):Lh("Unrecognized action received from server: "+Ct(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){ne(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>DR&&(this.reconnectDelay_=to),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*AR)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),o=this.id+":"+vi.nextConnectionId_++,c=this.lastSessionId;let d=!1,h=null;const g=function(){h?h.close():(d=!0,r())},m=function(b){ne(h,"sendRequest call when we're not connected not allowed."),h.sendRequest(b)};this.realtime_={close:g,sendRequest:m};const _=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[b,E]=await Promise.all([this.authTokenProvider_.getToken(_),this.appCheckTokenProvider_.getToken(_)]);d?Vt("getToken() completed but was canceled"):(Vt("getToken() completed. Creating connection."),this.authToken_=b&&b.accessToken,this.appCheckToken_=E&&E.token,h=new TR(o,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{tn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(IR)},c))}catch(b){this.log_("Failed to get token: "+b),d||(this.repoInfo_.nodeAdmin&&tn(b),g())}}}interrupt(e){Vt("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Vt("Resuming connection for reason: "+e),delete this.interruptReasons_[e],Ah(this.interruptReasons_)&&(this.reconnectDelay_=to,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(c=>Rp(c)).join("$"):r="default";const o=this.removeListen_(e,r);o&&o.onComplete&&o.onComplete("permission_denied")}removeListen_(e,n){const r=new it(e).toString();let o;if(this.listens.has(r)){const c=this.listens.get(r);o=c.get(n),c.delete(n),c.size===0&&this.listens.delete(r)}else o=void 0;return o}onAuthRevoked_(e,n){Vt("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=W_&&(this.reconnectDelay_=F_,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){Vt("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=W_&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+h0.replace(/\./g,"-")]=1,Tp()?e["framework.cordova"]=1:r0()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=gc.getInstance().currentlyOnline();return Ah(this.interruptReasons_)&&e}}vi.nextPersistentConnectionId_=0;vi.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Le{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new Le(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gc{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new Le($r,e),o=new Le($r,n);return this.compare(r,o)!==0}minPost(){return Le.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jl;class B0 extends Gc{static get __EMPTY_NODE(){return Jl}static set __EMPTY_NODE(e){Jl=e}compare(e,n){return Xr(e.name,n.name)}isDefinedOn(e){throw Wr("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return Le.MIN}maxPost(){return new Le(zs,Jl)}makePost(e,n){return ne(typeof e=="string","KeyIndex indexValue must always be a string."),new Le(e,Jl)}toString(){return".key"}}const Lr=new B0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n,r,o,c=null){this.isReverse_=o,this.resultGenerator_=c,this.nodeStack_=[];let d=1;for(;!e.isEmpty();)if(e=e,d=n?r(e.key,n):1,o&&(d*=-1),d<0)this.isReverse_?e=e.left:e=e.right;else if(d===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class It{constructor(e,n,r,o,c){this.key=e,this.value=n,this.color=r??It.RED,this.left=o??en.EMPTY_NODE,this.right=c??en.EMPTY_NODE}copy(e,n,r,o,c){return new It(e??this.key,n??this.value,r??this.color,o??this.left,c??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const c=r(e,o.key);return c<0?o=o.copy(null,null,null,o.left.insert(e,n,r),null):c===0?o=o.copy(null,n,null,null,null):o=o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp_()}removeMin_(){if(this.left.isEmpty())return en.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,o;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return en.EMPTY_NODE;o=r.right.min_(),r=r.copy(o.key,o.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,It.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,It.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}It.RED=!0;It.BLACK=!1;class kR{copy(e,n,r,o,c){return this}insert(e,n,r){return new It(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class en{constructor(e,n=en.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new en(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,It.BLACK,null,null))}remove(e){return new en(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,It.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,o=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return o?o.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(o=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new ec(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new ec(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new ec(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new ec(this.root_,null,this.comparator_,!0,e)}}en.EMPTY_NODE=new kR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jR(i,e){return Xr(i.name,e.name)}function Mp(i,e){return Xr(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uh;function MR(i){Uh=i}const V0=function(i){return typeof i=="number"?"number:"+y0(i):"string:"+i},$0=function(i){if(i.isLeafNode()){const e=i.val();ne(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Si(e,".sv"),"Priority must be a string or number.")}else ne(i===Uh||i.isEmpty(),"priority of unexpected type.");ne(i===Uh||i.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let K_;class At{static set __childrenNodeConstructor(e){K_=e}static get __childrenNodeConstructor(){return K_}constructor(e,n=At.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,ne(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),$0(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new At(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return He(e)?this:Me(e)===".priority"?this.priorityNode_:At.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:At.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=Me(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(ne(r!==".priority"||os(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,At.__childrenNodeConstructor.EMPTY_NODE.updateChild(rt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+V0(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=y0(this.value_):e+=this.value_,this.lazyHash_=g0(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===At.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof At.__childrenNodeConstructor?-1:(ne(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,o=At.VALUE_TYPE_ORDER.indexOf(n),c=At.VALUE_TYPE_ORDER.indexOf(r);return ne(o>=0,"Unknown leaf type: "+n),ne(c>=0,"Unknown leaf type: "+r),o===c?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:c-o}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}At.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let G0,q0;function LR(i){G0=i}function PR(i){q0=i}class UR extends Gc{compare(e,n){const r=e.node.getPriority(),o=n.node.getPriority(),c=r.compareTo(o);return c===0?Xr(e.name,n.name):c}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return Le.MIN}maxPost(){return new Le(zs,new At("[PRIORITY-POST]",q0))}makePost(e,n){const r=G0(e);return new Le(n,new At("[PRIORITY-POST]",r))}toString(){return".priority"}}const pt=new UR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zR=Math.log(2);class HR{constructor(e){const n=c=>parseInt(Math.log(c)/zR,10),r=c=>parseInt(Array(c+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const o=r(this.count);this.bits_=e+1&o}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const mc=function(i,e,n,r){i.sort(e);const o=function(g,m){const _=m-g;let b,E;if(_===0)return null;if(_===1)return b=i[g],E=n?n(b):b,new It(E,b.node,It.BLACK,null,null);{const w=parseInt(_/2,10)+g,T=o(g,w),P=o(w+1,m);return b=i[w],E=n?n(b):b,new It(E,b.node,It.BLACK,T,P)}},c=function(g){let m=null,_=null,b=i.length;const E=function(T,P){const N=b-T,H=b;b-=T;const z=o(N+1,H),X=i[N],Z=n?n(X):X;w(new It(Z,X.node,P,null,z))},w=function(T){m?(m.left=T,m=T):(_=T,m=T)};for(let T=0;T<g.count;++T){const P=g.nextBitIsOne(),N=Math.pow(2,g.count-(T+1));P?E(N,It.BLACK):(E(N,It.BLACK),E(N,It.RED))}return _},d=new HR(i.length),h=c(d);return new en(r||e,h)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vf;const Ir={};class hi{static get Default(){return ne(Ir&&pt,"ChildrenNode.ts has not been loaded"),Vf=Vf||new hi({".priority":Ir},{".priority":pt}),Vf}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Br(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof en?n:null}hasIndex(e){return Si(this.indexSet_,e.toString())}addIndex(e,n){ne(e!==Lr,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let o=!1;const c=n.getIterator(Le.Wrap);let d=c.getNext();for(;d;)o=o||e.isDefinedOn(d.node),r.push(d),d=c.getNext();let h;o?h=mc(r,e.getCompare()):h=Ir;const g=e.toString(),m=Object.assign({},this.indexSet_);m[g]=e;const _=Object.assign({},this.indexes_);return _[g]=h,new hi(_,m)}addToIndexes(e,n){const r=fc(this.indexes_,(o,c)=>{const d=Br(this.indexSet_,c);if(ne(d,"Missing index implementation for "+c),o===Ir)if(d.isDefinedOn(e.node)){const h=[],g=n.getIterator(Le.Wrap);let m=g.getNext();for(;m;)m.name!==e.name&&h.push(m),m=g.getNext();return h.push(e),mc(h,d.getCompare())}else return Ir;else{const h=n.get(e.name);let g=o;return h&&(g=g.remove(new Le(e.name,h))),g.insert(e,e.node)}});return new hi(r,this.indexSet_)}removeFromIndexes(e,n){const r=fc(this.indexes_,o=>{if(o===Ir)return o;{const c=n.get(e.name);return c?o.remove(new Le(e.name,c)):o}});return new hi(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let no;class Te{static get EMPTY_NODE(){return no||(no=new Te(new en(Mp),null,hi.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&$0(this.priorityNode_),this.children_.isEmpty()&&ne(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||no}updatePriority(e){return this.children_.isEmpty()?this:new Te(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?no:n}}getChild(e){const n=Me(e);return n===null?this:this.getImmediateChild(n).getChild(rt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(ne(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new Le(e,n);let o,c;n.isEmpty()?(o=this.children_.remove(e),c=this.indexMap_.removeFromIndexes(r,this.children_)):(o=this.children_.insert(e,n),c=this.indexMap_.addToIndexes(r,this.children_));const d=o.isEmpty()?no:this.priorityNode_;return new Te(o,d,c)}}updateChild(e,n){const r=Me(e);if(r===null)return n;{ne(Me(e)!==".priority"||os(e)===1,".priority must be the last token in a path");const o=this.getImmediateChild(r).updateChild(rt(e),n);return this.updateImmediateChild(r,o)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,o=0,c=!0;if(this.forEachChild(pt,(d,h)=>{n[d]=h.val(e),r++,c&&Te.INTEGER_REGEXP_.test(d)?o=Math.max(o,Number(d)):c=!1}),!e&&c&&o<2*r){const d=[];for(const h in n)d[h]=n[h];return d}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+V0(this.getPriority().val())+":"),this.forEachChild(pt,(n,r)=>{const o=r.hash();o!==""&&(e+=":"+n+":"+o)}),this.lazyHash_=e===""?"":g0(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const o=this.resolveIndex_(r);if(o){const c=o.getPredecessorKey(new Le(e,n));return c?c.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new Le(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new Le(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(o=>n(o.name,o.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,o=>o);{const o=this.children_.getIteratorFrom(e.name,Le.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)<0;)o.getNext(),c=o.peek();return o}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,o=>o);{const o=this.children_.getReverseIteratorFrom(e.name,Le.Wrap);let c=o.peek();for(;c!=null&&n.compare(c,e)>0;)o.getNext(),c=o.peek();return o}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Io?-1:0}withIndex(e){if(e===Lr||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Te(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===Lr||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(pt),o=n.getIterator(pt);let c=r.getNext(),d=o.getNext();for(;c&&d;){if(c.name!==d.name||!c.node.equals(d.node))return!1;c=r.getNext(),d=o.getNext()}return c===null&&d===null}else return!1;else return!1}}resolveIndex_(e){return e===Lr?null:this.indexMap_.get(e.toString())}}Te.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class BR extends Te{constructor(){super(new en(Mp),Te.EMPTY_NODE,hi.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Te.EMPTY_NODE}isEmpty(){return!1}}const Io=new BR;Object.defineProperties(Le,{MIN:{value:new Le($r,Te.EMPTY_NODE)},MAX:{value:new Le(zs,Io)}});B0.__EMPTY_NODE=Te.EMPTY_NODE;At.__childrenNodeConstructor=Te;MR(Io);PR(Io);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VR=!0;function kt(i,e=null){if(i===null)return Te.EMPTY_NODE;if(typeof i=="object"&&".priority"in i&&(e=i[".priority"]),ne(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof i=="object"&&".value"in i&&i[".value"]!==null&&(i=i[".value"]),typeof i!="object"||".sv"in i){const n=i;return new At(n,kt(e))}if(!(i instanceof Array)&&VR){const n=[];let r=!1;if(nn(i,(d,h)=>{if(d.substring(0,1)!=="."){const g=kt(h);g.isEmpty()||(r=r||!g.getPriority().isEmpty(),n.push(new Le(d,g)))}}),n.length===0)return Te.EMPTY_NODE;const c=mc(n,jR,d=>d.name,Mp);if(r){const d=mc(n,pt.getCompare());return new Te(c,kt(e),new hi({".priority":d},{".priority":pt}))}else return new Te(c,kt(e),hi.Default)}else{let n=Te.EMPTY_NODE;return nn(i,(r,o)=>{if(Si(i,r)&&r.substring(0,1)!=="."){const c=kt(o);(c.isLeafNode()||!c.isEmpty())&&(n=n.updateImmediateChild(r,c))}}),n.updatePriority(kt(e))}}LR(kt);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R extends Gc{constructor(e){super(),this.indexPath_=e,ne(!He(e)&&Me(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),o=this.extractChild(n.node),c=r.compareTo(o);return c===0?Xr(e.name,n.name):c}makePost(e,n){const r=kt(e),o=Te.EMPTY_NODE.updateChild(this.indexPath_,r);return new Le(n,o)}maxPost(){const e=Te.EMPTY_NODE.updateChild(this.indexPath_,Io);return new Le(zs,e)}toString(){return U0(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GR extends Gc{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Xr(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return Le.MIN}maxPost(){return Le.MAX}makePost(e,n){const r=kt(e);return new Le(n,r)}toString(){return".value"}}const qR=new GR;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y0(i){return{type:"value",snapshotNode:i}}function Gr(i,e){return{type:"child_added",snapshotNode:e,childName:i}}function _o(i,e){return{type:"child_removed",snapshotNode:e,childName:i}}function bo(i,e,n){return{type:"child_changed",snapshotNode:e,childName:i,oldSnap:n}}function YR(i,e){return{type:"child_moved",snapshotNode:e,childName:i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e){this.index_=e}updateChild(e,n,r,o,c,d){ne(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const h=e.getImmediateChild(n);return h.getChild(o).equals(r.getChild(o))&&h.isEmpty()===r.isEmpty()||(d!=null&&(r.isEmpty()?e.hasChild(n)?d.trackChildChange(_o(n,h)):ne(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):h.isEmpty()?d.trackChildChange(Gr(n,r)):d.trackChildChange(bo(n,r,h))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild(pt,(o,c)=>{n.hasChild(o)||r.trackChildChange(_o(o,c))}),n.isLeafNode()||n.forEachChild(pt,(o,c)=>{if(e.hasChild(o)){const d=e.getImmediateChild(o);d.equals(c)||r.trackChildChange(bo(o,c,d))}else r.trackChildChange(Gr(o,c))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Te.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.indexedFilter_=new Lp(e.getIndex()),this.index_=e.getIndex(),this.startPost_=Eo.getStartPost_(e),this.endPost_=Eo.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,o,c,d){return this.matches(new Le(n,r))||(r=Te.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,o,c,d)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Te.EMPTY_NODE);let o=n.withIndex(this.index_);o=o.updatePriority(Te.EMPTY_NODE);const c=this;return n.forEachChild(pt,(d,h)=>{c.matches(new Le(d,h))||(o=o.updateImmediateChild(d,Te.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FR{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new Eo(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,o,c,d){return this.rangedFilter_.matches(new Le(n,r))||(r=Te.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,o,c,d):this.fullLimitUpdateChild_(e,n,r,c,d)}updateFullNode(e,n,r){let o;if(n.isLeafNode()||n.isEmpty())o=Te.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){o=Te.EMPTY_NODE.withIndex(this.index_);let c;this.reverse_?c=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):c=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let d=0;for(;c.hasNext()&&d<this.limit_;){const h=c.getNext();if(this.withinDirectionalStart(h))if(this.withinDirectionalEnd(h))o=o.updateImmediateChild(h.name,h.node),d++;else break;else continue}}else{o=n.withIndex(this.index_),o=o.updatePriority(Te.EMPTY_NODE);let c;this.reverse_?c=o.getReverseIterator(this.index_):c=o.getIterator(this.index_);let d=0;for(;c.hasNext();){const h=c.getNext();d<this.limit_&&this.withinDirectionalStart(h)&&this.withinDirectionalEnd(h)?d++:o=o.updateImmediateChild(h.name,Te.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,o,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,o,c){let d;if(this.reverse_){const b=this.index_.getCompare();d=(E,w)=>b(w,E)}else d=this.index_.getCompare();const h=e;ne(h.numChildren()===this.limit_,"");const g=new Le(n,r),m=this.reverse_?h.getFirstChild(this.index_):h.getLastChild(this.index_),_=this.rangedFilter_.matches(g);if(h.hasChild(n)){const b=h.getImmediateChild(n);let E=o.getChildAfterChild(this.index_,m,this.reverse_);for(;E!=null&&(E.name===n||h.hasChild(E.name));)E=o.getChildAfterChild(this.index_,E,this.reverse_);const w=E==null?1:d(E,g);if(_&&!r.isEmpty()&&w>=0)return c!=null&&c.trackChildChange(bo(n,r,b)),h.updateImmediateChild(n,r);{c!=null&&c.trackChildChange(_o(n,b));const P=h.updateImmediateChild(n,Te.EMPTY_NODE);return E!=null&&this.rangedFilter_.matches(E)?(c!=null&&c.trackChildChange(Gr(E.name,E.node)),P.updateImmediateChild(E.name,E.node)):P}}else return r.isEmpty()?e:_&&d(m,g)>=0?(c!=null&&(c.trackChildChange(_o(m.name,m.node)),c.trackChildChange(Gr(n,r))),h.updateImmediateChild(n,r).updateImmediateChild(m.name,Te.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=pt}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return ne(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return ne(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:$r}hasEnd(){return this.endSet_}getIndexEndValue(){return ne(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return ne(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:zs}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return ne(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===pt}copy(){const e=new Pp;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function WR(i){return i.loadsAllData()?new Lp(i.getIndex()):i.hasLimit()?new FR(i):new Eo(i)}function Q_(i){const e={};if(i.isDefault())return e;let n;if(i.index_===pt?n="$priority":i.index_===qR?n="$value":i.index_===Lr?n="$key":(ne(i.index_ instanceof $R,"Unrecognized index type!"),n=i.index_.toString()),e.orderBy=Ct(n),i.startSet_){const r=i.startAfterSet_?"startAfter":"startAt";e[r]=Ct(i.indexStartValue_),i.startNameSet_&&(e[r]+=","+Ct(i.indexStartName_))}if(i.endSet_){const r=i.endBeforeSet_?"endBefore":"endAt";e[r]=Ct(i.indexEndValue_),i.endNameSet_&&(e[r]+=","+Ct(i.indexEndName_))}return i.limitSet_&&(i.isViewFromLeft()?e.limitToFirst=i.limit_:e.limitToLast=i.limit_),e}function X_(i){const e={};if(i.startSet_&&(e.sp=i.indexStartValue_,i.startNameSet_&&(e.sn=i.indexStartName_),e.sin=!i.startAfterSet_),i.endSet_&&(e.ep=i.indexEndValue_,i.endNameSet_&&(e.en=i.indexEndName_),e.ein=!i.endBeforeSet_),i.limitSet_){e.l=i.limit_;let n=i.viewFrom_;n===""&&(i.isViewFromLeft()?n="l":n="r"),e.vf=n}return i.index_!==pt&&(e.i=i.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vc extends M0{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(ne(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,o){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=o,this.log_=Do("p:rest:"),this.listens_={}}listen(e,n,r,o){const c=e._path.toString();this.log_("Listen called for "+c+" "+e._queryIdentifier);const d=vc.getListenId_(e,r),h={};this.listens_[d]=h;const g=Q_(e._queryParams);this.restRequest_(c+".json",g,(m,_)=>{let b=_;if(m===404&&(b=null,m=null),m===null&&this.onDataUpdate_(c,b,!1,r),Br(this.listens_,d)===h){let E;m?m===401?E="permission_denied":E="rest_error:"+m:E="ok",o(E,null)}})}unlisten(e,n){const r=vc.getListenId_(e,n);delete this.listens_[r]}get(e){const n=Q_(e._queryParams),r=e._path.toString(),o=new Vc;return this.restRequest_(r+".json",n,(c,d)=>{let h=d;c===404&&(h=null,c=null),c===null?(this.onDataUpdate_(r,h,!1,null),o.resolve(h)):o.reject(new Error(h))}),o.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([o,c])=>{o&&o.accessToken&&(n.auth=o.accessToken),c&&c.token&&(n.ac=c.token);const d=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Kr(n);this.log_("Sending REST request for "+d);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&h.readyState===4){this.log_("REST Response for "+d+" received. status:",h.status,"response:",h.responseText);let g=null;if(h.status>=200&&h.status<300){try{g=mo(h.responseText)}catch{tn("Failed to parse JSON response for "+d+": "+h.responseText)}r(null,g)}else h.status!==401&&h.status!==404&&tn("Got unsuccessful REST response for "+d+" Status: "+h.status),r(h.status);r=null}},h.open("GET",d,!0),h.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KR{constructor(){this.rootNode_=Te.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(){return{value:null,children:new Map}}function F0(i,e,n){if(He(e))i.value=n,i.children.clear();else if(i.value!==null)i.value=i.value.updateChild(e,n);else{const r=Me(e);i.children.has(r)||i.children.set(r,yc());const o=i.children.get(r);e=rt(e),F0(o,e,n)}}function zh(i,e,n){i.value!==null?n(e,i.value):QR(i,(r,o)=>{const c=new it(e.toString()+"/"+r);zh(o,c,n)})}function QR(i,e){i.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&nn(this.last_,(r,o)=>{n[r]=n[r]-o}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z_=10*1e3,ZR=30*1e3,JR=5*60*1e3;class eA{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new XR(e);const r=Z_+(ZR-Z_)*Math.random();lo(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;nn(e,(o,c)=>{c>0&&Si(this.statsToReport_,o)&&(n[o]=c,r=!0)}),r&&this.server_.reportStats(n),lo(this.reportStats_.bind(this),Math.floor(Math.random()*2*JR))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mn;(function(i){i[i.OVERWRITE=0]="OVERWRITE",i[i.MERGE=1]="MERGE",i[i.ACK_USER_WRITE=2]="ACK_USER_WRITE",i[i.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Mn||(Mn={}));function W0(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Up(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function zp(i){return{fromUser:!1,fromServer:!0,queryId:i,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=Mn.ACK_USER_WRITE,this.source=W0()}operationForChild(e){if(He(this.path)){if(this.affectedTree.value!=null)return ne(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new it(e));return new _c(Fe(),n,this.revert)}}else return ne(Me(this.path)===e,"operationForChild called for unrelated child."),new _c(rt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So{constructor(e,n){this.source=e,this.path=n,this.type=Mn.LISTEN_COMPLETE}operationForChild(e){return He(this.path)?new So(this.source,Fe()):new So(this.source,rt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=Mn.OVERWRITE}operationForChild(e){return He(this.path)?new Hs(this.source,Fe(),this.snap.getImmediateChild(e)):new Hs(this.source,rt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Co{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=Mn.MERGE}operationForChild(e){if(He(this.path)){const n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new Hs(this.source,Fe(),n.value):new Co(this.source,Fe(),n)}else return ne(Me(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Co(this.source,rt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(He(e))return this.isFullyInitialized()&&!this.filtered_;const n=Me(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function nA(i,e,n,r){const o=[],c=[];return e.forEach(d=>{d.type==="child_changed"&&i.index_.indexedValueChanged(d.oldSnap,d.snapshotNode)&&c.push(YR(d.childName,d.snapshotNode))}),io(i,o,"child_removed",e,r,n),io(i,o,"child_added",e,r,n),io(i,o,"child_moved",c,r,n),io(i,o,"child_changed",e,r,n),io(i,o,"value",e,r,n),o}function io(i,e,n,r,o,c){const d=r.filter(h=>h.type===n);d.sort((h,g)=>sA(i,h,g)),d.forEach(h=>{const g=iA(i,h,c);o.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(g,i.query_))})})}function iA(i,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,i.index_)),e}function sA(i,e,n){if(e.childName==null||n.childName==null)throw Wr("Should only compare child_ events.");const r=new Le(e.childName,e.snapshotNode),o=new Le(n.childName,n.snapshotNode);return i.index_.compare(r,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qc(i,e){return{eventCache:i,serverCache:e}}function co(i,e,n,r){return qc(new ls(e,n,r),i.serverCache)}function K0(i,e,n,r){return qc(i.eventCache,new ls(e,n,r))}function bc(i){return i.eventCache.isFullyInitialized()?i.eventCache.getNode():null}function Bs(i){return i.serverCache.isFullyInitialized()?i.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $f;const rA=()=>($f||($f=new en(GN)),$f);class ot{static fromObject(e){let n=new ot(null);return nn(e,(r,o)=>{n=n.set(new it(r),o)}),n}constructor(e,n=rA()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:Fe(),value:this.value};if(He(e))return null;{const r=Me(e),o=this.children.get(r);if(o!==null){const c=o.findRootMostMatchingPathAndValue(rt(e),n);return c!=null?{path:Tt(new it(r),c.path),value:c.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(He(e))return this;{const n=Me(e),r=this.children.get(n);return r!==null?r.subtree(rt(e)):new ot(null)}}set(e,n){if(He(e))return new ot(n,this.children);{const r=Me(e),c=(this.children.get(r)||new ot(null)).set(rt(e),n),d=this.children.insert(r,c);return new ot(this.value,d)}}remove(e){if(He(e))return this.children.isEmpty()?new ot(null):new ot(null,this.children);{const n=Me(e),r=this.children.get(n);if(r){const o=r.remove(rt(e));let c;return o.isEmpty()?c=this.children.remove(n):c=this.children.insert(n,o),this.value===null&&c.isEmpty()?new ot(null):new ot(this.value,c)}else return this}}get(e){if(He(e))return this.value;{const n=Me(e),r=this.children.get(n);return r?r.get(rt(e)):null}}setTree(e,n){if(He(e))return n;{const r=Me(e),c=(this.children.get(r)||new ot(null)).setTree(rt(e),n);let d;return c.isEmpty()?d=this.children.remove(r):d=this.children.insert(r,c),new ot(this.value,d)}}fold(e){return this.fold_(Fe(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((o,c)=>{r[o]=c.fold_(Tt(e,o),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,Fe(),n)}findOnPath_(e,n,r){const o=this.value?r(n,this.value):!1;if(o)return o;if(He(e))return null;{const c=Me(e),d=this.children.get(c);return d?d.findOnPath_(rt(e),Tt(n,c),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,Fe(),n)}foreachOnPath_(e,n,r){if(He(e))return this;{this.value&&r(n,this.value);const o=Me(e),c=this.children.get(o);return c?c.foreachOnPath_(rt(e),Tt(n,o),r):new ot(null)}}foreach(e){this.foreach_(Fe(),e)}foreach_(e,n){this.children.inorderTraversal((r,o)=>{o.foreach_(Tt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e){this.writeTree_=e}static empty(){return new Pn(new ot(null))}}function uo(i,e,n){if(He(e))return new Pn(new ot(n));{const r=i.writeTree_.findRootMostValueAndPath(e);if(r!=null){const o=r.path;let c=r.value;const d=Ft(o,e);return c=c.updateChild(d,n),new Pn(i.writeTree_.set(o,c))}else{const o=new ot(n),c=i.writeTree_.setTree(e,o);return new Pn(c)}}}function J_(i,e,n){let r=i;return nn(n,(o,c)=>{r=uo(r,Tt(e,o),c)}),r}function eb(i,e){if(He(e))return Pn.empty();{const n=i.writeTree_.setTree(e,new ot(null));return new Pn(n)}}function Hh(i,e){return Gs(i,e)!=null}function Gs(i,e){const n=i.writeTree_.findRootMostValueAndPath(e);return n!=null?i.writeTree_.get(n.path).getChild(Ft(n.path,e)):null}function tb(i){const e=[],n=i.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(pt,(r,o)=>{e.push(new Le(r,o))}):i.writeTree_.children.inorderTraversal((r,o)=>{o.value!=null&&e.push(new Le(r,o.value))}),e}function is(i,e){if(He(e))return i;{const n=Gs(i,e);return n!=null?new Pn(new ot(n)):new Pn(i.writeTree_.subtree(e))}}function Bh(i){return i.writeTree_.isEmpty()}function qr(i,e){return Q0(Fe(),i.writeTree_,e)}function Q0(i,e,n){if(e.value!=null)return n.updateChild(i,e.value);{let r=null;return e.children.inorderTraversal((o,c)=>{o===".priority"?(ne(c.value!==null,"Priority writes must always be leaf nodes"),r=c.value):n=Q0(Tt(i,o),c,n)}),!n.getChild(i).isEmpty()&&r!==null&&(n=n.updateChild(Tt(i,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yc(i,e){return eE(e,i)}function aA(i,e,n,r,o){ne(r>i.lastWriteId,"Stacking an older write on top of newer ones"),o===void 0&&(o=!0),i.allWrites.push({path:e,snap:n,writeId:r,visible:o}),o&&(i.visibleWrites=uo(i.visibleWrites,e,n)),i.lastWriteId=r}function oA(i,e){for(let n=0;n<i.allWrites.length;n++){const r=i.allWrites[n];if(r.writeId===e)return r}return null}function lA(i,e){const n=i.allWrites.findIndex(h=>h.writeId===e);ne(n>=0,"removeWrite called with nonexistent writeId.");const r=i.allWrites[n];i.allWrites.splice(n,1);let o=r.visible,c=!1,d=i.allWrites.length-1;for(;o&&d>=0;){const h=i.allWrites[d];h.visible&&(d>=n&&cA(h,r.path)?o=!1:jn(r.path,h.path)&&(c=!0)),d--}if(o){if(c)return uA(i),!0;if(r.snap)i.visibleWrites=eb(i.visibleWrites,r.path);else{const h=r.children;nn(h,g=>{i.visibleWrites=eb(i.visibleWrites,Tt(r.path,g))})}return!0}else return!1}function cA(i,e){if(i.snap)return jn(i.path,e);for(const n in i.children)if(i.children.hasOwnProperty(n)&&jn(Tt(i.path,n),e))return!0;return!1}function uA(i){i.visibleWrites=X0(i.allWrites,dA,Fe()),i.allWrites.length>0?i.lastWriteId=i.allWrites[i.allWrites.length-1].writeId:i.lastWriteId=-1}function dA(i){return i.visible}function X0(i,e,n){let r=Pn.empty();for(let o=0;o<i.length;++o){const c=i[o];if(e(c)){const d=c.path;let h;if(c.snap)jn(n,d)?(h=Ft(n,d),r=uo(r,h,c.snap)):jn(d,n)&&(h=Ft(d,n),r=uo(r,Fe(),c.snap.getChild(h)));else if(c.children){if(jn(n,d))h=Ft(n,d),r=J_(r,h,c.children);else if(jn(d,n))if(h=Ft(d,n),He(h))r=J_(r,Fe(),c.children);else{const g=Br(c.children,Me(h));if(g){const m=g.getChild(rt(h));r=uo(r,Fe(),m)}}}else throw Wr("WriteRecord should have .snap or .children")}}return r}function Z0(i,e,n,r,o){if(!r&&!o){const c=Gs(i.visibleWrites,e);if(c!=null)return c;{const d=is(i.visibleWrites,e);if(Bh(d))return n;if(n==null&&!Hh(d,Fe()))return null;{const h=n||Te.EMPTY_NODE;return qr(d,h)}}}else{const c=is(i.visibleWrites,e);if(!o&&Bh(c))return n;if(!o&&n==null&&!Hh(c,Fe()))return null;{const d=function(m){return(m.visible||o)&&(!r||!~r.indexOf(m.writeId))&&(jn(m.path,e)||jn(e,m.path))},h=X0(i.allWrites,d,e),g=n||Te.EMPTY_NODE;return qr(h,g)}}}function fA(i,e,n){let r=Te.EMPTY_NODE;const o=Gs(i.visibleWrites,e);if(o)return o.isLeafNode()||o.forEachChild(pt,(c,d)=>{r=r.updateImmediateChild(c,d)}),r;if(n){const c=is(i.visibleWrites,e);return n.forEachChild(pt,(d,h)=>{const g=qr(is(c,new it(d)),h);r=r.updateImmediateChild(d,g)}),tb(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}else{const c=is(i.visibleWrites,e);return tb(c).forEach(d=>{r=r.updateImmediateChild(d.name,d.node)}),r}}function hA(i,e,n,r,o){ne(r||o,"Either existingEventSnap or existingServerSnap must exist");const c=Tt(e,n);if(Hh(i.visibleWrites,c))return null;{const d=is(i.visibleWrites,c);return Bh(d)?o.getChild(n):qr(d,o.getChild(n))}}function pA(i,e,n,r){const o=Tt(e,n),c=Gs(i.visibleWrites,o);if(c!=null)return c;if(r.isCompleteForChild(n)){const d=is(i.visibleWrites,o);return qr(d,r.getNode().getImmediateChild(n))}else return null}function gA(i,e){return Gs(i.visibleWrites,e)}function mA(i,e,n,r,o,c,d){let h;const g=is(i.visibleWrites,e),m=Gs(g,Fe());if(m!=null)h=m;else if(n!=null)h=qr(g,n);else return[];if(h=h.withIndex(d),!h.isEmpty()&&!h.isLeafNode()){const _=[],b=d.getCompare(),E=c?h.getReverseIteratorFrom(r,d):h.getIteratorFrom(r,d);let w=E.getNext();for(;w&&_.length<o;)b(w,r)!==0&&_.push(w),w=E.getNext();return _}else return[]}function vA(){return{visibleWrites:Pn.empty(),allWrites:[],lastWriteId:-1}}function Ec(i,e,n,r){return Z0(i.writeTree,i.treePath,e,n,r)}function Hp(i,e){return fA(i.writeTree,i.treePath,e)}function nb(i,e,n,r){return hA(i.writeTree,i.treePath,e,n,r)}function Sc(i,e){return gA(i.writeTree,Tt(i.treePath,e))}function yA(i,e,n,r,o,c){return mA(i.writeTree,i.treePath,e,n,r,o,c)}function Bp(i,e,n){return pA(i.writeTree,i.treePath,e,n)}function J0(i,e){return eE(Tt(i.treePath,e),i.writeTree)}function eE(i,e){return{treePath:i,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _A{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;ne(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),ne(r!==".priority","Only non-priority child changes can be tracked.");const o=this.changeMap.get(r);if(o){const c=o.type;if(n==="child_added"&&c==="child_removed")this.changeMap.set(r,bo(r,e.snapshotNode,o.snapshotNode));else if(n==="child_removed"&&c==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&c==="child_changed")this.changeMap.set(r,_o(r,o.oldSnap));else if(n==="child_changed"&&c==="child_added")this.changeMap.set(r,Gr(r,e.snapshotNode));else if(n==="child_changed"&&c==="child_changed")this.changeMap.set(r,bo(r,e.snapshotNode,o.oldSnap));else throw Wr("Illegal combination of changes: "+e+" occurred after "+o)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const tE=new bA;class Vp{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ls(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Bp(this.writes_,e,r)}}getChildAfterChild(e,n,r){const o=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Bs(this.viewCache_),c=yA(this.writes_,o,n,1,r,e);return c.length===0?null:c[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EA(i){return{filter:i}}function SA(i,e){ne(e.eventCache.getNode().isIndexed(i.filter.getIndex()),"Event snap not indexed"),ne(e.serverCache.getNode().isIndexed(i.filter.getIndex()),"Server snap not indexed")}function CA(i,e,n,r,o){const c=new _A;let d,h;if(n.type===Mn.OVERWRITE){const m=n;m.source.fromUser?d=Vh(i,e,m.path,m.snap,r,o,c):(ne(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!He(m.path),d=Cc(i,e,m.path,m.snap,r,o,h,c))}else if(n.type===Mn.MERGE){const m=n;m.source.fromUser?d=wA(i,e,m.path,m.children,r,o,c):(ne(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),d=$h(i,e,m.path,m.children,r,o,h,c))}else if(n.type===Mn.ACK_USER_WRITE){const m=n;m.revert?d=NA(i,e,m.path,r,o,c):d=OA(i,e,m.path,m.affectedTree,r,o,c)}else if(n.type===Mn.LISTEN_COMPLETE)d=xA(i,e,n.path,r,c);else throw Wr("Unknown operation type: "+n.type);const g=c.getChanges();return TA(e,d,g),{viewCache:d,changes:g}}function TA(i,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const o=r.getNode().isLeafNode()||r.getNode().isEmpty(),c=bc(i);(n.length>0||!i.eventCache.isFullyInitialized()||o&&!r.getNode().equals(c)||!r.getNode().getPriority().equals(c.getPriority()))&&n.push(Y0(bc(e)))}}function nE(i,e,n,r,o,c){const d=e.eventCache;if(Sc(r,n)!=null)return e;{let h,g;if(He(n))if(ne(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Bs(e),_=m instanceof Te?m:Te.EMPTY_NODE,b=Hp(r,_);h=i.filter.updateFullNode(e.eventCache.getNode(),b,c)}else{const m=Ec(r,Bs(e));h=i.filter.updateFullNode(e.eventCache.getNode(),m,c)}else{const m=Me(n);if(m===".priority"){ne(os(n)===1,"Can't have a priority with additional path components");const _=d.getNode();g=e.serverCache.getNode();const b=nb(r,n,_,g);b!=null?h=i.filter.updatePriority(_,b):h=d.getNode()}else{const _=rt(n);let b;if(d.isCompleteForChild(m)){g=e.serverCache.getNode();const E=nb(r,n,d.getNode(),g);E!=null?b=d.getNode().getImmediateChild(m).updateChild(_,E):b=d.getNode().getImmediateChild(m)}else b=Bp(r,m,e.serverCache);b!=null?h=i.filter.updateChild(d.getNode(),m,b,_,o,c):h=d.getNode()}}return co(e,h,d.isFullyInitialized()||He(n),i.filter.filtersNodes())}}function Cc(i,e,n,r,o,c,d,h){const g=e.serverCache;let m;const _=d?i.filter:i.filter.getIndexedFilter();if(He(n))m=_.updateFullNode(g.getNode(),r,null);else if(_.filtersNodes()&&!g.isFiltered()){const w=g.getNode().updateChild(n,r);m=_.updateFullNode(g.getNode(),w,null)}else{const w=Me(n);if(!g.isCompleteForPath(n)&&os(n)>1)return e;const T=rt(n),N=g.getNode().getImmediateChild(w).updateChild(T,r);w===".priority"?m=_.updatePriority(g.getNode(),N):m=_.updateChild(g.getNode(),w,N,T,tE,null)}const b=K0(e,m,g.isFullyInitialized()||He(n),_.filtersNodes()),E=new Vp(o,b,c);return nE(i,b,n,o,E,h)}function Vh(i,e,n,r,o,c,d){const h=e.eventCache;let g,m;const _=new Vp(o,e,c);if(He(n))m=i.filter.updateFullNode(e.eventCache.getNode(),r,d),g=co(e,m,!0,i.filter.filtersNodes());else{const b=Me(n);if(b===".priority")m=i.filter.updatePriority(e.eventCache.getNode(),r),g=co(e,m,h.isFullyInitialized(),h.isFiltered());else{const E=rt(n),w=h.getNode().getImmediateChild(b);let T;if(He(E))T=r;else{const P=_.getCompleteChild(b);P!=null?P0(E)===".priority"&&P.getChild(z0(E)).isEmpty()?T=P:T=P.updateChild(E,r):T=Te.EMPTY_NODE}if(w.equals(T))g=e;else{const P=i.filter.updateChild(h.getNode(),b,T,E,_,d);g=co(e,P,h.isFullyInitialized(),i.filter.filtersNodes())}}}return g}function ib(i,e){return i.eventCache.isCompleteForChild(e)}function wA(i,e,n,r,o,c,d){let h=e;return r.foreach((g,m)=>{const _=Tt(n,g);ib(e,Me(_))&&(h=Vh(i,h,_,m,o,c,d))}),r.foreach((g,m)=>{const _=Tt(n,g);ib(e,Me(_))||(h=Vh(i,h,_,m,o,c,d))}),h}function sb(i,e,n){return n.foreach((r,o)=>{e=e.updateChild(r,o)}),e}function $h(i,e,n,r,o,c,d,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let g=e,m;He(n)?m=r:m=new ot(null).setTree(n,r);const _=e.serverCache.getNode();return m.children.inorderTraversal((b,E)=>{if(_.hasChild(b)){const w=e.serverCache.getNode().getImmediateChild(b),T=sb(i,w,E);g=Cc(i,g,new it(b),T,o,c,d,h)}}),m.children.inorderTraversal((b,E)=>{const w=!e.serverCache.isCompleteForChild(b)&&E.value===null;if(!_.hasChild(b)&&!w){const T=e.serverCache.getNode().getImmediateChild(b),P=sb(i,T,E);g=Cc(i,g,new it(b),P,o,c,d,h)}}),g}function OA(i,e,n,r,o,c,d){if(Sc(o,n)!=null)return e;const h=e.serverCache.isFiltered(),g=e.serverCache;if(r.value!=null){if(He(n)&&g.isFullyInitialized()||g.isCompleteForPath(n))return Cc(i,e,n,g.getNode().getChild(n),o,c,h,d);if(He(n)){let m=new ot(null);return g.getNode().forEachChild(Lr,(_,b)=>{m=m.set(new it(_),b)}),$h(i,e,n,m,o,c,h,d)}else return e}else{let m=new ot(null);return r.foreach((_,b)=>{const E=Tt(n,_);g.isCompleteForPath(E)&&(m=m.set(_,g.getNode().getChild(E)))}),$h(i,e,n,m,o,c,h,d)}}function xA(i,e,n,r,o){const c=e.serverCache,d=K0(e,c.getNode(),c.isFullyInitialized()||He(n),c.isFiltered());return nE(i,d,n,r,tE,o)}function NA(i,e,n,r,o,c){let d;if(Sc(r,n)!=null)return e;{const h=new Vp(r,e,o),g=e.eventCache.getNode();let m;if(He(n)||Me(n)===".priority"){let _;if(e.serverCache.isFullyInitialized())_=Ec(r,Bs(e));else{const b=e.serverCache.getNode();ne(b instanceof Te,"serverChildren would be complete if leaf node"),_=Hp(r,b)}_=_,m=i.filter.updateFullNode(g,_,c)}else{const _=Me(n);let b=Bp(r,_,e.serverCache);b==null&&e.serverCache.isCompleteForChild(_)&&(b=g.getImmediateChild(_)),b!=null?m=i.filter.updateChild(g,_,b,rt(n),h,c):e.eventCache.getNode().hasChild(_)?m=i.filter.updateChild(g,_,Te.EMPTY_NODE,rt(n),h,c):m=g,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(d=Ec(r,Bs(e)),d.isLeafNode()&&(m=i.filter.updateFullNode(m,d,c)))}return d=e.serverCache.isFullyInitialized()||Sc(r,Fe())!=null,co(e,m,d,i.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,o=new Lp(r.getIndex()),c=WR(r);this.processor_=EA(c);const d=n.serverCache,h=n.eventCache,g=o.updateFullNode(Te.EMPTY_NODE,d.getNode(),null),m=c.updateFullNode(Te.EMPTY_NODE,h.getNode(),null),_=new ls(g,d.isFullyInitialized(),o.filtersNodes()),b=new ls(m,h.isFullyInitialized(),c.filtersNodes());this.viewCache_=qc(b,_),this.eventGenerator_=new tA(this.query_)}get query(){return this.query_}}function AA(i){return i.viewCache_.serverCache.getNode()}function DA(i){return bc(i.viewCache_)}function IA(i,e){const n=Bs(i.viewCache_);return n&&(i.query._queryParams.loadsAllData()||!He(e)&&!n.getImmediateChild(Me(e)).isEmpty())?n.getChild(e):null}function rb(i){return i.eventRegistrations_.length===0}function kA(i,e){i.eventRegistrations_.push(e)}function ab(i,e,n){const r=[];if(n){ne(e==null,"A cancel should cancel all event registrations.");const o=i.query._path;i.eventRegistrations_.forEach(c=>{const d=c.createCancelEvent(n,o);d&&r.push(d)})}if(e){let o=[];for(let c=0;c<i.eventRegistrations_.length;++c){const d=i.eventRegistrations_[c];if(!d.matches(e))o.push(d);else if(e.hasAnyCallback()){o=o.concat(i.eventRegistrations_.slice(c+1));break}}i.eventRegistrations_=o}else i.eventRegistrations_=[];return r}function ob(i,e,n,r){e.type===Mn.MERGE&&e.source.queryId!==null&&(ne(Bs(i.viewCache_),"We should always have a full cache before handling merges"),ne(bc(i.viewCache_),"Missing event cache, even though we have a server cache"));const o=i.viewCache_,c=CA(i.processor_,o,e,n,r);return SA(i.processor_,c.viewCache),ne(c.viewCache.serverCache.isFullyInitialized()||!o.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),i.viewCache_=c.viewCache,iE(i,c.changes,c.viewCache.eventCache.getNode(),null)}function jA(i,e){const n=i.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(pt,(c,d)=>{r.push(Gr(c,d))}),n.isFullyInitialized()&&r.push(Y0(n.getNode())),iE(i,r,n.getNode(),e)}function iE(i,e,n,r){const o=r?[r]:i.eventRegistrations_;return nA(i.eventGenerator_,e,n,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tc;class sE{constructor(){this.views=new Map}}function MA(i){ne(!Tc,"__referenceConstructor has already been defined"),Tc=i}function LA(){return ne(Tc,"Reference.ts has not been loaded"),Tc}function PA(i){return i.views.size===0}function $p(i,e,n,r){const o=e.source.queryId;if(o!==null){const c=i.views.get(o);return ne(c!=null,"SyncTree gave us an op for an invalid query."),ob(c,e,n,r)}else{let c=[];for(const d of i.views.values())c=c.concat(ob(d,e,n,r));return c}}function rE(i,e,n,r,o){const c=e._queryIdentifier,d=i.views.get(c);if(!d){let h=Ec(n,o?r:null),g=!1;h?g=!0:r instanceof Te?(h=Hp(n,r),g=!1):(h=Te.EMPTY_NODE,g=!1);const m=qc(new ls(h,g,!1),new ls(r,o,!1));return new RA(e,m)}return d}function UA(i,e,n,r,o,c){const d=rE(i,e,r,o,c);return i.views.has(e._queryIdentifier)||i.views.set(e._queryIdentifier,d),kA(d,n),jA(d,n)}function zA(i,e,n,r){const o=e._queryIdentifier,c=[];let d=[];const h=cs(i);if(o==="default")for(const[g,m]of i.views.entries())d=d.concat(ab(m,n,r)),rb(m)&&(i.views.delete(g),m.query._queryParams.loadsAllData()||c.push(m.query));else{const g=i.views.get(o);g&&(d=d.concat(ab(g,n,r)),rb(g)&&(i.views.delete(o),g.query._queryParams.loadsAllData()||c.push(g.query)))}return h&&!cs(i)&&c.push(new(LA())(e._repo,e._path)),{removed:c,events:d}}function aE(i){const e=[];for(const n of i.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function ss(i,e){let n=null;for(const r of i.views.values())n=n||IA(r,e);return n}function oE(i,e){if(e._queryParams.loadsAllData())return Fc(i);{const r=e._queryIdentifier;return i.views.get(r)}}function lE(i,e){return oE(i,e)!=null}function cs(i){return Fc(i)!=null}function Fc(i){for(const e of i.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wc;function HA(i){ne(!wc,"__referenceConstructor has already been defined"),wc=i}function BA(){return ne(wc,"Reference.ts has not been loaded"),wc}let VA=1;class lb{constructor(e){this.listenProvider_=e,this.syncPointTree_=new ot(null),this.pendingWriteTree_=vA(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function cE(i,e,n,r,o){return aA(i.pendingWriteTree_,e,n,r,o),o?jo(i,new Hs(W0(),e,n)):[]}function js(i,e,n=!1){const r=oA(i.pendingWriteTree_,e);if(lA(i.pendingWriteTree_,e)){let c=new ot(null);return r.snap!=null?c=c.set(Fe(),!0):nn(r.children,d=>{c=c.set(new it(d),!0)}),jo(i,new _c(r.path,c,n))}else return[]}function ko(i,e,n){return jo(i,new Hs(Up(),e,n))}function $A(i,e,n){const r=ot.fromObject(n);return jo(i,new Co(Up(),e,r))}function GA(i,e){return jo(i,new So(Up(),e))}function qA(i,e,n){const r=qp(i,n);if(r){const o=Yp(r),c=o.path,d=o.queryId,h=Ft(c,e),g=new So(zp(d),h);return Fp(i,c,g)}else return[]}function Oc(i,e,n,r,o=!1){const c=e._path,d=i.syncPointTree_.get(c);let h=[];if(d&&(e._queryIdentifier==="default"||lE(d,e))){const g=zA(d,e,n,r);PA(d)&&(i.syncPointTree_=i.syncPointTree_.remove(c));const m=g.removed;if(h=g.events,!o){const _=m.findIndex(E=>E._queryParams.loadsAllData())!==-1,b=i.syncPointTree_.findOnPath(c,(E,w)=>cs(w));if(_&&!b){const E=i.syncPointTree_.subtree(c);if(!E.isEmpty()){const w=WA(E);for(let T=0;T<w.length;++T){const P=w[T],N=P.query,H=hE(i,P);i.listenProvider_.startListening(fo(N),To(i,N),H.hashFn,H.onComplete)}}}!b&&m.length>0&&!r&&(_?i.listenProvider_.stopListening(fo(e),null):m.forEach(E=>{const w=i.queryToTagMap.get(Wc(E));i.listenProvider_.stopListening(fo(E),w)}))}KA(i,m)}return h}function uE(i,e,n,r){const o=qp(i,r);if(o!=null){const c=Yp(o),d=c.path,h=c.queryId,g=Ft(d,e),m=new Hs(zp(h),g,n);return Fp(i,d,m)}else return[]}function YA(i,e,n,r){const o=qp(i,r);if(o){const c=Yp(o),d=c.path,h=c.queryId,g=Ft(d,e),m=ot.fromObject(n),_=new Co(zp(h),g,m);return Fp(i,d,_)}else return[]}function Gh(i,e,n,r=!1){const o=e._path;let c=null,d=!1;i.syncPointTree_.foreachOnPath(o,(E,w)=>{const T=Ft(E,o);c=c||ss(w,T),d=d||cs(w)});let h=i.syncPointTree_.get(o);h?(d=d||cs(h),c=c||ss(h,Fe())):(h=new sE,i.syncPointTree_=i.syncPointTree_.set(o,h));let g;c!=null?g=!0:(g=!1,c=Te.EMPTY_NODE,i.syncPointTree_.subtree(o).foreachChild((w,T)=>{const P=ss(T,Fe());P&&(c=c.updateImmediateChild(w,P))}));const m=lE(h,e);if(!m&&!e._queryParams.loadsAllData()){const E=Wc(e);ne(!i.queryToTagMap.has(E),"View does not exist, but we have a tag");const w=QA();i.queryToTagMap.set(E,w),i.tagToQueryMap.set(w,E)}const _=Yc(i.pendingWriteTree_,o);let b=UA(h,e,n,_,c,g);if(!m&&!d&&!r){const E=oE(h,e);b=b.concat(XA(i,e,E))}return b}function Gp(i,e,n){const o=i.pendingWriteTree_,c=i.syncPointTree_.findOnPath(e,(d,h)=>{const g=Ft(d,e),m=ss(h,g);if(m)return m});return Z0(o,e,c,n,!0)}function FA(i,e){const n=e._path;let r=null;i.syncPointTree_.foreachOnPath(n,(m,_)=>{const b=Ft(m,n);r=r||ss(_,b)});let o=i.syncPointTree_.get(n);o?r=r||ss(o,Fe()):(o=new sE,i.syncPointTree_=i.syncPointTree_.set(n,o));const c=r!=null,d=c?new ls(r,!0,!1):null,h=Yc(i.pendingWriteTree_,e._path),g=rE(o,e,h,c?d.getNode():Te.EMPTY_NODE,c);return DA(g)}function jo(i,e){return dE(e,i.syncPointTree_,null,Yc(i.pendingWriteTree_,Fe()))}function dE(i,e,n,r){if(He(i.path))return fE(i,e,n,r);{const o=e.get(Fe());n==null&&o!=null&&(n=ss(o,Fe()));let c=[];const d=Me(i.path),h=i.operationForChild(d),g=e.children.get(d);if(g&&h){const m=n?n.getImmediateChild(d):null,_=J0(r,d);c=c.concat(dE(h,g,m,_))}return o&&(c=c.concat($p(o,i,r,n))),c}}function fE(i,e,n,r){const o=e.get(Fe());n==null&&o!=null&&(n=ss(o,Fe()));let c=[];return e.children.inorderTraversal((d,h)=>{const g=n?n.getImmediateChild(d):null,m=J0(r,d),_=i.operationForChild(d);_&&(c=c.concat(fE(_,h,g,m)))}),o&&(c=c.concat($p(o,i,r,n))),c}function hE(i,e){const n=e.query,r=To(i,n);return{hashFn:()=>(AA(e)||Te.EMPTY_NODE).hash(),onComplete:o=>{if(o==="ok")return r?qA(i,n._path,r):GA(i,n._path);{const c=FN(o,n);return Oc(i,n,null,c)}}}}function To(i,e){const n=Wc(e);return i.queryToTagMap.get(n)}function Wc(i){return i._path.toString()+"$"+i._queryIdentifier}function qp(i,e){return i.tagToQueryMap.get(e)}function Yp(i){const e=i.indexOf("$");return ne(e!==-1&&e<i.length-1,"Bad queryKey."),{queryId:i.substr(e+1),path:new it(i.substr(0,e))}}function Fp(i,e,n){const r=i.syncPointTree_.get(e);ne(r,"Missing sync point for query tag that we're tracking");const o=Yc(i.pendingWriteTree_,e);return $p(r,n,o,null)}function WA(i){return i.fold((e,n,r)=>{if(n&&cs(n))return[Fc(n)];{let o=[];return n&&(o=aE(n)),nn(r,(c,d)=>{o=o.concat(d)}),o}})}function fo(i){return i._queryParams.loadsAllData()&&!i._queryParams.isDefault()?new(BA())(i._repo,i._path):i}function KA(i,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const o=Wc(r),c=i.queryToTagMap.get(o);i.queryToTagMap.delete(o),i.tagToQueryMap.delete(c)}}}function QA(){return VA++}function XA(i,e,n){const r=e._path,o=To(i,e),c=hE(i,n),d=i.listenProvider_.startListening(fo(e),o,c.hashFn,c.onComplete),h=i.syncPointTree_.subtree(r);if(o)ne(!cs(h.value),"If we're adding a query, it shouldn't be shadowed");else{const g=h.fold((m,_,b)=>{if(!He(m)&&_&&cs(_))return[Fc(_).query];{let E=[];return _&&(E=E.concat(aE(_).map(w=>w.query))),nn(b,(w,T)=>{E=E.concat(T)}),E}});for(let m=0;m<g.length;++m){const _=g[m];i.listenProvider_.stopListening(fo(_),To(i,_))}}return d}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Wp(n)}node(){return this.node_}}class Kp{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Tt(this.path_,e);return new Kp(this.syncTree_,n)}node(){return Gp(this.syncTree_,this.path_)}}const ZA=function(i){return i=i||{},i.timestamp=i.timestamp||new Date().getTime(),i},cb=function(i,e,n){if(!i||typeof i!="object")return i;if(ne(".sv"in i,"Unexpected leaf node or priority contents"),typeof i[".sv"]=="string")return JA(i[".sv"],e,n);if(typeof i[".sv"]=="object")return eD(i[".sv"],e);ne(!1,"Unexpected server value: "+JSON.stringify(i,null,2))},JA=function(i,e,n){switch(i){case"timestamp":return n.timestamp;default:ne(!1,"Unexpected server value: "+i)}},eD=function(i,e,n){i.hasOwnProperty("increment")||ne(!1,"Unexpected server value: "+JSON.stringify(i,null,2));const r=i.increment;typeof r!="number"&&ne(!1,"Unexpected increment value: "+r);const o=e.node();if(ne(o!==null&&typeof o<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!o.isLeafNode())return r;const d=o.getValue();return typeof d!="number"?r:d+r},tD=function(i,e,n,r){return Qp(e,new Kp(n,i),r)},pE=function(i,e,n){return Qp(i,new Wp(e),n)};function Qp(i,e,n){const r=i.getPriority().val(),o=cb(r,e.getImmediateChild(".priority"),n);let c;if(i.isLeafNode()){const d=i,h=cb(d.getValue(),e,n);return h!==d.getValue()||o!==d.getPriority().val()?new At(h,kt(o)):i}else{const d=i;return c=d,o!==d.getPriority().val()&&(c=c.updatePriority(new At(o))),d.forEachChild(pt,(h,g)=>{const m=Qp(g,e.getImmediateChild(h),n);m!==g&&(c=c.updateImmediateChild(h,m))}),c}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xp{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Zp(i,e){let n=e instanceof it?e:new it(e),r=i,o=Me(n);for(;o!==null;){const c=Br(r.node.children,o)||{children:{},childCount:0};r=new Xp(o,r,c),n=rt(n),o=Me(n)}return r}function Jr(i){return i.node.value}function gE(i,e){i.node.value=e,qh(i)}function mE(i){return i.node.childCount>0}function nD(i){return Jr(i)===void 0&&!mE(i)}function Kc(i,e){nn(i.node.children,(n,r)=>{e(new Xp(n,i,r))})}function vE(i,e,n,r){n&&e(i),Kc(i,o=>{vE(o,e,!0)})}function iD(i,e,n){let r=i.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Mo(i){return new it(i.parent===null?i.name:Mo(i.parent)+"/"+i.name)}function qh(i){i.parent!==null&&sD(i.parent,i.name,i)}function sD(i,e,n){const r=nD(n),o=Si(i.node.children,e);r&&o?(delete i.node.children[e],i.node.childCount--,qh(i)):!r&&!o&&(i.node.children[e]=n.node,i.node.childCount++,qh(i))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rD=/[\[\].#$\/\u0000-\u001F\u007F]/,aD=/[\[\].#$\u0000-\u001F\u007F]/,Gf=10*1024*1024,yE=function(i){return typeof i=="string"&&i.length!==0&&!rD.test(i)},_E=function(i){return typeof i=="string"&&i.length!==0&&!aD.test(i)},oD=function(i){return i&&(i=i.replace(/^\/*\.info(\/|$)/,"/")),_E(i)},lD=function(i,e,n,r){Jp(wp(i,"value"),e,n)},Jp=function(i,e,n){const r=n instanceof it?new OR(n,i):n;if(e===void 0)throw new Error(i+"contains undefined "+Ds(r));if(typeof e=="function")throw new Error(i+"contains a function "+Ds(r)+" with contents = "+e.toString());if(m0(e))throw new Error(i+"contains "+e.toString()+" "+Ds(r));if(typeof e=="string"&&e.length>Gf/3&&$c(e)>Gf)throw new Error(i+"contains a string greater than "+Gf+" utf8 bytes "+Ds(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let o=!1,c=!1;if(nn(e,(d,h)=>{if(d===".value")o=!0;else if(d!==".priority"&&d!==".sv"&&(c=!0,!yE(d)))throw new Error(i+" contains an invalid key ("+d+") "+Ds(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);xR(r,d),Jp(i,h,r),NR(r)}),o&&c)throw new Error(i+' contains ".value" child '+Ds(r)+" in addition to actual children.")}},bE=function(i,e,n,r){if(!_E(n))throw new Error(wp(i,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cD=function(i,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),bE(i,e,n)},EE=function(i,e){if(Me(e)===".info")throw new Error(i+" failed = Can't modify data under /.info/")},uD=function(i,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!yE(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!oD(n))throw new Error(wp(i,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function eg(i,e){let n=null;for(let r=0;r<e.length;r++){const o=e[r],c=o.getPath();n!==null&&!kp(c,n.path)&&(i.eventLists_.push(n),n=null),n===null&&(n={events:[],path:c}),n.events.push(o)}n&&i.eventLists_.push(n)}function SE(i,e,n){eg(i,n),CE(i,r=>kp(r,e))}function Wn(i,e,n){eg(i,n),CE(i,r=>jn(r,e)||jn(e,r))}function CE(i,e){i.recursionDepth_++;let n=!0;for(let r=0;r<i.eventLists_.length;r++){const o=i.eventLists_[r];if(o){const c=o.path;e(c)?(fD(i.eventLists_[r]),i.eventLists_[r]=null):n=!1}}n&&(i.eventLists_=[]),i.recursionDepth_--}function fD(i){for(let e=0;e<i.events.length;e++){const n=i.events[e];if(n!==null){i.events[e]=null;const r=n.getEventRunner();oo&&Vt("event: "+n.toString()),Zr(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD="repo_interrupt",pD=25;class gD{constructor(e,n,r,o){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=o,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new dD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=yc(),this.transactionQueueTree_=new Xp,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function mD(i,e,n){if(i.stats_=Dp(i.repoInfo_),i.forceRestClient_||XN())i.server_=new vc(i.repoInfo_,(r,o,c,d)=>{ub(i,r,o,c,d)},i.authTokenProvider_,i.appCheckProvider_),setTimeout(()=>db(i,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ct(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}i.persistentConnection_=new vi(i.repoInfo_,e,(r,o,c,d)=>{ub(i,r,o,c,d)},r=>{db(i,r)},r=>{yD(i,r)},i.authTokenProvider_,i.appCheckProvider_,n),i.server_=i.persistentConnection_}i.authTokenProvider_.addTokenChangeListener(r=>{i.server_.refreshAuthToken(r)}),i.appCheckProvider_.addTokenChangeListener(r=>{i.server_.refreshAppCheckToken(r.token)}),i.statsReporter_=nR(i.repoInfo_,()=>new eA(i.stats_,i.server_)),i.infoData_=new KR,i.infoSyncTree_=new lb({startListening:(r,o,c,d)=>{let h=[];const g=i.infoData_.getNode(r._path);return g.isEmpty()||(h=ko(i.infoSyncTree_,r._path,g),setTimeout(()=>{d("ok")},0)),h},stopListening:()=>{}}),ng(i,"connected",!1),i.serverSyncTree_=new lb({startListening:(r,o,c,d)=>(i.server_.listen(r,c,o,(h,g)=>{const m=d(h,g);Wn(i.eventQueue_,r._path,m)}),[]),stopListening:(r,o)=>{i.server_.unlisten(r,o)}})}function vD(i){const n=i.infoData_.getNode(new it(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function tg(i){return ZA({timestamp:vD(i)})}function ub(i,e,n,r,o){i.dataUpdateCount++;const c=new it(e);n=i.interceptServerDataCallback_?i.interceptServerDataCallback_(e,n):n;let d=[];if(o)if(r){const g=fc(n,m=>kt(m));d=YA(i.serverSyncTree_,c,g,o)}else{const g=kt(n);d=uE(i.serverSyncTree_,c,g,o)}else if(r){const g=fc(n,m=>kt(m));d=$A(i.serverSyncTree_,c,g)}else{const g=kt(n);d=ko(i.serverSyncTree_,c,g)}let h=c;d.length>0&&(h=Xc(i,c)),Wn(i.eventQueue_,h,d)}function db(i,e){ng(i,"connected",e),e===!1&&ED(i)}function yD(i,e){nn(e,(n,r)=>{ng(i,n,r)})}function ng(i,e,n){const r=new it("/.info/"+e),o=kt(n);i.infoData_.updateSnapshot(r,o);const c=ko(i.infoSyncTree_,r,o);Wn(i.eventQueue_,r,c)}function TE(i){return i.nextWriteId_++}function _D(i,e,n){const r=FA(i.serverSyncTree_,e);return r!=null?Promise.resolve(r):i.server_.get(e).then(o=>{const c=kt(o).withIndex(e._queryParams.getIndex());Gh(i.serverSyncTree_,e,n,!0);let d;if(e._queryParams.loadsAllData())d=ko(i.serverSyncTree_,e._path,c);else{const h=To(i.serverSyncTree_,e);d=uE(i.serverSyncTree_,e._path,c,h)}return Wn(i.eventQueue_,e._path,d),Oc(i.serverSyncTree_,e,n,null,!0),c},o=>(Qc(i,"get for query "+Ct(e)+" failed: "+o),Promise.reject(new Error(o))))}function bD(i,e,n,r,o){Qc(i,"set",{path:e.toString(),value:n,priority:r});const c=tg(i),d=kt(n,r),h=Gp(i.serverSyncTree_,e),g=pE(d,h,c),m=TE(i),_=cE(i.serverSyncTree_,e,g,m,!0);eg(i.eventQueue_,_),i.server_.put(e.toString(),d.val(!0),(E,w)=>{const T=E==="ok";T||tn("set at "+e+" failed: "+E);const P=js(i.serverSyncTree_,m,!T);Wn(i.eventQueue_,e,P),TD(i,o,E,w)});const b=AE(i,e);Xc(i,b),Wn(i.eventQueue_,b,[])}function ED(i){Qc(i,"onDisconnectEvents");const e=tg(i),n=yc();zh(i.onDisconnect_,Fe(),(o,c)=>{const d=tD(o,c,i.serverSyncTree_,e);F0(n,o,d)});let r=[];zh(n,Fe(),(o,c)=>{r=r.concat(ko(i.serverSyncTree_,o,c));const d=AE(i,o);Xc(i,d)}),i.onDisconnect_=yc(),Wn(i.eventQueue_,Fe(),r)}function SD(i,e,n){let r;Me(e._path)===".info"?r=Gh(i.infoSyncTree_,e,n):r=Gh(i.serverSyncTree_,e,n),SE(i.eventQueue_,e._path,r)}function wE(i,e,n){let r;Me(e._path)===".info"?r=Oc(i.infoSyncTree_,e,n):r=Oc(i.serverSyncTree_,e,n),SE(i.eventQueue_,e._path,r)}function CD(i){i.persistentConnection_&&i.persistentConnection_.interrupt(hD)}function Qc(i,...e){let n="";i.persistentConnection_&&(n=i.persistentConnection_.id+":"),Vt(n,...e)}function TD(i,e,n,r){e&&Zr(()=>{if(n==="ok")e(null);else{const o=(n||"error").toUpperCase();let c=o;r&&(c+=": "+r);const d=new Error(c);d.code=o,e(d)}})}function OE(i,e,n){return Gp(i.serverSyncTree_,e,n)||Te.EMPTY_NODE}function ig(i,e=i.transactionQueueTree_){if(e||Zc(i,e),Jr(e)){const n=NE(i,e);ne(n.length>0,"Sending zero length transaction queue"),n.every(o=>o.status===0)&&wD(i,Mo(e),n)}else mE(e)&&Kc(e,n=>{ig(i,n)})}function wD(i,e,n){const r=n.map(m=>m.currentWriteId),o=OE(i,e,r);let c=o;const d=o.hash();for(let m=0;m<n.length;m++){const _=n[m];ne(_.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),_.status=1,_.retryCount++;const b=Ft(e,_.path);c=c.updateChild(b,_.currentOutputSnapshotRaw)}const h=c.val(!0),g=e;i.server_.put(g.toString(),h,m=>{Qc(i,"transaction put response",{path:g.toString(),status:m});let _=[];if(m==="ok"){const b=[];for(let E=0;E<n.length;E++)n[E].status=2,_=_.concat(js(i.serverSyncTree_,n[E].currentWriteId)),n[E].onComplete&&b.push(()=>n[E].onComplete(null,!0,n[E].currentOutputSnapshotResolved)),n[E].unwatcher();Zc(i,Zp(i.transactionQueueTree_,e)),ig(i,i.transactionQueueTree_),Wn(i.eventQueue_,e,_);for(let E=0;E<b.length;E++)Zr(b[E])}else{if(m==="datastale")for(let b=0;b<n.length;b++)n[b].status===3?n[b].status=4:n[b].status=0;else{tn("transaction at "+g.toString()+" failed: "+m);for(let b=0;b<n.length;b++)n[b].status=4,n[b].abortReason=m}Xc(i,e)}},d)}function Xc(i,e){const n=xE(i,e),r=Mo(n),o=NE(i,n);return OD(i,o,r),r}function OD(i,e,n){if(e.length===0)return;const r=[];let o=[];const d=e.filter(h=>h.status===0).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const g=e[h],m=Ft(n,g.path);let _=!1,b;if(ne(m!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),g.status===4)_=!0,b=g.abortReason,o=o.concat(js(i.serverSyncTree_,g.currentWriteId,!0));else if(g.status===0)if(g.retryCount>=pD)_=!0,b="maxretry",o=o.concat(js(i.serverSyncTree_,g.currentWriteId,!0));else{const E=OE(i,g.path,d);g.currentInputSnapshot=E;const w=e[h].update(E.val());if(w!==void 0){Jp("transaction failed: Data returned ",w,g.path);let T=kt(w);typeof w=="object"&&w!=null&&Si(w,".priority")||(T=T.updatePriority(E.getPriority()));const N=g.currentWriteId,H=tg(i),z=pE(T,E,H);g.currentOutputSnapshotRaw=T,g.currentOutputSnapshotResolved=z,g.currentWriteId=TE(i),d.splice(d.indexOf(N),1),o=o.concat(cE(i.serverSyncTree_,g.path,z,g.currentWriteId,g.applyLocally)),o=o.concat(js(i.serverSyncTree_,N,!0))}else _=!0,b="nodata",o=o.concat(js(i.serverSyncTree_,g.currentWriteId,!0))}Wn(i.eventQueue_,n,o),o=[],_&&(e[h].status=2,function(E){setTimeout(E,Math.floor(0))}(e[h].unwatcher),e[h].onComplete&&(b==="nodata"?r.push(()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot)):r.push(()=>e[h].onComplete(new Error(b),!1,null))))}Zc(i,i.transactionQueueTree_);for(let h=0;h<r.length;h++)Zr(r[h]);ig(i,i.transactionQueueTree_)}function xE(i,e){let n,r=i.transactionQueueTree_;for(n=Me(e);n!==null&&Jr(r)===void 0;)r=Zp(r,n),e=rt(e),n=Me(e);return r}function NE(i,e){const n=[];return RE(i,e,n),n.sort((r,o)=>r.order-o.order),n}function RE(i,e,n){const r=Jr(e);if(r)for(let o=0;o<r.length;o++)n.push(r[o]);Kc(e,o=>{RE(i,o,n)})}function Zc(i,e){const n=Jr(e);if(n){let r=0;for(let o=0;o<n.length;o++)n[o].status!==2&&(n[r]=n[o],r++);n.length=r,gE(e,n.length>0?n:void 0)}Kc(e,r=>{Zc(i,r)})}function AE(i,e){const n=Mo(xE(i,e)),r=Zp(i.transactionQueueTree_,e);return iD(r,o=>{qf(i,o)}),qf(i,r),vE(r,o=>{qf(i,o)}),n}function qf(i,e){const n=Jr(e);if(n){const r=[];let o=[],c=-1;for(let d=0;d<n.length;d++)n[d].status===3||(n[d].status===1?(ne(c===d-1,"All SENT items should be at beginning of queue."),c=d,n[d].status=3,n[d].abortReason="set"):(ne(n[d].status===0,"Unexpected transaction status in abort"),n[d].unwatcher(),o=o.concat(js(i.serverSyncTree_,n[d].currentWriteId,!0)),n[d].onComplete&&r.push(n[d].onComplete.bind(null,new Error("set"),!1,null))));c===-1?gE(e,void 0):n.length=c+1,Wn(i.eventQueue_,Mo(e),o);for(let d=0;d<r.length;d++)Zr(r[d])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xD(i){let e="";const n=i.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let o=n[r];try{o=decodeURIComponent(o.replace(/\+/g," "))}catch{}e+="/"+o}return e}function ND(i){const e={};i.charAt(0)==="?"&&(i=i.substring(1));for(const n of i.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):tn(`Invalid query segment '${n}' in query '${i}'`)}return e}const fb=function(i,e){const n=RD(i),r=n.namespace;n.domain==="firebase.com"&&_i(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&_i("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||VN();const o=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new N0(n.host,n.secure,r,o,e,"",r!==n.subdomain),path:new it(n.pathString)}},RD=function(i){let e="",n="",r="",o="",c="",d=!0,h="https",g=443;if(typeof i=="string"){let m=i.indexOf("//");m>=0&&(h=i.substring(0,m-1),i=i.substring(m+2));let _=i.indexOf("/");_===-1&&(_=i.length);let b=i.indexOf("?");b===-1&&(b=i.length),e=i.substring(0,Math.min(_,b)),_<b&&(o=xD(i.substring(_,b)));const E=ND(i.substring(Math.min(i.length,b)));m=e.indexOf(":"),m>=0?(d=h==="https"||h==="wss",g=parseInt(e.substring(m+1),10)):m=e.length;const w=e.slice(0,m);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),c=r}"ns"in E&&(c=E.ns)}return{host:e,port:g,domain:n,subdomain:r,secure:d,scheme:h,pathString:o,namespace:c}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DE{constructor(e,n,r,o){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=o}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ct(this.snapshot.exportVal())}}class IE{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return ne(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(e,n,r,o){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=o}get key(){return He(this._path)?null:P0(this._path)}get ref(){return new Kn(this._repo,this._path)}get _queryIdentifier(){const e=X_(this._queryParams),n=Rp(e);return n==="{}"?"default":n}get _queryObject(){return X_(this._queryParams)}isEqual(e){if(e=On(e),!(e instanceof sg))return!1;const n=this._repo===e._repo,r=kp(this._path,e._path),o=this._queryIdentifier===e._queryIdentifier;return n&&r&&o}toJSON(){return this.toString()}toString(){return this._repo.toString()+wR(this._path)}}class Kn extends sg{constructor(e,n){super(e,n,new Pp,!1)}get parent(){const e=z0(this._path);return e===null?null:new Kn(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class Yr{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new it(e),r=xc(this.ref,e);return new Yr(this._node.getChild(n),r,pt)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,o)=>e(new Yr(o,xc(this.ref,r),pt)))}hasChild(e){const n=new it(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function ye(i,e){return i=On(i),i._checkNotDeleted("ref"),e!==void 0?xc(i._root,e):i._root}function xc(i,e){return i=On(i),Me(i._path)===null?cD("child","path",e):bE("child","path",e),new Kn(i._repo,Tt(i._path,e))}function Dt(i){return EE("remove",i._path),Ae(i,null)}function Ae(i,e){i=On(i),EE("set",i._path),lD("set",e,i._path);const n=new Vc;return bD(i._repo,i._path,e,null,n.wrapCallback(()=>{})),n.promise}function AD(i){i=On(i);const e=new kE(()=>{}),n=new Lo(e);return _D(i._repo,i,n).then(r=>new Yr(r,new Kn(i._repo,i._path),i._queryParams.getIndex()))}class Lo{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new DE("value",this,new Yr(e.snapshotNode,new Kn(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IE(this,e,n):null}matches(e){return e instanceof Lo?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class rg{constructor(e,n){this.eventType=e,this.callbackContext=n}respondsTo(e){let n=e==="children_added"?"child_added":e;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new IE(this,e,n):null}createEvent(e,n){ne(e.childName!=null,"Child events should have a childName.");const r=xc(new Kn(n._repo,n._path),e.childName),o=n._queryParams.getIndex();return new DE(e.type,this,new Yr(e.snapshotNode,r,o),e.prevName)}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof rg?this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function DD(i,e,n,r,o){const c=new kE(n,void 0),d=new Lo(c);return SD(i._repo,i,d),()=>wE(i._repo,i,d)}function Yf(i,e,n,r){return DD(i,"value",e)}function Ff(i,e,n){let r=null;const o=null;e==="value"?r=new Lo(o):e&&(r=new rg(e,o)),wE(i._repo,i,r)}MA(Kn);HA(Kn);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ID="FIREBASE_DATABASE_EMULATOR_HOST",Yh={};let kD=!1;function jD(i,e,n,r){i.repoInfo_=new N0(e,!1,i.repoInfo_.namespace,i.repoInfo_.webSocketOnly,i.repoInfo_.nodeAdmin,i.repoInfo_.persistenceKey,i.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(i.authTokenProvider_=r)}function MD(i,e,n,r,o){let c=r||i.options.databaseURL;c===void 0&&(i.options.projectId||_i("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Vt("Using default host for project ",i.options.projectId),c=`${i.options.projectId}-default-rtdb.firebaseio.com`);let d=fb(c,o),h=d.repoInfo,g;typeof process<"u"&&k_&&(g=k_[ID]),g?(c=`http://${g}?ns=${h.namespace}`,d=fb(c,o),h=d.repoInfo):d.repoInfo.secure;const m=new JN(i.name,i.options,e);uD("Invalid Firebase Database URL",d),He(d.path)||_i("Database URL must point to the root of a Firebase Database (not including a child path).");const _=PD(h,i,m,new ZN(i,n));return new UD(_,i)}function LD(i,e){const n=Yh[e];(!n||n[i.key]!==i)&&_i(`Database ${e}(${i.repoInfo_}) has already been deleted.`),CD(i),delete n[i.key]}function PD(i,e,n,r){let o=Yh[e.name];o||(o={},Yh[e.name]=o);let c=o[i.toURLString()];return c&&_i("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),c=new gD(i,kD,n,r),o[i.toURLString()]=c,c}class UD{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(mD(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Kn(this._repo,Fe())),this._rootInternal}_delete(){return this._rootInternal!==null&&(LD(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&_i("Cannot call "+e+" on a deleted database.")}}function zD(i=u0(),e){const n=Np(i,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=ux("database");r&&HD(n,...r)}return n}function HD(i,e,n,r={}){i=On(i),i._checkNotDeleted("useEmulator");const o=`${e}:${n}`,c=i._repoInternal;if(i._instanceStarted){if(o===i._repoInternal.repoInfo_.host&&Ps(r,c.repoInfo_.emulatorOptions))return;_i("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let d;if(c.repoInfo_.nodeAdmin)r.mockUserToken&&_i('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),d=new rc(rc.OWNER);else if(r.mockUserToken){const h=typeof r.mockUserToken=="string"?r.mockUserToken:dx(r.mockUserToken,i.app.options.projectId);d=new rc(h)}jD(c,o,r,d)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BD(i){LN(Qr),Vr(new Us("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("auth-internal"),c=e.getProvider("app-check-internal");return MD(r,o,c,n)},"PUBLIC").setMultipleInstances(!0)),ns(j_,M_,i),ns(j_,M_,"esm2017")}vi.prototype.simpleListen=function(i,e){this.sendRequest("q",{p:i},e)};vi.prototype.echo=function(i,e){this.sendRequest("echo",{d:i},e)};BD();var VD="firebase",$D="11.6.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ns(VD,$D,"app");function ag(i,e){var n={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&e.indexOf(r)<0&&(n[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(n[r[o]]=i[r[o]]);return n}function jE(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const GD=jE,ME=new Ro("auth","Firebase",jE());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=new Op("@firebase/auth");function qD(i,...e){Nc.logLevel<=tt.WARN&&Nc.warn(`Auth (${Qr}): ${i}`,...e)}function ac(i,...e){Nc.logLevel<=tt.ERROR&&Nc.error(`Auth (${Qr}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(i,...e){throw og(i,...e)}function Yn(i,...e){return og(i,...e)}function LE(i,e,n){const r=Object.assign(Object.assign({},GD()),{[e]:n});return new Ro("auth","Firebase",r).create(e,{appName:i.name})}function rs(i){return LE(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function og(i,...e){if(typeof i!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(n,...r)}return ME.create(i,...e)}function Oe(i,e,...n){if(!i)throw og(e,...n)}function pi(i){const e="INTERNAL ASSERTION FAILED: "+i;throw ac(e),new Error(e)}function Ei(i,e){i||pi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fh(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function YD(){return hb()==="http:"||hb()==="https:"}function hb(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FD(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(YD()||hx()||"connection"in navigator)?navigator.onLine:!0}function WD(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Po{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ei(n>e,"Short delay should be less than long delay!"),this.isMobile=Tp()||r0()}get(){return FD()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lg(i,e){Ei(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PE{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;pi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;pi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;pi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QD=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],XD=new Po(3e4,6e4);function Jc(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ea(i,e,n,r,o={}){return UE(i,o,async()=>{let c={},d={};r&&(e==="GET"?d=r:c={body:JSON.stringify(r)});const h=Kr(Object.assign({key:i.config.apiKey},d)).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const m=Object.assign({method:e,headers:g},c);return fx()||(m.referrerPolicy="no-referrer"),PE.fetch()(await HE(i,i.config.apiHost,n,h),m)})}async function UE(i,e,n){i._canInitEmulator=!1;const r=Object.assign(Object.assign({},KD),e);try{const o=new ZD(i),c=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await c.json();if("needConfirmation"in d)throw tc(i,"account-exists-with-different-credential",d);if(c.ok&&!("errorMessage"in d))return d;{const h=c.ok?d.errorMessage:d.error.message,[g,m]=h.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw tc(i,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw tc(i,"email-already-in-use",d);if(g==="USER_DISABLED")throw tc(i,"user-disabled",d);const _=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw LE(i,_,m);bi(i,_)}}catch(o){if(o instanceof ds)throw o;bi(i,"network-request-failed",{message:String(o)})}}async function zE(i,e,n,r,o={}){const c=await ea(i,e,n,r,o);return"mfaPendingCredential"in c&&bi(i,"multi-factor-auth-required",{_serverResponse:c}),c}async function HE(i,e,n,r){const o=`${e}${n}?${r}`,c=i,d=c.config.emulator?lg(i.config,o):`${i.config.apiScheme}://${o}`;return QD.includes(n)&&(await c._persistenceManagerAvailable,c._getPersistenceType()==="COOKIE")?c._getPersistence()._getFinalTarget(d).toString():d}class ZD{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yn(this.auth,"network-request-failed")),XD.get())})}}function tc(i,e,n){const r={appName:i.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Yn(i,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JD(i,e){return ea(i,"POST","/v1/accounts:delete",e)}async function Rc(i,e){return ea(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function eI(i,e=!1){const n=On(i),r=await n.getIdToken(e),o=cg(r);Oe(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const c=typeof o.firebase=="object"?o.firebase:void 0,d=c==null?void 0:c.sign_in_provider;return{claims:o,token:r,authTime:ho(Wf(o.auth_time)),issuedAtTime:ho(Wf(o.iat)),expirationTime:ho(Wf(o.exp)),signInProvider:d||null,signInSecondFactor:(c==null?void 0:c.sign_in_second_factor)||null}}function Wf(i){return Number(i)*1e3}function cg(i){const[e,n,r]=i.split(".");if(e===void 0||n===void 0||r===void 0)return ac("JWT malformed, contained fewer than 3 sections"),null;try{const o=dc(n);return o?JSON.parse(o):(ac("Failed to decode base64 JWT payload"),null)}catch(o){return ac("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function pb(i){const e=cg(i);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wo(i,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof ds&&tI(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function tI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ho(this.lastLoginAt),this.creationTime=ho(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ac(i){var e;const n=i.auth,r=await i.getIdToken(),o=await wo(i,Rc(n,{idToken:r}));Oe(o==null?void 0:o.users.length,n,"internal-error");const c=o.users[0];i._notifyReloadListener(c);const d=!((e=c.providerUserInfo)===null||e===void 0)&&e.length?BE(c.providerUserInfo):[],h=sI(i.providerData,d),g=i.isAnonymous,m=!(i.email&&c.passwordHash)&&!(h!=null&&h.length),_=g?m:!1,b={uid:c.localId,displayName:c.displayName||null,photoURL:c.photoUrl||null,email:c.email||null,emailVerified:c.emailVerified||!1,phoneNumber:c.phoneNumber||null,tenantId:c.tenantId||null,providerData:h,metadata:new Wh(c.createdAt,c.lastLoginAt),isAnonymous:_};Object.assign(i,b)}async function iI(i){const e=On(i);await Ac(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sI(i,e){return[...i.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function BE(i){return i.map(e=>{var{providerId:n}=e,r=ag(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rI(i,e){const n=await UE(i,{},async()=>{const r=Kr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:c}=i.config,d=await HE(i,o,"/v1/token",`key=${c}`),h=await i._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",PE.fetch()(d,{method:"POST",headers:h,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function aI(i,e){return ea(i,"POST","/v2/accounts:revokeToken",Jc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):pb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=pb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:c}=await rI(e,n);this.updateTokensAndExpiration(r,o,Number(c))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:c}=n,d=new Pr;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),d.refreshToken=r),o&&(Oe(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),c&&(Oe(typeof c=="number","internal-error",{appName:e}),d.expirationTime=c),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Pr,this.toJSON())}_performRefresh(){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ki(i,e){Oe(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Ln{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,c=ag(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new nI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=c.displayName||null,this.email=c.email||null,this.emailVerified=c.emailVerified||!1,this.phoneNumber=c.phoneNumber||null,this.photoURL=c.photoURL||null,this.isAnonymous=c.isAnonymous||!1,this.tenantId=c.tenantId||null,this.providerData=c.providerData?[...c.providerData]:[],this.metadata=new Wh(c.createdAt||void 0,c.lastLoginAt||void 0)}async getIdToken(e){const n=await wo(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return eI(this,e)}reload(){return iI(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ln(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Ac(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Dn(this.auth.app))return Promise.reject(rs(this.auth));const e=await this.getIdToken();return await wo(this,JD(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,c,d,h,g,m,_;const b=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(o=n.email)!==null&&o!==void 0?o:void 0,w=(c=n.phoneNumber)!==null&&c!==void 0?c:void 0,T=(d=n.photoURL)!==null&&d!==void 0?d:void 0,P=(h=n.tenantId)!==null&&h!==void 0?h:void 0,N=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,H=(m=n.createdAt)!==null&&m!==void 0?m:void 0,z=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:X,emailVerified:Z,isAnonymous:W,providerData:re,stsTokenManager:ce}=n;Oe(X&&ce,e,"internal-error");const se=Pr.fromJSON(this.name,ce);Oe(typeof X=="string",e,"internal-error"),Ki(b,e.name),Ki(E,e.name),Oe(typeof Z=="boolean",e,"internal-error"),Oe(typeof W=="boolean",e,"internal-error"),Ki(w,e.name),Ki(T,e.name),Ki(P,e.name),Ki(N,e.name),Ki(H,e.name),Ki(z,e.name);const ue=new Ln({uid:X,auth:e,email:E,emailVerified:Z,displayName:b,isAnonymous:W,photoURL:T,phoneNumber:w,tenantId:P,stsTokenManager:se,createdAt:H,lastLoginAt:z});return re&&Array.isArray(re)&&(ue.providerData=re.map(xe=>Object.assign({},xe))),N&&(ue._redirectEventId=N),ue}static async _fromIdTokenResponse(e,n,r=!1){const o=new Pr;o.updateFromServerResponse(n);const c=new Ln({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await Ac(c),c}static async _fromGetAccountInfoResponse(e,n,r){const o=n.users[0];Oe(o.localId!==void 0,"internal-error");const c=o.providerUserInfo!==void 0?BE(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(c!=null&&c.length),h=new Pr;h.updateFromIdToken(r);const g=new Ln({uid:o.localId,auth:e,stsTokenManager:h,isAnonymous:d}),m={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new Wh(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(c!=null&&c.length)};return Object.assign(g,m),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gb=new Map;function gi(i){Ei(i instanceof Function,"Expected a class definition");let e=gb.get(i);return e?(Ei(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,gb.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VE{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}VE.type="NONE";const mb=VE;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oc(i,e,n){return`firebase:${i}:${e}:${n}`}class Ur{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:c}=this.auth;this.fullUserKey=oc(this.userKey,o.apiKey,c),this.fullPersistenceKey=oc("persistence",o.apiKey,c),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Rc(this.auth,{idToken:e}).catch(()=>{});return n?Ln._fromGetAccountInfoResponse(this.auth,n,e):null}return Ln._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ur(gi(mb),e,r);const o=(await Promise.all(n.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let c=o[0]||gi(mb);const d=oc(r,e.config.apiKey,e.name);let h=null;for(const m of n)try{const _=await m._get(d);if(_){let b;if(typeof _=="string"){const E=await Rc(e,{idToken:_}).catch(()=>{});if(!E)break;b=await Ln._fromGetAccountInfoResponse(e,E,_)}else b=Ln._fromJSON(e,_);m!==c&&(h=b),c=m;break}}catch{}const g=o.filter(m=>m._shouldAllowMigration);return!c._shouldAllowMigration||!g.length?new Ur(c,e,r):(c=g[0],h&&await c._set(d,h.toJSON()),await Promise.all(n.map(async m=>{if(m!==c)try{await m._remove(d)}catch{}})),new Ur(c,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vb(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YE(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if($E(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(WE(e))return"Blackberry";if(KE(e))return"Webos";if(GE(e))return"Safari";if((e.includes("chrome/")||qE(e))&&!e.includes("edge/"))return"Chrome";if(FE(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function $E(i=Wt()){return/firefox\//i.test(i)}function GE(i=Wt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function qE(i=Wt()){return/crios\//i.test(i)}function YE(i=Wt()){return/iemobile/i.test(i)}function FE(i=Wt()){return/android/i.test(i)}function WE(i=Wt()){return/blackberry/i.test(i)}function KE(i=Wt()){return/webos/i.test(i)}function ug(i=Wt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function oI(i=Wt()){var e;return ug(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function lI(){return px()&&document.documentMode===10}function QE(i=Wt()){return ug(i)||FE(i)||KE(i)||WE(i)||/windows phone/i.test(i)||YE(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XE(i,e=[]){let n;switch(i){case"Browser":n=vb(Wt());break;case"Worker":n=`${vb(Wt())}-${i}`;break;default:n=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Qr}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=c=>new Promise((d,h)=>{try{const g=e(c);d(g)}catch(g){h(g)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uI(i,e={}){return ea(i,"GET","/v2/passwordPolicy",Jc(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=6;class fI{constructor(e){var n,r,o,c;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:dI,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(c=e.forceUpgradeOnSignin)!==null&&c!==void 0?c:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,o,c,d,h;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(r=g.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(c=g.containsUppercaseLetter)!==null&&c!==void 0?c:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(h=g.containsNonAlphanumericCharacter)!==null&&h!==void 0?h:!0),g}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let o=0;o<e.length;o++)r=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,o,c){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=c))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yb(this),this.idTokenSubscription=new yb(this),this.beforeStateQueue=new cI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ME,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(c=>this._resolvePersistenceManagerAvailable=c)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=gi(n)),this._initializationPromise=this.queue(async()=>{var r,o,c;if(!this._deleted&&(this.persistenceManager=await Ur.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((c=this.currentUser)===null||c===void 0?void 0:c.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Rc(this,{idToken:e}),r=await Ln._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Dn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(h=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(h,h))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let o=r,c=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,h=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===h)&&(g!=null&&g.user)&&(o=g.user,c=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(c)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ac(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=WD()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Dn(this.app))return Promise.reject(rs(this));const n=e?On(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Dn(this.app)?Promise.reject(rs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Dn(this.app)?Promise.reject(rs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(gi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await uI(this),n=new fI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ro("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await aI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&gi(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Ur.create(this,[gi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const c=typeof n=="function"?n:n.next.bind(n);let d=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(h,this,"internal-error"),h.then(()=>{d||c(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,r,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XE(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Dn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&qD(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function eu(i){return On(i)}class yb{constructor(e){this.auth=e,this.observer=null,this.addObserver=Tx(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function pI(i){dg=i}function gI(i){return dg.loadJS(i)}function mI(){return dg.gapiScript}function vI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(i,e){const n=Np(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),c=n.getOptions();if(Ps(c,e??{}))return o;bi(o,"already-initialized")}return n.initialize({options:e})}function _I(i,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(gi);e!=null&&e.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function bI(i,e,n){const r=eu(i);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!1,c=ZE(e),{host:d,port:h}=EI(e),g=h===null?"":`:${h}`,m={url:`${c}//${d}${g}/`},_=Object.freeze({host:d,port:h,protocol:c.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Ps(m,r.config.emulator)&&Ps(_,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=m,r.emulatorConfig=_,r.settings.appVerificationDisabledForTesting=!0,SI()}function ZE(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function EI(i){const e=ZE(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const c=o[1];return{host:c,port:_b(r.substr(c.length+1))}}else{const[c,d]=r.split(":");return{host:c,port:_b(d)}}}function _b(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function SI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JE{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return pi("not implemented")}_getIdTokenResponse(e){return pi("not implemented")}_linkToIdToken(e,n){return pi("not implemented")}_getReauthenticationResolver(e){return pi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function zr(i,e){return zE(i,"POST","/v1/accounts:signInWithIdp",Jc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CI="http://localhost";class Vs extends JE{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):bi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,c=ag(n,["providerId","signInMethod"]);if(!r||!o)return null;const d=new Vs(r,o);return d.idToken=c.idToken||void 0,d.accessToken=c.accessToken||void 0,d.secret=c.secret,d.nonce=c.nonce,d.pendingToken=c.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return zr(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,zr(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,zr(e,n)}buildRequest(){const e={requestUri:CI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Kr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eS{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo extends eS{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi extends Uo{constructor(){super("facebook.com")}static credential(e){return Vs._fromParams({providerId:Qi.PROVIDER_ID,signInMethod:Qi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Qi.credentialFromTaggedObject(e)}static credentialFromError(e){return Qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Qi.credential(e.oauthAccessToken)}catch{return null}}}Qi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Qi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi extends Uo{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vs._fromParams({providerId:Xi.PROVIDER_ID,signInMethod:Xi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Xi.credentialFromTaggedObject(e)}static credentialFromError(e){return Xi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Xi.credential(n,r)}catch{return null}}}Xi.GOOGLE_SIGN_IN_METHOD="google.com";Xi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi extends Uo{constructor(){super("github.com")}static credential(e){return Vs._fromParams({providerId:Zi.PROVIDER_ID,signInMethod:Zi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Zi.credentialFromTaggedObject(e)}static credentialFromError(e){return Zi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Zi.credential(e.oauthAccessToken)}catch{return null}}}Zi.GITHUB_SIGN_IN_METHOD="github.com";Zi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji extends Uo{constructor(){super("twitter.com")}static credential(e,n){return Vs._fromParams({providerId:Ji.PROVIDER_ID,signInMethod:Ji.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Ji.credentialFromTaggedObject(e)}static credentialFromError(e){return Ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Ji.credential(n,r)}catch{return null}}}Ji.TWITTER_SIGN_IN_METHOD="twitter.com";Ji.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(i,e){return zE(i,"POST","/v1/accounts:signUp",Jc(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class us{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const c=await Ln._fromIdTokenResponse(e,r,o),d=bb(r);return new us({user:c,providerId:d,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=bb(r);return new us({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function bb(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wI(i){var e;if(Dn(i.app))return Promise.reject(rs(i));const n=eu(i);if(await n._initializationPromise,!((e=n.currentUser)===null||e===void 0)&&e.isAnonymous)return new us({user:n.currentUser,providerId:null,operationType:"signIn"});const r=await TI(n,{returnSecureToken:!0}),o=await us._fromIdTokenResponse(n,"signIn",r,!0);return await n._updateCurrentUser(o.user),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dc extends ds{constructor(e,n,r,o){var c;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,Dc.prototype),this.customData={appName:e.name,tenantId:(c=e.tenantId)!==null&&c!==void 0?c:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new Dc(e,n,r,o)}}function tS(i,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(c=>{throw c.code==="auth/multi-factor-auth-required"?Dc._fromErrorAndOperation(i,c,e,r):c})}async function OI(i,e,n=!1){const r=await wo(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return us._forOperation(i,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xI(i,e,n=!1){const{auth:r}=i;if(Dn(r.app))return Promise.reject(rs(r));const o="reauthenticate";try{const c=await wo(i,tS(r,o,e,i),n);Oe(c.idToken,r,"internal-error");const d=cg(c.idToken);Oe(d,r,"internal-error");const{sub:h}=d;return Oe(i.uid===h,r,"user-mismatch"),us._forOperation(i,o,c)}catch(c){throw(c==null?void 0:c.code)==="auth/user-not-found"&&bi(r,"user-mismatch"),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NI(i,e,n=!1){if(Dn(i.app))return Promise.reject(rs(i));const r="signIn",o=await tS(i,r,e),c=await us._fromIdTokenResponse(i,r,o);return n||await i._updateCurrentUser(c.user),c}function RI(i,e,n,r){return On(i).onIdTokenChanged(e,n,r)}function AI(i,e,n){return On(i).beforeAuthStateChanged(e,n)}const Ic="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Ic,"1"),this.storage.removeItem(Ic),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DI=1e3,II=10;class iS extends nS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=QE(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,h,g)=>{this.notifyListeners(d,g)});return}const r=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(r);!n&&this.localCache[r]===d||this.notifyListeners(r,d)},c=this.storage.getItem(r);lI()&&c!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,II):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},DI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}iS.type="LOCAL";const kI=iS;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sS extends nS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}sS.type="SESSION";const rS=sS;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new tu(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:c}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const h=Array.from(d).map(async m=>m(n.origin,c)),g=await jI(h);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}tu.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fg(i="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MI{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let c,d;return new Promise((h,g)=>{const m=fg("",20);o.port1.start();const _=setTimeout(()=>{g(new Error("unsupported_event"))},r);d={messageChannel:o,onMessage(b){const E=b;if(E.data.eventId===m)switch(E.data.status){case"ack":clearTimeout(_),c=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(c),h(E.data.response);break;default:clearTimeout(_),clearTimeout(c),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:m,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fn(){return window}function LI(i){Fn().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aS(){return typeof Fn().WorkerGlobalScope<"u"&&typeof Fn().importScripts=="function"}async function PI(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function UI(){var i;return((i=navigator==null?void 0:navigator.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function zI(){return aS()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oS="firebaseLocalStorageDb",HI=1,kc="firebaseLocalStorage",lS="fbase_key";class zo{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function nu(i,e){return i.transaction([kc],e?"readwrite":"readonly").objectStore(kc)}function BI(){const i=indexedDB.deleteDatabase(oS);return new zo(i).toPromise()}function Kh(){const i=indexedDB.open(oS,HI);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(kc,{keyPath:lS})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(kc)?e(r):(r.close(),await BI(),e(await Kh()))})})}async function Eb(i,e,n){const r=nu(i,!0).put({[lS]:e,value:n});return new zo(r).toPromise()}async function VI(i,e){const n=nu(i,!1).get(e),r=await new zo(n).toPromise();return r===void 0?null:r.value}function Sb(i,e){const n=nu(i,!0).delete(e);return new zo(n).toPromise()}const $I=800,GI=3;class cS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Kh(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>GI)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return aS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=tu._getInstance(zI()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await PI(),!this.activeServiceWorker)return;this.sender=new MI(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||UI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Kh();return await Eb(e,Ic,"1"),await Sb(e,Ic),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Eb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>VI(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Sb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const c=nu(o,!1).getAll();return new zo(c).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:o,value:c}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(c)&&(this.notifyListeners(o,c),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cS.type="LOCAL";const qI=cS;new Po(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YI(i,e){return e?gi(e):(Oe(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg extends JE{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return zr(e,this._buildIdpRequest())}_linkToIdToken(e,n){return zr(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return zr(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FI(i){return NI(i.auth,new hg(i),i.bypassAuthState)}function WI(i){const{auth:e,user:n}=i;return Oe(n,e,"internal-error"),xI(n,new hg(i),i.bypassAuthState)}async function KI(i){const{auth:e,user:n}=i;return Oe(n,e,"internal-error"),OI(n,new hg(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n,r,o,c=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=c,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:c,error:d,type:h}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:r,tenantId:c||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(g))}catch(m){this.reject(m)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FI;case"linkViaPopup":case"linkViaRedirect":return KI;case"reauthViaPopup":case"reauthViaRedirect":return WI;default:bi(this.auth,"internal-error")}}resolve(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QI=new Po(2e3,1e4);class jr extends uS{constructor(e,n,r,o,c){super(e,n,o,c),this.provider=r,this.authWindow=null,this.pollId=null,jr.currentPopupAction&&jr.currentPopupAction.cancel(),jr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Ei(this.filter.length===1,"Popup operations only handle one event");const e=fg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,jr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,QI.get())};e()}}jr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XI="pendingRedirect",lc=new Map;class ZI extends uS{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=lc.get(this.auth._key());if(!e){try{const r=await JI(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}lc.set(this.auth._key(),e)}return this.bypassAuthState||lc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function JI(i,e){const n=nk(e),r=tk(i);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function ek(i,e){lc.set(i._key(),e)}function tk(i){return gi(i._redirectPersistence)}function nk(i){return oc(XI,i.config.apiKey,i.name)}async function ik(i,e,n=!1){if(Dn(i.app))return Promise.reject(rs(i));const r=eu(i),o=YI(r,e),d=await new ZI(r,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await r._persistUserIfCurrent(d.user),await r._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sk=10*60*1e3;class rk{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ak(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!dS(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yn(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sk&&this.cachedEventUids.clear(),this.cachedEventUids.has(Cb(e))}saveEventToCache(e){this.cachedEventUids.add(Cb(e)),this.lastProcessedEventTime=Date.now()}}function Cb(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function dS({type:i,error:e}){return i==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function ak(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dS(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ok(i,e={}){return ea(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ck=/^https?/;async function uk(i){if(i.config.emulator)return;const{authorizedDomains:e}=await ok(i);for(const n of e)try{if(dk(n))return}catch{}bi(i,"unauthorized-domain")}function dk(i){const e=Fh(),{protocol:n,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const d=new URL(i);return d.hostname===""&&r===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===r}if(!ck.test(n))return!1;if(lk.test(i))return r===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fk=new Po(3e4,6e4);function Tb(){const i=Fn().___jsl;if(i!=null&&i.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function hk(i){return new Promise((e,n)=>{var r,o,c;function d(){Tb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Tb(),n(Yn(i,"network-request-failed"))},timeout:fk.get()})}if(!((o=(r=Fn().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((c=Fn().gapi)===null||c===void 0)&&c.load)d();else{const h=vI("iframefcb");return Fn()[h]=()=>{gapi.load?d():n(Yn(i,"network-request-failed"))},gI(`${mI()}?onload=${h}`).catch(g=>n(g))}}).catch(e=>{throw cc=null,e})}let cc=null;function pk(i){return cc=cc||hk(i),cc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gk=new Po(5e3,15e3),mk="__/auth/iframe",vk="emulator/auth/iframe",yk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_k=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function bk(i){const e=i.config;Oe(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?lg(e,vk):`https://${i.config.authDomain}/${mk}`,r={apiKey:e.apiKey,appName:i.name,v:Qr},o=_k.get(i.config.apiHost);o&&(r.eid=o);const c=i._getFrameworks();return c.length&&(r.fw=c.join(",")),`${n}?${Kr(r).slice(1)}`}async function Ek(i){const e=await pk(i),n=Fn().gapi;return Oe(n,i,"internal-error"),e.open({where:document.body,url:bk(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:yk,dontclear:!0},r=>new Promise(async(o,c)=>{await r.restyle({setHideOnLeave:!1});const d=Yn(i,"network-request-failed"),h=Fn().setTimeout(()=>{c(d)},gk.get());function g(){Fn().clearTimeout(h),o(r)}r.ping(g).then(g,()=>{c(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ck=500,Tk=600,wk="_blank",Ok="http://localhost";class wb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function xk(i,e,n,r=Ck,o=Tk){const c=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-r)/2,0).toString();let h="";const g=Object.assign(Object.assign({},Sk),{width:r.toString(),height:o.toString(),top:c,left:d}),m=Wt().toLowerCase();n&&(h=qE(m)?wk:n),$E(m)&&(e=e||Ok,g.scrollbars="yes");const _=Object.entries(g).reduce((E,[w,T])=>`${E}${w}=${T},`,"");if(oI(m)&&h!=="_self")return Nk(e||"",h),new wb(null);const b=window.open(e||"",h,_);Oe(b,i,"popup-blocked");try{b.focus()}catch{}return new wb(b)}function Nk(i,e){const n=document.createElement("a");n.href=i,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rk="__/auth/handler",Ak="emulator/auth/handler",Dk=encodeURIComponent("fac");async function Ob(i,e,n,r,o,c){Oe(i.config.authDomain,i,"auth-domain-config-required"),Oe(i.config.apiKey,i,"invalid-api-key");const d={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:r,v:Qr,eventId:o};if(e instanceof eS){e.setDefaultLanguage(i.languageCode),d.providerId=e.providerId||"",Ah(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,b]of Object.entries({}))d[_]=b}if(e instanceof Uo){const _=e.getScopes().filter(b=>b!=="");_.length>0&&(d.scopes=_.join(","))}i.tenantId&&(d.tid=i.tenantId);const h=d;for(const _ of Object.keys(h))h[_]===void 0&&delete h[_];const g=await i._getAppCheckToken(),m=g?`#${Dk}=${encodeURIComponent(g)}`:"";return`${Ik(i)}?${Kr(h).slice(1)}${m}`}function Ik({config:i}){return i.emulator?lg(i,Ak):`https://${i.authDomain}/${Rk}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kf="webStorageSupport";class kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rS,this._completeRedirectFn=ik,this._overrideRedirectResult=ek}async _openPopup(e,n,r,o){var c;Ei((c=this.eventManagers[e._key()])===null||c===void 0?void 0:c.manager,"_initialize() not called before _openPopup()");const d=await Ob(e,n,r,Fh(),o);return xk(e,d,fg())}async _openRedirect(e,n,r,o){await this._originValidation(e);const c=await Ob(e,n,r,Fh(),o);return LI(c),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:c}=this.eventManagers[n];return o?Promise.resolve(o):(Ei(c,"If manager is not set, promise should be"),c)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await Ek(e),r=new rk(e);return n.register("authEvent",o=>(Oe(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Kf,{type:Kf},o=>{var c;const d=(c=o==null?void 0:o[0])===null||c===void 0?void 0:c[Kf];d!==void 0&&n(!!d),bi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=uk(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return QE()||GE()||ug()}}const jk=kk;var xb="@firebase/auth",Nb="1.10.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mk{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lk(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pk(i){Vr(new Us("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),c=e.getProvider("app-check-internal"),{apiKey:d,authDomain:h}=r.options;Oe(d&&!d.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:d,authDomain:h,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XE(i)},m=new hI(r,o,c,g);return _I(m,n),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new Us("auth-internal",e=>{const n=eu(e.getProvider("auth").getImmediate());return(r=>new Mk(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ns(xb,Nb,Lk(i)),ns(xb,Nb,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uk=5*60,zk=s0("authIdTokenMaxAge")||Uk;let Rb=null;const Hk=i=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>zk)return;const o=n==null?void 0:n.token;Rb!==o&&(Rb=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function Bk(i=u0()){const e=Np(i,"auth");if(e.isInitialized())return e.getImmediate();const n=yI(i,{popupRedirectResolver:jk,persistence:[qI,kI,rS]}),r=s0("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const c=new URL(r,location.origin);if(location.origin===c.origin){const d=Hk(c.toString());AI(n,d,()=>d(n.currentUser)),RI(n,h=>d(h))}}const o=n0("auth");return o&&bI(n,`http://${o}`),n}function Vk(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}pI({loadJS(i){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=o=>{const c=Yn("internal-error");c.customData=o,n(c)},r.type="text/javascript",r.charset="UTF-8",Vk().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pk("Browser");const $k={apiKey:"AIzaSyBIAM_tIBqFUYQl5r-f7e78lNPzc0fIDcM",authDomain:"big-orca.firebaseapp.com",projectId:"big-orca",storageBucket:"big-orca.firebasestorage.app",messagingSenderId:"338206440353",appId:"1:338206440353:web:a6af4374836968379d29e0",databaseURL:"https://big-orca-default-rtdb.firebaseio.com"},fS=c0($k),_e=zD(fS),Ab=Bk(fS);function Hr(){return Math.random().toString(36).substring(2,15)+Math.random().toString(36).substring(2,15)}const Db=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""];function Gk(i){const n={"":["grinning","face","smile","happy","joy"],"":["grinning","face","big","smile","happy","joy"],"":["grinning","face","smile","happy","joy","laugh"],"":["beaming","face","smile","happy","joy","laugh"],"":["grinning","squinting","face","smile","happy","joy","laugh"],"":["grinning","face","sweat","smile","happy","relief"],"":["rolling","floor","laughing","face","happy","joy","funny"],"":["face","tears","joy","laugh","happy","cry"],"":["slightly","smiling","face","smile","happy"],"":["upside","down","face","smile","silly"],"":["winking","face","smile","flirt"],"":["smiling","face","eyes","smile","happy","blush"],"":["smiling","face","halo","angel","innocent"],"":["smiling","face","hearts","love","adore"],"":["smiling","face","heart","eyes","love","crush"],"":["star","struck","face","eyes","amazing"],"":["face","blowing","kiss","love"],"":["kissing","face","love"],"":["kissing","face","closed","eyes","love"],"":["kissing","face","smiling","eyes","love"],"":["face","savoring","food","yum","delicious"],"":["face","tongue","silly"],"":["winking","face","tongue","silly"],"":["zany","face","silly","crazy"],"":["squinting","face","tongue","silly"],"":["money","mouth","face","rich","dollar"],"":["hugging","face","hug","love"],"":["face","hand","mouth","quiet","secret"],"":["shushing","face","quiet","secret"],"":["thinking","face","hmm","consider"],"":["zipper","mouth","face","quiet","secret"],"":["face","raised","eyebrow","skeptical"],"":["neutral","face","expressionless"],"":["expressionless","face","blank"],"":["face","without","mouth","quiet"],"":["smirking","face","smug"],"":["unamused","face","unhappy"],"":["face","rolling","eyes","annoyed"],"":["grimacing","face","awkward"],"":["lying","face","pinocchio"],"":["pensive","face","sad","sorry"],"":["confused","face","worried"],"":["slightly","frowning","face","sad"],"":["frowning","face","sad"],"":["persevering","face","struggle"],"":["confounded","face","frustrated"],"":["tired","face","exhausted"],"":["weary","face","tired"],"":["pleading","face","puppy","eyes"],"":["crying","face","tear","sad"],"":["loudly","crying","face","sad","sob"],"":["face","steam","nose","angry"],"":["angry","face","mad"],"":["pouting","face","angry","mad"],"":["face","symbols","mouth","swearing"],"":["exploding","head","mind","blown"],"":["flushed","face","embarrassed"],"":["hot","face","heat","sweat"],"":["cold","face","freezing"],"":["face","screaming","fear","shocked"],"":["fearful","face","scared"],"":["anxious","face","sweat","worried"],"":["sad","relieved","face"],"":["downcast","face","sweat","sad"],"":["sleeping","face","sleep","tired"],"":["sleepy","face","tired"],"":["dizzy","face","confused"],"":["woozy","face","dizzy"],"":["nauseated","face","sick"],"":["face","vomiting","sick"],"":["sneezing","face","sick"],"":["face","medical","mask","sick"],"":["face","thermometer","sick"],"":["face","head","bandage","hurt"],"":["red","heart","love"],"":["orange","heart","love"],"":["yellow","heart","love"],"":["green","heart","love"],"":["blue","heart","love"],"":["purple","heart","love"],"":["black","heart","love"],"":["white","heart","love"],"":["brown","heart","love"],"":["broken","heart","sad","breakup"],"":["heavy","heart","exclamation","love"],"":["two","hearts","love"],"":["revolving","hearts","love"],"":["beating","heart","love"],"":["growing","heart","love"],"":["sparkling","heart","love"],"":["heart","arrow","love","cupid"],"":["heart","ribbon","gift","love"],"":["heart","decoration","love"],"":["thumbs","up","good","yes","like"],"":["thumbs","down","bad","no","dislike"],"":["ok","hand","good","perfect"],"":["victory","hand","peace"],"":["crossed","fingers","luck","hope"],"":["love","you","gesture"],"":["sign","horns","rock"],"":["call","me","hand"],"":["backhand","index","pointing","left"],"":["backhand","index","pointing","right"],"":["backhand","index","pointing","up"],"":["backhand","index","pointing","down"],"":["index","pointing","up"],"":["raised","hand","stop"],"":["raised","back","hand"],"":["hand","fingers","splayed"],"":["vulcan","salute","spock"],"":["waving","hand","hello","goodbye"],"":["handshake","deal","agreement"],"":["clapping","hands","applause","good"],"":["raising","hands","celebration","praise"],"":["open","hands","hug"],"":["palms","up","together"],"":["folded","hands","prayer","please","thanks"],"":["fire","hot","burn","lit"],"":["hundred","points","perfect","score"],"":["flexed","biceps","strong","muscle"],"":["eyes","looking","watching"],"":["brain","smart","think"],"":["light","bulb","idea","bright"],"":["lightning","bolt","fast","power"],"":["sparkles","stars","magic","clean"],"":["star","favorite","good"],"":["trophy","award","winner","champion"],"":["party","popper","celebration","confetti"],"":["rocket","space","fast","launch"],"":["rainbow","colorful","weather"],"":["check","mark","button","done","complete"],"":["cross","mark","x","wrong","no"],"":["exclamation","mark","warning","important"],"":["question","mark","confused","what"],"":["warning","sign","caution","alert"],"":["money","bag","dollar","rich"],"":["gem","stone","diamond","precious"],"":["target","goal","aim","bullseye"],"":["circus","tent","entertainment"],"":["dog","face","pet","puppy"],"":["cat","face","pet","kitten"],"":["mouse","face","rodent"],"":["hamster","face","pet"],"":["rabbit","face","bunny"],"":["fox","face"],"":["bear","face"],"":["panda","face"],"":["koala","face"],"":["tiger","face"],"":["lion","face"],"":["frog","face"],"":["monkey","face"],"":["apple","fruit","red"],"":["banana","fruit","yellow"],"":["grapes","fruit","purple"],"":["strawberry","fruit","red"],"":["orange","fruit"],"":["pizza","food","slice"],"":["hamburger","burger","food"],"":["french","fries","food"],"":["hot","dog","food"],"":["poultry","leg","chicken","food"],"":["meat","bone","food"],"":["cooking","egg","food"],"":["bread","food"],"":["cheese","wedge","food"],"":["green","salad","food"],"":["spaghetti","pasta","food"],"":["steaming","bowl","food","soup"],"":["pot","food","stew"],"":["shortcake","cake","dessert"],"":["birthday","cake","celebration"],"":["custard","dessert"],"":["lollipop","candy","sweet"],"":["candy","sweet"],"":["chocolate","bar","sweet"],"":["coffee","drink","hot"],"":["tea","drink","hot"],"":["cup","straw","drink"],"":["beer","mug","drink","alcohol"],"":["clinking","beer","mugs","cheers"],"":["wine","glass","drink","alcohol"],"":["sun","sunny","weather","bright"],"":["sun","behind","small","cloud","weather"],"":["sun","behind","cloud","weather"],"":["cloud","weather"],"":["cloud","rain","weather"],"":["cloud","lightning","rain","weather"],"":["cloud","lightning","weather"],"":["snowflake","snow","cold","winter"],"":["snowman","snow","winter"],"":["snowman","without","snow"],"":["water","wave","ocean","sea"],"":["droplet","water","sweat"],"":["cherry","blossom","flower","spring"],"":["hibiscus","flower"],"":["sunflower","flower","yellow"],"":["rose","flower","red"],"":["tulip","flower"],"":["herb","leaf","green"],"":["four","leaf","clover","luck"],"":["deciduous","tree","nature"],"":["evergreen","tree","nature"],"":["cactus","desert","plant"],"":["automobile","car","vehicle"],"":["sport","utility","vehicle","suv"],"":["bus","vehicle"],"":["trolleybus","vehicle"],"":["racing","car","vehicle","fast"],"":["police","car","vehicle"],"":["ambulance","vehicle","emergency"],"":["fire","engine","vehicle"],"":["minibus","vehicle"],"":["delivery","truck","vehicle"],"":["articulated","lorry","truck"],"":["tractor","vehicle","farm"],"":["motorcycle","vehicle"],"":["motor","scooter","vehicle"],"":["bicycle","bike","vehicle"],"":["kick","scooter","vehicle"],"":["airplane","plane","travel"],"":["helicopter","vehicle"],"":["locomotive","train","vehicle"],"":["railway","car","train"],"":["high","speed","train"],"":["bullet","train","fast"],"":["train","vehicle"],"":["metro","subway","train"],"":["light","rail","train"],"":["station","train"],"":["tram","vehicle"],"":["monorail","vehicle"],"":["mountain","railway","train"],"":["suspension","railway"],"":["mountain","cableway"],"":["aerial","tramway"],"":["passenger","ship","boat"],"":["sailboat","boat","sail"],"":["speedboat","boat","fast"],"":["motor","boat"],"":["ship","boat","large"],"":["soccer","ball","football","sport"],"":["basketball","ball","sport"],"":["american","football","ball","sport"],"":["baseball","ball","sport"],"":["softball","ball","sport"],"":["tennis","ball","sport"],"":["volleyball","ball","sport"],"":["rugby","football","ball","sport"],"":["flying","disc","frisbee","sport"],"":["pool","8","ball","billiards"],"":["ping","pong","table","tennis"],"":["badminton","sport"],"":["goal","net","sport"],"":["flag","hole","golf"],"":["golfer","golf","sport"],"":["surfer","surfing","sport"],"":["swimmer","swimming","sport"],"":["water","polo","sport"],"":["rowing","boat","sport"],"":["climbing","sport"],"":["biking","cycling","sport"],"":["mountain","biking","sport"],"":["cartwheeling","gymnastics","sport"],"":["wrestling","sport"],"":["handball","sport"],"":["horse","racing","sport"],"":["skier","skiing","sport"],"":["snowboarder","snowboarding","sport"],"":["weight","lifter","gym","sport"],"":["fencing","sport"],"":["boxing","glove","sport"],"":["martial","arts","uniform","sport"],"":["video","game","controller","gaming"],"":["game","die","dice"],"":["guitar","music","instrument"],"":["musical","keyboard","piano"],"":["drum","music","instrument"],"":["microphone","sing","music"],"":["headphone","music","listen"],"":["musical","note","music"],"":["musical","notes","music"],"":["musical","score","music"],"":["christmas","tree","xmas","holiday","festive","pine","evergreen"],"":["santa","claus","christmas","xmas","holiday","festive","father"],"":["mrs","claus","christmas","xmas","holiday","festive","mother"],"":["gift","present","wrapped","christmas","xmas","holiday","birthday"],"":["bell","christmas","xmas","holiday","jingle","ring"],"":["cookie","christmas","xmas","gingerbread","dessert","sweet","biscuit"],"":["ribbon","bow","christmas","xmas","gift","present","decoration"],"":["deer","reindeer","christmas","xmas","rudolph","holiday","animal"],"":["sled","sleigh","christmas","xmas","winter","snow","holiday"],"":["candle","light","christmas","xmas","holiday","festive","flame"],"":["salute","saluting","face","respect","yes","sir","military","honor"],"":["melting","face","hot","disappear","embarrassed","sarcasm"],"":["face","open","eyes","hand","over","mouth","surprised","oops","gasp"],"":["face","peeking","eye","shy","nervous","scared","hiding"],"":["face","diagonal","mouth","skeptical","unsure","meh","disappointed"],"":["dotted","line","face","invisible","hidden","disappear","empty"],"":["heart","hands","love","gesture","appreciate","support","care"]}[i]||[];n.push(i);try{const r=i.codePointAt(0);r&&(r>=128512&&r<=128591?n.push("face","emotion","smiley"):r>=127744&&r<=128511?n.push("symbol","misc","object"):r>=128640&&r<=128767?n.push("transport","vehicle","map"):r>=129280&&r<=129535&&n.push("supplemental","modern"))}catch{}return n}function nc(i){if(typeof i!="string")return;const e=i.trim().toLowerCase();if(["true","1","yes","on"].includes(e))return!0;if(["false","0","no","off"].includes(e))return!1}function Ib(i){try{const e=typeof i=="string"?i:"",n=new URLSearchParams(e.startsWith("?")?e:`?${e}`),r={},o=nc(n.get("voting"));o!==void 0&&(r.votingEnabled=o);const c=nc(n.get("downvotes"));c!==void 0&&(r.downvotingEnabled=c);const d=nc(n.get("multivote"));d!==void 0&&(r.multipleVotesAllowed=d);const h=n.get("votes");if(h!=null&&h!==""){const E=parseInt(h,10);!Number.isNaN(E)&&E>0&&E<1e3&&(r.votesPerUser=E)}const g=nc(n.get("retro"));g!==void 0&&(r.retrospectiveMode=g);const m=n.get("sort");if(typeof m=="string"){const E=m.trim().toLowerCase();E==="votes"&&(r.sortByVotes=!0),(E==="chrono"||E==="chronological"||E==="time")&&(r.sortByVotes=!1)}const _={},b=n.get("theme");if(typeof b=="string"){const E=b.trim().toLowerCase();E==="dark"&&(_.darkMode=!0),E==="light"&&(_.darkMode=!1)}return{boardSettings:r,uiPrefs:_}}catch{return{boardSettings:{},uiPrefs:{}}}}const Qf=/https?:\/\/(?:www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b(?:[-a-zA-Z0-9()@:%_+.~#?&=/]*)/;function hS(i){if(!i||typeof i!="string"||!Qf.test(i))return i;const e=new RegExp(`(${Qf.source})`,"g");return i.split(e).filter(o=>o!=="").map((o,c)=>Qf.test(o)?Q.createElement("a",{key:c,href:o,target:"_blank",rel:"noopener noreferrer",className:"auto-link"},o):o)}const ae={HEALTH_CHECK:"HEALTH_CHECK",HEALTH_CHECK_RESULTS:"HEALTH_CHECK_RESULTS",CREATION:"CREATION",GROUPING:"GROUPING",INTERACTIONS:"INTERACTIONS",INTERACTION_REVEAL:"INTERACTION_REVEAL",RESULTS:"RESULTS",POLL:"POLL",POLL_RESULTS:"POLL_RESULTS"},po=(i,e=!1)=>e?i===ae.GROUPING:!1,as=(i,e=!1)=>e?i===ae.INTERACTIONS:!0,mi=(i,e=!1)=>e?i===ae.INTERACTIONS||i===ae.INTERACTION_REVEAL||i===ae.RESULTS:!0,pS=(i,e=!1)=>e?i===ae.INTERACTION_REVEAL||i===ae.RESULTS:!0,qk=(i,e=!1)=>e?i===ae.CREATION:!1,Yk=(i,e=!1)=>e?i===ae.GROUPING||i===ae.INTERACTIONS||i===ae.INTERACTION_REVEAL||i===ae.RESULTS:!0,kn=(i,e=!1)=>e?i===ae.INTERACTION_REVEAL||i===ae.RESULTS:!1,gS=(i,e=!1)=>e?i===ae.CREATION||i===ae.GROUPING:!0,Xf=(i,e=!1)=>e?i===ae.CREATION:!0,Fk=(i,e=!1)=>e?i===ae.GROUPING:!0,Ms="Untitled Board",mS=A.createContext(),$t=()=>{const i=A.useContext(mS);if(!i)throw new Error("useBoardContext must be used within a BoardProvider");return i},Wk=({children:i})=>{const[e,n]=A.useState(null),[r,o]=A.useState(null),[c,d]=A.useState(Ms),[h,g]=A.useState({}),[m,_]=A.useState(!1),[b,E]=A.useState(!0),[w,T]=A.useState(!0),[P,N]=A.useState(!1),[H,z]=A.useState(3),[X,Z]=A.useState(!1),[W,re]=A.useState(ae.CREATION),[ce,se]=A.useState(0),[ue,xe]=A.useState({}),[Ee,pe]=A.useState(null),[Ne,Ke]=A.useState({}),[Be,L]=A.useState({}),[ie,fe]=A.useState(null),[Ce,C]=A.useState(!0),[G,B]=A.useState(0),[F,ee]=A.useState({});A.useEffect(()=>{const R=Ab.onAuthStateChanged(V=>{if(V){console.log("User authenticated:",V.uid),n(V);const U=ye(_e,`users/${V.uid}/preferences`);AD(U).then(te=>{if(te.exists()){const he=te.val();he.darkMode!==void 0&&C(he.darkMode)}}).catch(te=>{console.error("Error loading user preferences:",te)})}else console.log("No user, signing in anonymously"),wI(Ab).catch(U=>{console.error("Error signing in:",U)})});return()=>R()},[]),A.useEffect(()=>{Ce?document.documentElement.classList.remove("light-mode"):document.documentElement.classList.add("light-mode")},[Ce]),A.useEffect(()=>{if(r&&e){const R=ye(_e,`boards/${r}`);return fe(R),Yf(R,V=>{const U=V.val();if(U)if(U.title&&d(U.title),g(U.columns||{}),U.settings&&(U.settings.votingEnabled!==void 0&&E(U.settings.votingEnabled),U.settings.downvotingEnabled!==void 0&&T(U.settings.downvotingEnabled),U.settings.multipleVotesAllowed!==void 0&&N(U.settings.multipleVotesAllowed),U.settings.votesPerUser!==void 0&&z(U.settings.votesPerUser),U.settings.sortByVotes!==void 0&&_(U.settings.sortByVotes),U.settings.retrospectiveMode!==void 0&&Z(U.settings.retrospectiveMode),U.settings.workflowPhase!==void 0&&re(U.settings.workflowPhase),U.settings.resultsViewIndex!==void 0&&se(U.settings.resultsViewIndex)),U.poll?(xe(U.poll.votes||{}),e&&U.poll.votes&&U.poll.votes[e.uid]?pe(U.poll.votes[e.uid]):pe(null)):(xe({}),pe(null)),U.healthCheck)if(Ke(U.healthCheck.votes||{}),e){const te={};Object.entries(U.healthCheck.votes||{}).forEach(([he,Re])=>{Re[e.uid]!==void 0&&(te[he]=Re[e.uid])}),L(te)}else L({});else Ke({}),L({})}),()=>{Ff(R)}}},[r,e]),A.useEffect(()=>{if(r&&e){const R=ye(_e,`boards/${r}/presence/${e.uid}`),V=ye(_e,`boards/${r}/presence`);Ae(R,{lastSeen:Date.now(),uid:e.uid});const U=he=>{if(he.exists()){const Re=he.val(),Pe=Date.now(),at=3e4,vt=Object.values(Re).filter(yt=>yt.lastSeen&&Pe-yt.lastSeen<at).length;B(vt)}else B(0)};Yf(V,U);const te=setInterval(()=>{Ae(R,{lastSeen:Date.now(),uid:e.uid})},1e4);return()=>{if(Ff(V,U),clearInterval(te),Dt(R),e!=null&&e.uid){const he=ye(_e,`boards/${r}/cardCreationActivity/${e.uid}`);Dt(he)}}}},[r,e]),A.useEffect(()=>{if(r&&e){const R=ye(_e,`boards/${r}/cardCreationActivity`),V=U=>{if(U.exists()){const te=U.val();ee(te)}else ee({})};return Yf(R,V),()=>{Ff(R,V)}}},[r,e]),A.useEffect(()=>{if(r&&e){const R=()=>{const V=ye(_e,`boards/${r}/cardCreationActivity/${e.uid}`);Dt(V)};return window.addEventListener("beforeunload",R),()=>{window.removeEventListener("beforeunload",R)}}},[r,e]);const ve=(R=null,V=Ms,U=null)=>{if(!e)return null;const te=Hr(),he=ye(_e,`boards/${te}`),Re=R||["To Do","In Progress","Done"],Pe={},at="abcdefghijklmnopqrstuvwxyz";Re.forEach((ct,wt)=>{const Ot=wt<26?at[wt]:`col${wt}`;Pe[`${Ot}_${Hr()}`]={title:ct,cards:{}}});const vt=["votingEnabled","downvotingEnabled","multipleVotesAllowed","votesPerUser","retrospectiveMode","sortByVotes"],yt={};U&&typeof U=="object"&&vt.forEach(ct=>{U[ct]!==void 0&&(yt[ct]=U[ct])});const jt={title:V,created:Date.now(),owner:e.uid,columns:Pe,settings:{votingEnabled:!0,downvotingEnabled:!0,multipleVotesAllowed:!1,sortByVotes:!1,retrospectiveMode:!1,workflowPhase:ae.CREATION,resultsViewIndex:0,...yt}};return Ae(he,jt).then(()=>{console.log("New board created with ID:",te),o(te),d(Ms)}).catch(ct=>{console.error("Error creating board:",ct)}),te},le=R=>{console.log("Opening board with ID:",R),o(R)},J=R=>{if(d(R),r&&e){const V=ye(_e,`boards/${r}/title`);Ae(V,R).then(()=>{console.log("Board title updated")}).catch(U=>{console.error("Error updating board title:",U)})}},k=R=>{if(r&&e){const V=ye(_e,`boards/${r}/settings`),U={votingEnabled:b,downvotingEnabled:w,multipleVotesAllowed:P,votesPerUser:H,sortByVotes:m,retrospectiveMode:X,workflowPhase:W,resultsViewIndex:ce,...R};Ae(V,U).then(()=>{console.log("Board settings updated:",U),R.votingEnabled!==void 0&&E(R.votingEnabled),R.downvotingEnabled!==void 0&&T(R.downvotingEnabled),R.multipleVotesAllowed!==void 0&&N(R.multipleVotesAllowed),R.votesPerUser!==void 0&&z(R.votesPerUser),R.sortByVotes!==void 0&&_(R.sortByVotes),R.retrospectiveMode!==void 0&&Z(R.retrospectiveMode),R.workflowPhase!==void 0&&re(R.workflowPhase),R.resultsViewIndex!==void 0&&se(R.resultsViewIndex)}).catch(te=>{console.error("Error updating board settings:",te)})}else R.votingEnabled!==void 0&&E(R.votingEnabled),R.downvotingEnabled!==void 0&&T(R.downvotingEnabled),R.multipleVotesAllowed!==void 0&&N(R.multipleVotesAllowed),R.votesPerUser!==void 0&&z(R.votesPerUser),R.sortByVotes!==void 0&&_(R.sortByVotes),R.retrospectiveMode!==void 0&&Z(R.retrospectiveMode),R.workflowPhase!==void 0&&re(R.workflowPhase),R.resultsViewIndex!==void 0&&se(R.resultsViewIndex)},oe=R=>{k({votingEnabled:R})},me=R=>{k({downvotingEnabled:R})},Ge=R=>{k({multipleVotesAllowed:R})},Ve=R=>{k({votesPerUser:R})},fn=R=>{k({sortByVotes:R})},Ut=R=>{k(R?{retrospectiveMode:R,workflowPhase:ae.HEALTH_CHECK}:{retrospectiveMode:R,workflowPhase:ae.CREATION,resultsViewIndex:0})},Un=()=>{k({workflowPhase:ae.GROUPING,retrospectiveMode:!0})},ta=()=>{k({workflowPhase:ae.INTERACTIONS})},Kt=()=>{k({workflowPhase:ae.INTERACTION_REVEAL})},na=()=>{k({workflowPhase:ae.RESULTS,resultsViewIndex:0})},qs=()=>{k({workflowPhase:ae.POLL})},Ys=()=>{k({workflowPhase:ae.POLL_RESULTS})},Ci=()=>{k({workflowPhase:ae.CREATION,retrospectiveMode:!1,resultsViewIndex:0})},$e=R=>{if(!r||!e||R<1||R>5)return;const V=ye(_e,`boards/${r}/poll/votes/${e.uid}`);Ae(V,R).then(()=>{pe(R)}).catch(U=>{console.error("Error submitting poll vote:",U)})},xn=()=>{const R=Object.values(ue);if(R.length===0)return{average:0,distribution:[0,0,0,0,0],totalVotes:0};const V=[0,0,0,0,0];let U=0;return R.forEach(he=>{he>=1&&he<=5&&(V[he-1]++,U+=he)}),{average:U/R.length,distribution:V,totalVotes:R.length}},ia=[{id:"teamwork",label:"Teamwork",description:"How well is the team collaborating?"},{id:"process",label:"Process",description:"How effective are our processes?"},{id:"delivery",label:"Delivery",description:"How confident are we in delivering on time?"},{id:"fun",label:"Fun",description:"How much fun are we having at work?"},{id:"learning",label:"Learning",description:"How much are we learning and improving?"},{id:"support",label:"Support",description:"How supported do you feel by the team?"},{id:"mission",label:"Mission",description:"How clear and meaningful is our mission?"},{id:"speed",label:"Speed",description:"How satisfied are you with our pace of work?"}],iu=(R,V)=>{if(!r||!e||V<1||V>5)return;const U=ye(_e,`boards/${r}/healthCheck/votes/${R}/${e.uid}`);Ae(U,V).then(()=>{L(te=>({...te,[R]:V}))}).catch(te=>{console.error("Error submitting health check vote:",te)})},fs=()=>ia.map(R=>{const V=Ne[R.id]||{},U=Object.values(V);if(U.length===0)return{...R,average:0,distribution:[0,0,0,0,0],totalVotes:0};const te=[0,0,0,0,0];let he=0;U.forEach(Pe=>{Pe>=1&&Pe<=5&&(te[Pe-1]++,he+=Pe)});const Re=he/U.length;return{...R,average:Re,distribution:te,totalVotes:U.length}}),Gt=()=>{k({workflowPhase:ae.HEALTH_CHECK})},zn=()=>{k({workflowPhase:ae.HEALTH_CHECK_RESULTS})},zt=()=>{if(!r||!e)return Promise.resolve();const R=[];return Object.entries(h).forEach(([V,U])=>{U.groups&&Object.entries(U.groups).forEach(([te,he])=>{he.cardIds&&he.cardIds.forEach(Pe=>{const at=ye(_e,`boards/${r}/columns/${V}/cards/${Pe}/groupId`);R.push(Dt(at))});const Re=ye(_e,`boards/${r}/columns/${V}/groups/${te}`);R.push(Dt(Re))})}),Promise.all(R).then(()=>{console.log("All grouping removed from board")}).catch(V=>{throw console.error("Error removing all grouping:",V),V})},su=()=>{switch(W){case ae.CREATION:k({workflowPhase:ae.HEALTH_CHECK});break;case ae.GROUPING:{if(Object.values(h).some(V=>V.groups&&Object.keys(V.groups).length>0)){if(!window.confirm("Going back to the creation phase will remove all card grouping. This cannot be undone. Are you sure you want to continue?"))return;zt().then(()=>{k({workflowPhase:ae.CREATION})}).catch(U=>{console.error("Failed to remove grouping:",U)})}else k({workflowPhase:ae.CREATION});break}case ae.INTERACTIONS:k({workflowPhase:ae.GROUPING});break;case ae.INTERACTION_REVEAL:k({workflowPhase:ae.INTERACTIONS});break;case ae.RESULTS:k({workflowPhase:ae.INTERACTION_REVEAL});break;case ae.POLL:k({workflowPhase:ae.RESULTS});break;case ae.POLL_RESULTS:k({workflowPhase:ae.POLL});break}},ru=R=>{if(W!==ae.RESULTS)return;const U=Ho().length-1;let te=ce;R==="next"&&ce<U?te=ce+1:R==="prev"&&ce>0&&(te=ce-1),k({resultsViewIndex:te})},Ho=()=>{const R=[];return Object.keys(h).forEach(V=>{const U=h[V];Object.keys(U.cards||{}).forEach(te=>{const he=U.cards[te];he.groupId||R.push({type:"card",id:te,columnId:V,data:he,votes:he.votes||0})}),Object.keys(U.groups||{}).forEach(te=>{const he=U.groups[te];R.push({type:"group",id:te,columnId:V,data:he,votes:he.votes||0})})}),R.sort((V,U)=>U.votes-V.votes)},Fs=()=>!r||!e||!window.confirm("Are you sure you want to reset all votes to zero? This cannot be undone.")?!1:(Object.entries(h).forEach(([V,U])=>{U.cards&&Object.entries(U.cards).forEach(([te,he])=>{const Re=ye(_e,`boards/${r}/columns/${V}/cards/${te}`),Pe={...he,votes:0,voters:{}};Ae(Re,Pe).catch(at=>{console.error(`Error resetting votes for card ${te}:`,at)})}),U.groups&&Object.entries(U.groups).forEach(([te,he])=>{const Re=ye(_e,`boards/${r}/columns/${V}/groups/${te}`),Pe={...he,votes:0,voters:{}};Ae(Re,Pe).catch(at=>{console.error(`Error resetting votes for group ${te}:`,at)})})}),!0),hs=()=>{let R=0;return Object.values(h).forEach(V=>{V.cards&&Object.values(V.cards).forEach(U=>{R+=U.votes||0}),V.groups&&Object.values(V.groups).forEach(U=>{R+=U.votes||0})}),R},Hn=R=>{if(!R)return 0;let V=0;return Object.values(h).forEach(U=>{U.cards&&Object.values(U.cards).forEach(te=>{te.voters&&te.voters[R]&&(V+=Math.abs(te.voters[R]))}),U.groups&&Object.values(U.groups).forEach(te=>{te.voters&&te.voters[R]&&(V+=Math.abs(te.voters[R]))})}),V},du={user:e,boardId:r,setBoardId:o,boardTitle:c,setBoardTitle:d,columns:h,updateBoardTitle:J,sortByVotes:m,setSortByVotes:fn,votingEnabled:b,setVotingEnabled:E,updateVotingEnabled:oe,downvotingEnabled:w,setDownvotingEnabled:T,updateDownvotingEnabled:me,multipleVotesAllowed:P,setMultipleVotesAllowed:N,updateMultipleVotesAllowed:Ge,votesPerUser:H,setVotesPerUser:z,updateVotesPerUser:Ve,retrospectiveMode:X,setRetrospectiveMode:Z,updateRetrospectiveMode:Ut,updateBoardSettings:k,boardRef:ie,createNewBoard:ve,openExistingBoard:le,moveCard:(R,V,U,te=null)=>{var Pe,at,vt,yt,jt,ct,wt,Ot,dt,ra;if(!r||!e)return;const he=(at=(Pe=h[V])==null?void 0:Pe.cards)==null?void 0:at[R];if(!he){console.error("Card not found");return}const Re=[];if(V===U){const hn=he.groupId;if(hn===te)return;const pn=ye(_e,`boards/${r}/columns/${V}/cards/${R}/groupId`);if(te){Re.push(Ae(pn,te));const qt=(yt=(vt=h[U])==null?void 0:vt.groups)==null?void 0:yt[te];if(qt){const Qn=qt.cardIds||[];if(!Qn.includes(R)){const Ti=[...Qn,R],sn=ye(_e,`boards/${r}/columns/${U}/groups/${te}/cardIds`);Re.push(Ae(sn,Ti))}}}else Re.push(Dt(pn));if(hn){const qt=(ct=(jt=h[V])==null?void 0:jt.groups)==null?void 0:ct[hn];if(qt&&qt.cardIds&&qt.cardIds.includes(R)){const Qn=qt.cardIds.filter(sn=>sn!==R),Ti=ye(_e,`boards/${r}/columns/${V}/groups/${hn}/cardIds`);Re.push(Ae(Ti,Qn))}}}else{const hn=ye(_e,`boards/${r}/columns/${V}/cards/${R}`),pn=ye(_e,`boards/${r}/columns/${U}/cards/${R}`),{groupId:qt,...Qn}=he,Ti=te?{...Qn,groupId:te}:Qn;if(Re.push(Dt(hn)),Re.push(Ae(pn,Ti)),te){const sn=(Ot=(wt=h[U])==null?void 0:wt.groups)==null?void 0:Ot[te];if(sn){const Qs=sn.cardIds||[];if(!Qs.includes(R)){const wi=[...Qs,R],Oi=ye(_e,`boards/${r}/columns/${U}/groups/${te}/cardIds`);Re.push(Ae(Oi,wi))}}}if(he.groupId){const sn=(ra=(dt=h[V])==null?void 0:dt.groups)==null?void 0:ra[he.groupId];if(sn&&sn.cardIds){const Qs=sn.cardIds.filter(Oi=>Oi!==R),wi=ye(_e,`boards/${r}/columns/${V}/groups/${he.groupId}/cardIds`);Re.push(Ae(wi,Qs))}}}return Promise.all(Re).then(()=>{console.log(`Card ${R} moved from ${V} to ${U}${te?` (group ${te})`:""}`)}).catch(hn=>{throw console.error("Error moving card:",hn),hn})},resetAllVotes:Fs,getTotalVotes:hs,getUserVoteCount:Hn,getTotalVotesRemaining:()=>{if(!G||G===0)return 0;const R=G*H,V=hs();return Math.max(0,R-V)},darkMode:Ce,updateDarkMode:R=>{if(e){const V=ye(_e,`users/${e.uid}/preferences`);Ae(V,{darkMode:R}).then(()=>{console.log("Dark mode preference updated:",R),C(R)}).catch(U=>{console.error("Error updating dark mode preference:",U)})}else C(R)},activeUsers:G,workflowPhase:W,setWorkflowPhase:re,resultsViewIndex:ce,setResultsViewIndex:se,startGroupingPhase:Un,startInteractionsPhase:ta,startInteractionRevealPhase:Kt,startResultsPhase:na,startPollPhase:qs,startPollResultsPhase:Ys,goToCreationPhase:Ci,goToPreviousPhase:su,navigateResults:ru,getSortedItemsForResults:Ho,pollVotes:ue,userPollVote:Ee,submitPollVote:$e,getPollStats:xn,healthCheckVotes:Ne,userHealthCheckVotes:Be,submitHealthCheckVote:iu,getHealthCheckStats:fs,startHealthCheckPhase:Gt,startHealthCheckResultsPhase:zn,HEALTH_CHECK_QUESTIONS:ia,createCardGroup:(R,V,U="New Group",te=null)=>{if(!r||!e||!V.length)return;const he=Hr(),Re=ye(_e,`boards/${r}/columns/${R}/groups/${he}`),Pe=te||Date.now(),at={name:U,created:Pe,expanded:!0,votes:0,voters:{},cardIds:V},vt=V.map(yt=>{const jt=ye(_e,`boards/${r}/columns/${R}/cards/${yt}/groupId`);return Ae(jt,he)});Promise.all([Ae(Re,at),...vt]).then(()=>{console.log(`Group ${he} created with ${V.length} cards`)}).catch(yt=>{console.error("Error creating group:",yt)})},ungroupCards:(R,V)=>{var Re,Pe;if(!r||!e)return;const U=(Pe=(Re=h[R])==null?void 0:Re.groups)==null?void 0:Pe[V];if(!U||!U.cardIds)return;const te=[];U.cardIds.forEach(at=>{const vt=ye(_e,`boards/${r}/columns/${R}/cards/${at}/groupId`);te.push(Dt(vt))});const he=ye(_e,`boards/${r}/columns/${R}/groups/${V}`);Promise.all([...te,Dt(he)]).then(()=>{console.log(`Group ${V} ungrouped`)}).catch(at=>{console.error("Error ungrouping cards:",at)})},removeAllGrouping:zt,updateGroupName:(R,V,U)=>{if(!r||!e)return;const te=ye(_e,`boards/${r}/columns/${R}/groups/${V}/name`);Ae(te,U).then(()=>{console.log("Group name updated")}).catch(he=>{console.error("Error updating group name:",he)})},toggleGroupExpanded:(R,V,U)=>{if(!r||!e)return;const te=ye(_e,`boards/${r}/columns/${R}/groups/${V}/expanded`);Ae(te,U).catch(he=>{console.error("Error updating group expanded state:",he)})},upvoteGroup:(R,V,U=0,te)=>{var ct,wt;if(!r||!e)return;const he=(wt=(ct=h[R])==null?void 0:ct.groups)==null?void 0:wt[V];if(!he)return;const Re=he.voters||{},Pe=e.uid;if(X){const Ot=Hn(Pe);if(P){if(Ot>=H){te(`You've reached your vote limit (${H} votes)`);return}}else if((Re[Pe]||0)===0&&Ot>=H){te(`You've reached your vote limit (${H} votes)`);return}}if(!P&&Re[Pe]&&Re[Pe]>0){te("You have already voted on this group");return}const at=U+1,vt={...Re,[Pe]:(Re[Pe]||0)+1},yt=ye(_e,`boards/${r}/columns/${R}/groups/${V}/votes`),jt=ye(_e,`boards/${r}/columns/${R}/groups/${V}/voters`);Promise.all([Ae(yt,at),Ae(jt,vt)]).then(()=>{te("Upvoted group")}).catch(Ot=>{console.error("Error updating group votes:",Ot)})},downvoteGroup:(R,V,U=0,te)=>{var ct,wt;if(!r||!e)return;const he=(wt=(ct=h[R])==null?void 0:ct.groups)==null?void 0:wt[V];if(!he)return;const Re=he.voters||{},Pe=e.uid;if(!P&&Re[Pe]&&Re[Pe]<0){te("You have already voted on this group");return}const at=U-1,vt={...Re,[Pe]:(Re[Pe]||0)-1},yt=ye(_e,`boards/${r}/columns/${R}/groups/${V}/votes`),jt=ye(_e,`boards/${r}/columns/${R}/groups/${V}/voters`);Promise.all([Ae(yt,at),Ae(jt,vt)]).then(()=>{te("Downvoted group")}).catch(Ot=>{console.error("Error updating group votes:",Ot)})},usersAddingCards:F,startCardCreation:R=>{if(!r||!e)return;const V=ye(_e,`boards/${r}/cardCreationActivity/${e.uid}`);Ae(V,{columnId:R,lastUpdated:Date.now(),uid:e.uid}).catch(U=>{console.error("Error starting card creation tracking:",U)})},stopCardCreation:()=>{if(!r||!e)return;const R=ye(_e,`boards/${r}/cardCreationActivity/${e.uid}`);Dt(R).catch(V=>{console.error("Error stopping card creation tracking:",V)})},getUsersAddingCardsInColumn:R=>Object.entries(F).filter(([V,U])=>U.columnId===R).map(([V,U])=>({userId:V,...U})),getAllUsersAddingCards:()=>Object.entries(F).map(([R,V])=>({userId:R,...V}))};return p.jsx(mS.Provider,{value:du,children:i})};function Kk(i,e="New Column"){if(!i)return Promise.reject(new Error("Board ID is required"));const n=Hr(),r={title:e,cards:{}},o=ye(_e,`boards/${i}/columns/${n}`);return Ae(o,r)}function Qk(i,e,n,r=null){if(!i)return Promise.reject(new Error("Board ID is required"));if(!e)return Promise.reject(new Error("Column ID is required"));if(!n||!n.trim())return Promise.reject(new Error("Card content is required"));const o=Hr(),c={content:n.trim(),votes:0,created:Date.now(),createdBy:r?r.uid:null},d=ye(_e,`boards/${i}/columns/${e}/cards/${o}`);return Ae(d,c).then(()=>o)}const Xk=({usersAddingCards:i,currentUserId:e})=>{const n=(i==null?void 0:i.filter(c=>c.userId!==e))||[];if(!n||n.length===0)return null;const r=n.length,o=r===1?"Someone is adding a card":`${r} people are adding cards`;return p.jsxs("div",{className:"card-creation-indicator",children:[p.jsx("span",{className:"typing-text",children:o}),p.jsxs("div",{className:"typing-dots",children:[p.jsx("span",{}),p.jsx("span",{}),p.jsx("span",{})]})]})},vS=(i,e)=>{const n=Yk(e,i),r=kn(e,i);return i&&!n||r},Zk=(i,e)=>vS(i,e)?kn(e,i)?"frozen":"cards-not-revealed":null,yS=(i,e)=>i&&e!=="frozen",Qh=i=>i==="frozen",_S=i=>{switch(i){case"frozen":return"Interactions are now frozen - no more changes allowed";case"cards-not-revealed":default:return"Reactions disabled until cards are revealed"}},Jk=i=>{switch(i){case"frozen":return null;case"cards-not-revealed":default:return"Comments are disabled until cards are revealed"}};function e2({boardId:i,columnId:e,cardId:n,cardData:r,user:o,showNotification:c,multipleVotesAllowed:d=!1,retrospectiveMode:h=!1,workflowPhase:g="CREATION",votesPerUser:m=3,getUserVoteCount:_=()=>0}){const[b,E]=A.useState(!1),[w,T]=A.useState(r.content||""),[P,N]=A.useState(!1),[H,z]=A.useState(!1),[X,Z]=A.useState(""),[W,re]=A.useState({top:0,left:0}),ce=A.useCallback(()=>r.createdBy?r.createdBy&&(o==null?void 0:o.uid)&&r.createdBy===o.uid:!0,[r.createdBy,o==null?void 0:o.uid]),se=A.useCallback(J=>J.createdBy?J.createdBy&&(o==null?void 0:o.uid)&&J.createdBy===o.uid:!0,[o==null?void 0:o.uid]),ue=A.useCallback(()=>vS(h,g),[h,g]),xe=A.useMemo(()=>ye(_e,`boards/${i}/columns/${e}/cards/${n}`),[i,e,n]),Ee=A.useCallback(J=>{if(J&&J.stopPropagation(),!ce()){c("Only the author can edit this card");return}h&&!gS(g,h)||(E(!b),T(r.content||""))},[b,r.content,ce,c,h,g]),pe=A.useCallback(async()=>{if(!i)return;const J=w.trim();try{if(!J){await Dt(xe),c("Card deleted");return}await Ae(xe,{...r,content:J}),c("Card saved"),E(!1)}catch(k){console.error("Error saving card:",k)}},[i,xe,r,w,c]),Ne=A.useCallback(async J=>{if(J.stopPropagation(),!!i&&window.confirm("Are you sure you want to delete this card?"))try{await Dt(xe),c("Card deleted")}catch(k){console.error("Error deleting card:",k)}},[i,xe,c]),Ke=A.useCallback(J=>{J.key==="Enter"&&!J.shiftKey?(J.preventDefault(),pe()):J.key==="Escape"&&(E(!1),T(r.content||""))},[pe,r.content]),Be=A.useCallback(async(J,k,oe)=>{if(k.stopPropagation(),!i||!o)return;if(ue()){kn(g,h)?c("Voting is now frozen - no more changes allowed"):c("Voting is disabled until cards are revealed");return}const me=r.votes||0;if(J<0&&me<=0){c("Can't have negative votes");return}const Ge=r.voters&&r.voters[o.uid]?r.voters[o.uid]:0;if(J>0&&h){const Ve=_(o.uid);if(d){if(Ve>=m){c(`You've reached your vote limit (${m} votes)`);return}}else if(Ge===0&&Ve>=m){c(`You've reached your vote limit (${m} votes)`);return}}if(!d){if(Ge===J){c("You've already voted");return}Ge!==0&&(J=-Ge)}try{const Ve=me+J,fn=ye(_e,`boards/${i}/columns/${e}/cards/${n}/votes`);await Ae(fn,Ve);const Ut=ye(_e,`boards/${i}/columns/${e}/cards/${n}/voters/${o.uid}`);let Un;d?Un=Ge+J:Un=Ge!==0&&J===-Ge?0:J,Un===0?await Dt(Ut):await Ae(Ut,Un),!d&&Ge!==0&&J===-Ge?c("Vote removed"):c(oe)}catch(Ve){console.error("Error updating votes:",Ve)}},[i,e,n,r.votes,r.voters,c,d,o,ue,g,h,m,_]),L=A.useCallback(J=>{Be(1,J,"Upvoted card")},[Be]),ie=A.useCallback(J=>{Be(-1,J,"Downvoted card")},[Be]),fe=A.useCallback(J=>J?J.split(`
`).map((k,oe)=>p.jsxs(A.Fragment,{children:[hS(k),oe<J.split(`
`).length-1&&p.jsx("br",{})]},oe)):"",[]),Ce=A.useCallback(J=>!!(r.reactions&&r.reactions[J]&&r.reactions[J].users&&r.reactions[J].users[o==null?void 0:o.uid]),[r.reactions,o==null?void 0:o.uid]),C=A.useCallback(J=>r.reactions&&r.reactions[J]&&r.reactions[J].count||0,[r.reactions]),G=A.useCallback(J=>{const k=`boards/${i}/columns/${e}/cards/${n}/reactions/${J}`;return{userRef:ye(_e,`${k}/users/${o==null?void 0:o.uid}`),countRef:ye(_e,`${k}/count`)}},[i,e,n,o==null?void 0:o.uid]),B=A.useCallback(async(J,k)=>{if(J.stopPropagation(),!i||!o)return;if(ue()){kn(g,h)?c("Interactions are now frozen - no more changes allowed"):c("Reactions are disabled until cards are revealed");return}const{userRef:oe,countRef:me}=G(k),Ge=Ce(k);try{if(Ge){await Dt(oe);const Ve=Math.max(0,C(k)-1);await Ae(me,Ve),c("Your reaction removed")}else{await Ae(oe,!0);const Ve=C(k)+1;await Ae(me,Ve),c("Reaction added")}}catch(Ve){console.error("Error managing reaction:",Ve)}},[i,o,G,Ce,C,c,ue,g,h]),F=A.useCallback(async()=>{if(!(!i||!X.trim())){if(ue()){kn(g,h)?c("Comments are now frozen - no more changes allowed"):c("Comments are disabled until cards are revealed");return}try{const J=`comment_${Date.now()}`,k={content:X,timestamp:Date.now(),createdBy:(o==null?void 0:o.uid)||null},oe=ye(_e,`boards/${i}/columns/${e}/cards/${n}/comments/${J}`);await Ae(oe,k),c("Comment added"),Z("")}catch(J){console.error("Error adding comment:",J)}}},[i,e,n,X,c,o==null?void 0:o.uid,ue,g,h]),ee=A.useCallback(async(J,k)=>{var oe;if(!(!i||!J||!k.trim())){if(ue()){kn(g,h)?c("Comments are now frozen - no more changes allowed"):c("Comment editing is disabled until cards are revealed");return}try{const me=(oe=r.comments)==null?void 0:oe[J];if(!me)return;if(!se(me)){c("Only the author can edit this comment");return}const Ge=ye(_e,`boards/${i}/columns/${e}/cards/${n}/comments/${J}`);await Ae(Ge,{...me,content:k.trim()}),c("Comment updated")}catch(me){console.error("Error updating comment:",me)}}},[i,e,n,r.comments,c,se,ue,g,h]),ve=A.useCallback(async J=>{var k;if(!(!i||!J)){if(ue()){kn(g,h)?c("Comments are now frozen - no more changes allowed"):c("Comment deletion is disabled until cards are revealed");return}try{const oe=(k=r.comments)==null?void 0:k[J];if(!oe)return;if(!se(oe)){c("Only the author can delete this comment");return}const me=ye(_e,`boards/${i}/columns/${e}/cards/${n}/comments/${J}`);await Dt(me),c("Comment deleted")}catch(oe){console.error("Error deleting comment:",oe)}}},[i,e,n,c,r.comments,se,ue,g,h]),le=A.useCallback(()=>{z(!H),N(!1)},[H]);return A.useEffect(()=>{if(!P)return;const J=k=>{const oe=document.querySelector(".emoji-picker");oe&&!oe.contains(k.target)&&!k.target.closest(".add-reaction-button")&&N(!1)};return document.addEventListener("mousedown",J),()=>document.removeEventListener("mousedown",J)},[P]),{isEditing:b,editedContent:w,showEmojiPicker:P,showComments:H,newComment:X,emojiPickerPosition:W,setIsEditing:E,setEditedContent:T,setShowEmojiPicker:N,setShowComments:z,setNewComment:Z,setEmojiPickerPosition:re,toggleEditMode:Ee,saveCardChanges:pe,deleteCard:Ne,handleKeyPress:Ke,upvoteCard:L,downvoteCard:ie,formatContentWithEmojis:fe,hasUserReactedWithEmoji:Ce,addReaction:B,addComment:F,editComment:ee,deleteComment:ve,toggleComments:le,isCardAuthor:ce,isCommentAuthor:se,isInteractionDisabled:ue}}var t2=kb();const n2=Oo(t2),bS=Q.memo(({position:i,onEmojiSelect:e,onClose:n,hasUserReactedWithEmoji:r})=>{const[o,c]=A.useState(""),d=A.useMemo(()=>{if(!o.trim())return Db;const h=o.toLowerCase().trim();return Db.filter(g=>Gk(g).some(_=>_.toLowerCase().includes(h)))},[o]);return n2.createPortal(p.jsxs("div",{className:"emoji-picker",onClick:h=>h.stopPropagation(),"data-testid":"emoji-picker",style:{top:i.top,left:i.left},children:[p.jsx("div",{className:"emoji-picker-search",children:p.jsx("input",{type:"text",placeholder:"Search emojis...",value:o,onChange:h=>c(h.target.value),"data-testid":"emoji-search-input",className:"emoji-search-input",autoFocus:!0})}),p.jsxs("div",{className:"emoji-picker-grid",children:[d.map(h=>p.jsx("button",{className:`emoji-option ${r(h)?"selected":""}`,"data-testid":"emoji-option",onClick:g=>{g.stopPropagation(),e(g,h),n()},children:h},h)),d.length===0&&o.trim()&&p.jsxs("div",{className:"emoji-picker-no-results","data-testid":"emoji-no-results",children:["No emojis found for ",o,""]})]})]}),document.body)}),i2=Q.memo(({showEmojiPicker:i,setShowEmojiPicker:e,setShowComments:n,toggleComments:r,setEmojiPickerPosition:o,emojiPickerPosition:c,addReaction:d,hasUserReactedWithEmoji:h,commentCount:g=0,disabled:m=!1,disabledReason:_="cards-not-revealed"})=>{const b=A.useRef(null),E=yS(m,_),w=Qh(_);return p.jsxs("div",{className:"card-hover-actions",children:[i&&p.jsx(bS,{position:c,onEmojiSelect:d,onClose:()=>e(!1),hasUserReactedWithEmoji:h}),!w&&p.jsx("button",{className:`card-hover-action emoji-action ${E?"disabled":""}`,onClick:m?void 0:T=>{if(T.stopPropagation(),b.current){const P=b.current.getBoundingClientRect();o({top:P.bottom+window.scrollY+5,left:P.left+window.scrollX})}e(!i),n(!1)},title:m?_S(_):"Add reaction","aria-label":"Add reaction",ref:b,disabled:E,children:p.jsx(yp,{size:16,"aria-hidden":"true"})}),p.jsxs("button",{className:`card-hover-action comment-action ${g>0?"has-comments":""}`,onClick:T=>{T.stopPropagation(),r()},title:"Toggle comments",children:[p.jsx(No,{size:16}),g>0&&p.jsx("span",{className:"comment-count",children:g})]})]})}),s2=Q.memo(({reactions:i,userId:e,addReaction:n,disabled:r=!1,disabledReason:o="cards-not-revealed"})=>{const c=yS(r,o),d=o==="frozen";return i&&Object.entries(i).some(([,g])=>g.count>0)?p.jsx("div",{className:"emoji-reactions",children:p.jsx("div",{className:"reactions-left",children:i&&Object.entries(i).map(([g,m])=>{if(m.count<=0)return null;const _=m.users&&m.users[e];return p.jsxs("div",{className:`emoji-reaction ${_?"active":""} ${c?"disabled":""} ${d?"frozen":""}`,"data-testid":"emoji-reaction",onClick:r?void 0:b=>n(b,g),title:r?_S(o):_?"Click to remove your reaction":"Click to add your reaction",children:[p.jsx("span",{className:"emoji",children:g}),p.jsx("span",{className:"count",children:m.count})]},g)})})}):null}),r2=({editedComment:i,setEditedComment:e,saveComment:n,cancelEdit:r,deleteComment:o})=>p.jsxs("div",{className:"comment-edit",onClick:c=>c.stopPropagation(),children:[p.jsx("input",{type:"text",value:i,onChange:c=>e(c.target.value),className:"comment-edit-input",autoFocus:!0,onKeyPress:c=>{c.key==="Enter"&&i.trim()?n():c.key==="Escape"&&r()}}),p.jsxs("div",{className:"comment-edit-actions",children:[p.jsx("button",{className:"btn danger-btn btn-sm",onClick:o,children:"Delete"}),p.jsx("button",{className:"btn secondary-btn btn-sm",onClick:r,children:"Cancel"}),p.jsx("button",{className:"btn success-btn btn-sm",onClick:n,children:"Save"})]})]}),ES=Q.memo(({comments:i,onAddComment:e,newComment:n,onCommentChange:r,onEditComment:o,onDeleteComment:c,isCommentAuthor:d,interactionsDisabled:h=!1,disabledReason:g=null})=>{const[m,_]=A.useState(null),[b,E]=A.useState(""),w=!Qh(g),T=Qh(g),P=(W,re)=>{if(h){w&&alert("Comment editing is disabled until cards are revealed");return}_(W),E(re)},N=()=>{_(null),E("")},H=()=>{b.trim()&&(o(m,b),N())},z=Jk(g),X=()=>{if(h){w&&z&&alert(z);return}n.trim()&&e()},Z=W=>{window.confirm("Are you sure you want to delete this comment?")&&c(W)};return p.jsxs("div",{className:"comments-section",children:[p.jsx("h4",{children:"Comments"}),i&&Object.entries(i).length>0?Object.entries(i).map(([W,re])=>p.jsx("div",{className:"comment",children:m===W?p.jsx(r2,{editedComment:b,setEditedComment:E,saveComment:H,cancelEdit:N,deleteComment:()=>Z(W)}):p.jsx("div",{className:`comment-content ${d(re)&&!h?"editable":""}`,onClick:ce=>{ce.stopPropagation(),d(re)&&P(W,re.content)},title:h&&w?z:d(re)?"Click to edit":"Only the author can edit this comment",children:hS(re.content)})},W)):p.jsx("p",{className:"no-comments",children:"No comments yet"}),!T&&p.jsx("div",{className:"comment-form",children:p.jsx("input",{type:"text",placeholder:h&&w?z:"Add a comment...",className:"comment-input",value:n,onChange:W=>r(W.target.value),onClick:W=>W.stopPropagation(),onKeyPress:W=>{W.key==="Enter"&&n.trim()&&(W.preventDefault(),X())},disabled:h,title:h&&w?z:""})})]})}),SS=Q.memo(({votes:i,onUpvote:e,onDownvote:n,showDownvoteButton:r=!0,disabled:o=!1,disabledReason:c="voting-disabled"})=>{const d=h=>{if(!o)return h==="upvote"?"Upvote":"Downvote";switch(c){case"frozen":return"Voting is frozen - no more changes allowed";case"cards-not-revealed":default:return"Voting disabled until cards are revealed"}};return p.jsxs("div",{className:"votes",children:[p.jsx("button",{className:`vote-button ${o?"disabled":""}`,onClick:o?void 0:e,title:d("upvote"),disabled:o,children:p.jsx(lp,{size:16})}),p.jsx("span",{className:"vote-count",children:i||0}),r&&p.jsx("button",{className:`vote-button ${o?"disabled":""}`,onClick:o?void 0:n,title:d("downvote"),disabled:o,children:p.jsx(xo,{size:16})})]})}),a2=({editedContent:i,setEditedContent:e,handleKeyPress:n,saveCardChanges:r,toggleEditMode:o,deleteCard:c})=>p.jsxs("div",{className:"card-edit",onClick:d=>d.stopPropagation(),children:[p.jsx("textarea",{value:i,onChange:d=>e(d.target.value),onKeyDown:n,className:"card-edit-textarea",autoFocus:!0}),p.jsxs("div",{className:"card-edit-actions",children:[p.jsx("button",{className:"btn danger-btn",onClick:c,children:"Delete"}),p.jsx("button",{className:"btn secondary-btn",onClick:o,children:"Cancel"}),p.jsx("button",{className:"btn success-btn",onClick:r,children:"Save"})]})]}),o2=({cardData:i,formatContentWithEmojis:e,upvoteCard:n,downvoteCard:r,votingEnabled:o,downvotingEnabled:c,userId:d,retrospectiveMode:h,groupId:g,workflowPhase:m="CREATION",user:_,disabledReason:b,children:E})=>{const w=i.voters&&d&&i.voters[d]||0,T=c||w>0,P=W=>W?W.split("").map(re=>re===" "?" ":re===`
`?`
`:"").join(""):"",N=i.createdBy&&d&&i.createdBy===d,H=qk(m,h)&&!N,z=!as(m,h),X=mi(m,h),Z=H?P(i.content):e(i.content);return p.jsxs("div",{className:"card-header",children:[o&&!g&&!(h&&m==="CREATION"&&_)&&X&&p.jsx(SS,{votes:i.votes,onUpvote:z?()=>{}:n,onDownvote:z?()=>{}:r,showDownvoteButton:T,disabled:z,disabledReason:b}),p.jsx("div",{className:`card-content ${!o||g||!X||h&&m==="CREATION"&&_?"full-width":""} ${H?"obfuscated":""}`,"data-testid":"card-content",children:Z}),E]})};function pg({cardId:i,cardData:e,columnId:n,groupId:r=null,showNotification:o,onCardDropOnCard:c=null}){const{boardId:d,user:h,votingEnabled:g,downvotingEnabled:m,multipleVotesAllowed:_,votesPerUser:b,getUserVoteCount:E,retrospectiveMode:w,workflowPhase:T="CREATION"}=$t(),P=A.useRef(null),{isEditing:N,editedContent:H,showEmojiPicker:z,showComments:X,newComment:Z,emojiPickerPosition:W,setEditedContent:re,setShowEmojiPicker:ce,setShowComments:se,setNewComment:ue,setEmojiPickerPosition:xe,toggleEditMode:Ee,saveCardChanges:pe,deleteCard:Ne,handleKeyPress:Ke,upvoteCard:Be,downvoteCard:L,formatContentWithEmojis:ie,hasUserReactedWithEmoji:fe,addReaction:Ce,addComment:C,editComment:G,deleteComment:B,toggleComments:F,isCardAuthor:ee,isCommentAuthor:ve}=e2({boardId:d,columnId:n,cardId:i,cardData:e,user:h,showNotification:o,multipleVotesAllowed:_,retrospectiveMode:w,workflowPhase:T,votesPerUser:b,getUserVoteCount:E}),le=Zk(w,T),J=ee();let k=!1;if(T&&h){const $e=gS(T,w);T==="CREATION"?k=!J:T==="GROUPING"?k=!$e:$e||(k=!0)}const me=w&&!pS(T,w)?{...e,votes:e.voters&&(h!=null&&h.uid)&&e.voters[h.uid]?Math.abs(e.voters[h.uid]):0,voters:e.voters&&(h!=null&&h.uid)?{[h.uid]:e.voters[h.uid]}:{},reactions:e.reactions?Object.fromEntries(Object.entries(e.reactions).filter(([$e,xn])=>xn.users&&(h==null?void 0:h.uid)&&xn.users[h.uid]).map(([$e,xn])=>[$e,{count:1,users:{[h.uid]:!0}}])):{},comments:e.comments?Object.fromEntries(Object.entries(e.comments).filter(([$e,xn])=>xn.createdBy===(h==null?void 0:h.uid))):{}}:e,Ge=!Fk(T,w),Ve=po(T,w),Ut=!Ge||T==="CREATION"&&J,[{isDragging:Un},ta]=RO(()=>({type:"CARD",item:{cardId:i,columnId:n,cardData:e,groupId:r},canDrag:Ut||Ve,collect:$e=>({isDragging:$e.isDragging()})}),[i,n,e,Ge,r,Ve,Ut]),[{isOver:Kt},na]=sp(()=>({accept:"CARD",drop:$e=>{Ve&&c&&$e.cardId!==i&&c($e.cardId,i)},canDrop:()=>Ve,collect:$e=>({isOver:!!$e.isOver()&&!!$e.canDrop()})}),[Ve,c,i]),qs=()=>{!N&&!Ve&&Ee()},Ys=$e=>{P.current=$e,(Ut||Ve)&&ta($e),Ve&&na($e)},Ci=()=>{const $e=[];return Un&&$e.push("dragging"),k&&$e.push("editing-disabled"),!Ut&&!Ve&&$e.push("drag-disabled"),Kt&&$e.push("drop-target"),Ve&&$e.push("groupable"),ee()&&T===ae.CREATION&&$e.push("author-editable"),Ve?$e.push("cursor-grab"):N?$e.push("cursor-default"):k?T==="CREATION"&&J||!w?$e.push("cursor-grab"):$e.push("cursor-not-allowed"):$e.push("cursor-pointer"),$e.join(" ")};return p.jsxs("div",{ref:Ys,className:`card ${Ci()}`,onClick:qs,"data-card-id":i,children:[!N&&!(w&&T==="CREATION"&&h)&&mi(T,w)&&!r&&Object.keys(me.comments||{}).length>0&&p.jsx("div",{className:"card-comment-indicator",title:`${Object.keys(me.comments||{}).length} comment${Object.keys(me.comments||{}).length===1?"":"s"}`,children:p.jsx(No,{size:12})}),N?p.jsx(a2,{editedContent:H,setEditedContent:re,handleKeyPress:Ke,saveCardChanges:pe,toggleEditMode:Ee,deleteCard:Ne}):p.jsxs(p.Fragment,{children:[p.jsx(o2,{cardData:me,formatContentWithEmojis:ie,upvoteCard:Be,downvoteCard:L,votingEnabled:g,downvotingEnabled:m,userId:h==null?void 0:h.uid,retrospectiveMode:w,groupId:r,workflowPhase:T,user:h,disabledReason:le,children:!(w&&T==="CREATION"&&h)&&mi(T,w)&&!r&&p.jsx(i2,{showEmojiPicker:z,setShowEmojiPicker:ce,setShowComments:se,toggleComments:F,setEmojiPickerPosition:xe,emojiPickerPosition:W,addReaction:Ce,hasUserReactedWithEmoji:fe,commentCount:Object.keys(me.comments||{}).length,disabled:!as(T,w),disabledReason:le})}),!(w&&T==="CREATION"&&h)&&mi(T,w)&&!r&&p.jsx(s2,{reactions:me.reactions,userId:h==null?void 0:h.uid,addReaction:Ce,disabled:!as(T,w),disabledReason:le}),!(w&&T==="CREATION"&&h)&&mi(T,w)&&!r&&X&&p.jsx(ES,{comments:me.comments,onAddComment:C,newComment:Z,onCommentChange:ue,onEditComment:G,onDeleteComment:B,isCommentAuthor:ve,interactionsDisabled:!as(T,w),disabledReason:le})]})]})}function l2({boardId:i,columnId:e,groupId:n,groupData:r,user:o,showNotification:c,retrospectiveMode:d=!1,workflowPhase:h="CREATION"}){const[g,m]=A.useState(!1),[_,b]=A.useState(!1),[E,w]=A.useState(""),[T,P]=A.useState({top:0,left:0}),N=A.useRef(null),H=A.useCallback(()=>!as(h,d),[h,d]),z=A.useCallback(Ee=>!!(r.reactions&&r.reactions[Ee]&&r.reactions[Ee].users&&r.reactions[Ee].users[o==null?void 0:o.uid]),[r.reactions,o==null?void 0:o.uid]),X=A.useCallback(Ee=>{var pe,Ne;return((Ne=(pe=r.reactions)==null?void 0:pe[Ee])==null?void 0:Ne.count)||0},[r.reactions]),Z=A.useCallback(Ee=>{const pe=ye(_e,`boards/${i}/columns/${e}/groups/${n}/reactions/${Ee}/users/${o==null?void 0:o.uid}`),Ne=ye(_e,`boards/${i}/columns/${e}/groups/${n}/reactions/${Ee}/count`);return{userRef:pe,countRef:Ne}},[i,e,n,o==null?void 0:o.uid]),W=A.useCallback(async(Ee,pe)=>{if(Ee.stopPropagation(),!i||!o)return;if(H()){kn(h,d)?c("Interactions are now frozen - no more changes allowed"):c("Reactions are disabled until cards are revealed");return}const{userRef:Ne,countRef:Ke}=Z(pe),Be=z(pe);try{if(Be){await Dt(Ne);const L=Math.max(0,X(pe)-1);await Ae(Ke,L),c("Your reaction removed")}else{await Ae(Ne,!0);const L=X(pe)+1;await Ae(Ke,L),c("Reaction added")}}catch(L){console.error("Error managing reaction:",L)}},[i,o,Z,z,X,c,H,h,d]),re=A.useCallback(async()=>{if(!i||!E.trim())return;if(H()){kn(h,d)?c("Interactions are now frozen - no more changes allowed"):c("Comments are disabled until cards are revealed");return}const Ee=Hr(),pe=ye(_e,`boards/${i}/columns/${e}/groups/${n}/comments/${Ee}`),Ne={content:E.trim(),createdBy:o.uid,createdAt:Date.now()};try{await Ae(pe,Ne),w(""),c("Comment added")}catch(Ke){console.error("Error adding comment:",Ke),c("Error adding comment")}},[i,e,n,E,o,c,H,h,d]),ce=A.useCallback(async(Ee,pe)=>{if(!i||!pe.trim())return;if(H()){kn(h,d)?c("Interactions are now frozen - no more changes allowed"):c("Comments are disabled until cards are revealed");return}const Ne=ye(_e,`boards/${i}/columns/${e}/groups/${n}/comments/${Ee}/content`);try{await Ae(Ne,pe.trim()),c("Comment updated")}catch(Ke){console.error("Error updating comment:",Ke),c("Error updating comment")}},[i,e,n,c,H,h,d]),se=A.useCallback(async Ee=>{if(!i)return;if(H()){kn(h,d)?c("Interactions are now frozen - no more changes allowed"):c("Comments are disabled until cards are revealed");return}const pe=ye(_e,`boards/${i}/columns/${e}/groups/${n}/comments/${Ee}`);try{await Dt(pe),c("Comment deleted")}catch(Ne){console.error("Error deleting comment:",Ne),c("Error deleting comment")}},[i,e,n,c,H,h,d]),ue=A.useCallback(()=>{b(!_),m(!1)},[_]),xe=A.useCallback(Ee=>(Ee==null?void 0:Ee.createdBy)===(o==null?void 0:o.uid),[o==null?void 0:o.uid]);return{showEmojiPicker:g,showComments:_,newComment:E,emojiPickerPosition:T,emojiButtonRef:N,setShowEmojiPicker:m,setShowComments:b,setNewComment:w,setEmojiPickerPosition:P,hasUserReactedWithEmoji:z,addReaction:W,addComment:re,editComment:ce,deleteComment:se,toggleComments:ue,isCommentAuthor:xe}}function CS({groupId:i,groupData:e,columnId:n,columnData:r,showNotification:o,sortByVotes:c}){var G;const{boardId:d,user:h,moveCard:g,ungroupCards:m,updateGroupName:_,votingEnabled:b,downvotingEnabled:E,upvoteGroup:w,downvoteGroup:T,retrospectiveMode:P,workflowPhase:N}=$t(),H=l2({boardId:d,columnId:n,groupId:i,groupData:e,user:h,showNotification:o,retrospectiveMode:P,workflowPhase:N}),[z,X]=A.useState(e.expanded!==!1),[Z,W]=A.useState(!1),[re,ce]=A.useState(e.name||"Unnamed Group"),se=A.useRef(null),xe=P&&!pS(N,P)?{...e,votes:e.voters&&(h!=null&&h.uid)&&e.voters[h.uid]?Math.abs(e.voters[h.uid]):0,voters:e.voters&&(h!=null&&h.uid)?{[h.uid]:e.voters[h.uid]}:{},reactions:e.reactions?Object.fromEntries(Object.entries(e.reactions).filter(([B,F])=>F.users&&(h==null?void 0:h.uid)&&F.users[h.uid]).map(([B,F])=>[B,{count:1,users:{[h.uid]:!0}}])):{},comments:e.comments?Object.fromEntries(Object.entries(e.comments).filter(([B,F])=>F.createdBy===(h==null?void 0:h.uid))):{}}:e,[{isOver:Ee},pe]=sp(()=>({accept:"CARD",drop:B=>{var F;if(!((F=e.cardIds)!=null&&F.includes(B.cardId))&&B.groupId!==i)return g(B.cardId,B.columnId,n,i),o("Card added to group"),{handled:!0}},collect:B=>({isOver:!!B.isOver()})}),[n,i,e.cardIds,g,o]);pe(se);const Ne=B=>{B.stopPropagation(),w(n,i,e.votes||0,o)},Ke=B=>{B.stopPropagation(),T(n,i,e.votes||0,o)},Be=()=>{if(!e.cardIds||!r.cards)return[];const B=e.cardIds.map(F=>{const ee=r.cards[F];return ee?{id:F,...ee}:null}).filter(Boolean);return c?B.sort((F,ee)=>(ee.votes||0)-(F.votes||0)):B.sort((F,ee)=>(F.created||0)-(ee.created||0))},L=B=>{ce(B.target.value)},ie=()=>{d&&re.trim()&&(_(n,i,re.trim()),W(!1))},fe=B=>{B.key==="Enter"?ie():B.key==="Escape"&&(W(!1),ce(e.name||"Unnamed Group"))},Ce=()=>{window.confirm("Are you sure you want to ungroup these cards?")&&(m(n,i),o("Cards ungrouped"))},C=e.cardIds?e.cardIds.length:0;return p.jsxs("div",{ref:se,className:`card-group ${Ee?"drag-over":""}`,children:[p.jsxs("div",{className:"card-group-header",onClick:()=>X(!z),children:[p.jsxs("div",{className:"card-group-title-section",children:[z?p.jsx(xo,{size:16,className:"expand-icon"}):p.jsx(zc,{size:16,className:"expand-icon"}),Z?p.jsx("input",{type:"text",value:re,onChange:L,onBlur:ie,onKeyDown:fe,className:"group-name-input",autoFocus:!0,onClick:B=>B.stopPropagation()}):p.jsxs("div",{className:"group-name-container",children:[p.jsx("h3",{className:`card-group-name ${po(N,P)?"":"non-editable"}`,onClick:B=>{B.stopPropagation(),po(N,P)&&W(!0)},children:e.name||"Unnamed Group"}),po(N,P)&&p.jsx("button",{className:"edit-group-name-btn",onClick:B=>{B.stopPropagation(),W(!0)},title:"Edit group name",children:p.jsx(up,{size:12})})]})]}),p.jsxs("div",{className:"card-group-actions",children:[b&&mi(N,P)&&p.jsx(SS,{votes:xe.votes||0,onUpvote:Ne,onDownvote:Ke,showDownvoteButton:E,disabled:!as(N,P)}),p.jsxs("div",{className:"card-group-info",children:[p.jsx("span",{className:"card-count-badge",title:`${C} card${C!==1?"s":""}`,children:C}),as(N,P)&&p.jsx("button",{className:"group-action-btn",onClick:B=>{B.stopPropagation(),Ce()},title:"Ungroup cards",children:p.jsx(fp,{size:14})})]})]})]}),mi(N,P)&&p.jsxs("div",{className:"group-interactions-section",children:[p.jsxs("div",{className:"group-interactions-left",children:[xe.reactions&&Object.entries(xe.reactions).map(([B,F])=>{if(F.count<=0)return null;const ee=F.users&&F.users[h==null?void 0:h.uid];return p.jsxs("span",{className:`reaction-item ${ee?"user-reacted":""}`,onClick:ve=>{ve.stopPropagation(),H.addReaction(ve,B)},children:[B," ",F.count]},B)}),p.jsx("button",{className:"interaction-btn reactions-btn",onClick:B=>{var F;if(B.stopPropagation(),(F=H.emojiButtonRef)!=null&&F.current){const ee=H.emojiButtonRef.current.getBoundingClientRect();H.setEmojiPickerPosition({top:ee.bottom+window.scrollY+5,left:ee.left+window.scrollX})}H.setShowEmojiPicker(!H.showEmojiPicker)},title:"Add reaction",ref:H.emojiButtonRef,children:"+"})]}),p.jsx("div",{className:"group-interactions-right",children:p.jsxs("button",{className:`interaction-btn comments-btn ${Object.keys(xe.comments||{}).length>0?"has-comments":""}`,onClick:B=>{B.stopPropagation(),H.toggleComments()},title:"Toggle comments",children:[p.jsx(No,{size:16}),Object.keys(xe.comments||{}).length>0&&p.jsx("span",{className:"interaction-count",children:Object.keys(xe.comments||{}).length})]})})]}),H.showEmojiPicker&&p.jsx(bS,{onEmojiSelect:H.addReaction,position:H.emojiPickerPosition,onClose:()=>H.setShowEmojiPicker(!1),hasUserReactedWithEmoji:H.hasUserReactedWithEmoji}),mi(N,P)&&H.showComments&&p.jsx("div",{className:"group-comments-section",children:p.jsx(ES,{comments:xe.comments,onAddComment:H.addComment,newComment:H.newComment,onCommentChange:H.setNewComment,onEditComment:H.editComment,onDeleteComment:H.deleteComment,isCommentAuthor:H.isCommentAuthor,interactionsDisabled:!as(N,P)})}),z&&p.jsx("div",{className:"card-group-content",children:Be().length===0?p.jsxs("div",{className:"empty-group-placeholder",children:[p.jsx("span",{children:"No cards in this group"}),p.jsx("span",{children:"Drag cards here to add them"})]}):Be().map(B=>p.jsx(pg,{cardId:B.id,cardData:B,columnId:n,groupId:i,showNotification:o},B.id))}),!z&&C>0&&p.jsx("div",{className:"card-group-preview",children:p.jsx("div",{className:`card-preview main-card ${C>1?"with-stack-shadow":""}`,style:{boxShadow:C>1?`0 2px 8px rgba(0, 0, 0, 0.15), 
                 0 1px 3px rgba(0, 0, 0, 0.1),
                 ${Array.from({length:Math.min(C-1,5)},(B,F)=>{const ee=(F+1)*3;return`${ee}px ${ee}px 0 0 var(--card-bg), ${ee}px ${ee}px 0 1px var(--border-color)`}).join(", ")}`:"0 2px 8px rgba(0, 0, 0, 0.15), 0 1px 3px rgba(0, 0, 0, 0.1)"},children:p.jsx("div",{className:"card-preview-content",children:(G=Be()[0])==null?void 0:G.content})})})]})}function c2({columnId:i,columnData:e,sortByVotes:n,showNotification:r}){const{boardId:o,moveCard:c,user:d,createCardGroup:h,retrospectiveMode:g,workflowPhase:m,columns:_,startCardCreation:b,stopCardCreation:E}=$t(),[w,T]=A.useState(e.title||"New Column"),[P,N]=A.useState(!1),[H,z]=A.useState(""),[X,Z]=A.useState(!1),[W,re]=A.useState(!1),[ce,se]=A.useState(""),[ue,xe]=A.useState(null),Ee=A.useRef(null);A.useEffect(()=>{e&&e.title!==w&&!P&&T(e.title)},[e,P,w]),A.useEffect(()=>{g&&!Xf(m,g)&&X&&(Z(!1),E())},[m,g,X,E,i]);const[{isOver:pe},Ne]=sp(()=>({accept:"CARD",drop:(k,oe)=>{oe.didDrop()||(k.columnId!==i?(c(k.cardId,k.columnId,i),r("Card moved successfully")):k.groupId&&(c(k.cardId,k.columnId,i,null),r("Card removed from group")))},collect:k=>({isOver:!!k.isOver()})}),[i,c,r]);Ne(Ee);const Ke=k=>{T(k.target.value)},Be=()=>{if(o){const k=`boards/${o}/columns/${i}/title`,oe=ye(_e,k);Ae(oe,w).then(()=>{N(!1)}).catch(()=>{})}},L=k=>{k.key==="Enter"&&Be()},ie=()=>{if(o&&window.confirm("Are you sure you want to delete this column and all its cards?")){const k=ye(_e,`boards/${o}/columns/${i}`);Dt(k).then(()=>{r("Column deleted")}).catch(()=>{})}},fe=()=>{Z(!0),z(""),b(i)},Ce=()=>{Z(!1),z(""),E()},C=()=>{o&&H.trim()?Qk(o,i,H,d).then(k=>{r("Card added"),Ce(),setTimeout(()=>{const oe=document.querySelector(`[data-card-id="${k}"]`);oe&&(oe.style.boxShadow="0 0 10px rgba(74, 144, 226, 0.6)",oe.style.transition="box-shadow 2s ease-out",setTimeout(()=>{oe.style.boxShadow=""},2e3))},100)}).catch(k=>{k.message==="Card content is required"&&(Ce(),r("Empty cards are not allowed"))}):(Ce(),r("Empty cards are not allowed"))},G=k=>{k.key==="Enter"&&!k.shiftKey?(k.preventDefault(),C()):k.key==="Escape"&&Ce()},B=()=>{if(!e.cards)return[];const k=Object.entries(e.cards).filter(([oe,me])=>!me.groupId).map(([oe,me])=>({id:oe,...me}));return n?k.sort((oe,me)=>(me.votes||0)-(oe.votes||0)):k.sort((oe,me)=>(me.created||0)-(oe.created||0))},F=()=>{if(!e.groups)return[];const k=Object.entries(e.groups).map(([oe,me])=>({id:oe,...me}));return n?k.sort((oe,me)=>(me.votes||0)-(oe.votes||0)):k.sort((oe,me)=>(me.created||0)-(oe.created||0))},ee=()=>{const k=B().map(me=>({type:"card",data:me})),oe=F().map(me=>({type:"group",data:me}));return n?[...k,...oe].sort((me,Ge)=>(Ge.data.votes||0)-(me.data.votes||0)):[...oe,...k].sort((Ge,Ve)=>(Ve.data.created||0)-(Ge.data.created||0))},ve=(k,oe)=>{if(!po(m,g)||k===oe)return;let me=null;if(Object.keys(_||{}).forEach(Ge=>{_[Ge].cards&&_[Ge].cards[k]&&(me=Ge)}),!me){r("Error: Could not find dragged card");return}xe({draggedCardId:k,targetCardId:oe,draggedCardColumn:me,targetCardColumn:i}),re(!0),se("")},le=()=>{var k;if(!ce.trim()){r("Please enter a group name");return}if(ue){const{draggedCardId:oe,targetCardId:me,draggedCardColumn:Ge,targetCardColumn:Ve}=ue,fn=(k=e.cards)==null?void 0:k[me],Ut=fn==null?void 0:fn.created;Ge===Ve?(h(i,[oe,me],ce.trim(),Ut),r(`Group "${ce.trim()}" created`)):c(oe,Ge,Ve,null).then(()=>{h(Ve,[oe,me],ce.trim(),Ut),r(`Card moved and group "${ce.trim()}" created`)}).catch(()=>{r("Error creating group across columns")})}re(!1),se(""),xe(null)},J=()=>{re(!1),se(""),xe(null)};return p.jsxs("div",{className:"column",children:[p.jsxs("div",{className:"column-header",children:[P?p.jsx("input",{type:"text",value:w,onChange:Ke,onBlur:Be,onKeyPress:L,className:"column-title-input",autoFocus:!0}):p.jsx("h2",{className:"column-title",onClick:()=>N(!0),children:w}),p.jsx("div",{className:"column-actions",children:Xf(m,g)&&p.jsx("button",{className:"icon-button",title:"Delete Column",onClick:ie,children:p.jsx(Ep,{})})})]}),p.jsxs("div",{ref:Ee,className:`column-content ${pe?"drag-over":""}`,children:[F().length===0&&B().length===0&&p.jsxs("div",{className:"empty-column-placeholder",children:[p.jsx("span",{children:"No cards yet"}),p.jsx("span",{children:"Add a card to get started"})]}),X?p.jsxs("div",{className:"inline-card-form",children:[p.jsx("textarea",{placeholder:"Enter card content...",value:H,onChange:k=>z(k.target.value),onKeyDown:G,className:"inline-card-textarea",autoFocus:!0}),p.jsxs("div",{className:"inline-card-actions",children:[p.jsx("button",{className:"btn primary-btn",onClick:C,children:"Add"}),p.jsx("button",{className:"btn secondary-btn",onClick:Ce,children:"Cancel"})]})]}):Xf(m,g)&&p.jsxs("button",{className:"add-card",onClick:fe,children:[p.jsx(Bc,{}),"Add Card"]}),ee().map(k=>k.type==="group"?p.jsx(CS,{groupId:k.data.id,groupData:k.data,columnId:i,columnData:e,sortByVotes:n,showNotification:r},k.data.id):p.jsx(pg,{cardId:k.data.id,cardData:k.data,columnId:i,showNotification:r,onCardDropOnCard:ve},k.data.id)),W&&p.jsx("div",{className:"group-modal-overlay",onClick:J,children:p.jsxs("div",{className:"group-modal",onClick:k=>k.stopPropagation(),children:[p.jsx("h3",{children:"Create Card Group"}),p.jsx("p",{children:"Creating a group with 2 cards"}),p.jsx("input",{type:"text",placeholder:"Enter group name...",value:ce,onChange:k=>se(k.target.value),onKeyDown:k=>{k.key==="Enter"&&le(),k.key==="Escape"&&J()},className:"group-name-input",autoFocus:!0}),p.jsxs("div",{className:"group-modal-actions",children:[p.jsx("button",{className:"btn primary-btn",onClick:le,children:"Create Group"}),p.jsx("button",{className:"btn secondary-btn",onClick:J,children:"Cancel"})]})]})})]})]})}const u2=({isOpen:i,onClose:e,showNotification:n})=>{const[r,o]=A.useState("markdown"),[c,d]=A.useState(""),{boardTitle:h,columns:g}=$t(),m=A.useCallback(()=>{const w={title:h||Ms,columns:[]};return!g||Object.keys(g).length===0||Object.entries(g).sort((P,N)=>P[0].localeCompare(N[0])).forEach(([P,N])=>{if(!N)return;const H={title:N.title||"Untitled Column",cards:[]},z=[],X=[];N.groups&&Object.entries(N.groups).forEach(([Z,W])=>{if(!W||!W.cardIds)return;const re={name:W.name,votes:W.votes||0,comments:[],reactions:[],cards:[]};W.comments&&Object.keys(W.comments).length>0&&Object.entries(W.comments).forEach(([ce,se])=>{se&&se.content&&re.comments.push(se.content)}),W.reactions&&Object.keys(W.reactions).length>0&&Object.entries(W.reactions).filter(([se,ue])=>((ue==null?void 0:ue.count)||0)>0).forEach(([se,ue])=>{if(se){const xe=(ue==null?void 0:ue.count)||0;re.reactions.push({emoji:se,count:xe})}}),W.cardIds.forEach(ce=>{var ue;const se=(ue=N.cards)==null?void 0:ue[ce];if(se){const xe={content:se.content,votes:se.votes||0,comments:[],reactions:[]};se.comments&&Object.keys(se.comments).length>0&&Object.entries(se.comments).forEach(([Ee,pe])=>{pe&&pe.content&&xe.comments.push(pe.content)}),se.reactions&&Object.keys(se.reactions).length>0&&Object.entries(se.reactions).filter(([pe,Ne])=>((Ne==null?void 0:Ne.count)||0)>0).forEach(([pe,Ne])=>{if(pe){const Ke=(Ne==null?void 0:Ne.count)||0;xe.reactions.push({emoji:pe,count:Ke})}}),re.cards.push(xe)}}),z.push(re)}),N.cards&&Object.entries(N.cards).forEach(([Z,W])=>{if(!W.groupId){const re={content:W.content,votes:W.votes||0,comments:[],reactions:[]};W.comments&&Object.keys(W.comments).length>0&&Object.entries(W.comments).forEach(([ce,se])=>{se&&se.content&&re.comments.push(se.content)}),W.reactions&&Object.keys(W.reactions).length>0&&Object.entries(W.reactions).filter(([se,ue])=>((ue==null?void 0:ue.count)||0)>0).forEach(([se,ue])=>{if(se){const xe=(ue==null?void 0:ue.count)||0;re.reactions.push({emoji:se,count:xe})}}),X.push(re)}}),H.groups=z,H.cards=X,w.columns.push(H)}),w},[g,h]),_=A.useCallback(()=>{const w=m();let T=`# ${w.title}

`;return w.columns.length===0?`${T}No columns found.`:(w.columns.forEach(P=>{T+=`## ${P.title}

`,P.groups&&P.groups.length>0&&P.groups.forEach(N=>{const H=N.votes;T+=`###  ${N.name} ${H>0?`(${H} votes)`:""}

`,N.comments.length>0&&(T+=`**Group Comments:**
`,N.comments.forEach(z=>{T+=`- ${z}
`}),T+=`
`),N.reactions.length>0&&(T+="**Group Reactions:** ",N.reactions.forEach((z,X,Z)=>{T+=`${z.emoji} (${z.count})${X<Z.length-1?", ":""}`}),T+=`

`),N.cards.forEach(z=>{const X=z.votes;T+=`- **${z.content}** ${X>0?`(${X} votes)`:""}
`,z.comments.length>0&&(T+=`  - **Comments:**
`,z.comments.forEach(Z=>{T+=`    - ${Z}
`})),z.reactions.length>0&&(T+="  - **Reactions:** ",z.reactions.forEach((Z,W,re)=>{T+=`${Z.emoji} (${Z.count})${W<re.length-1?", ":""}`}),T+=`
`),T+=`
`}),T+=`
`}),P.cards.forEach(N=>{const H=N.votes;T+=`### ${N.content} ${H>0?`(${H} votes)`:""}

`,N.comments.length>0&&(T+=`**Comments:**

`,N.comments.forEach(z=>{T+=`- ${z}
`}),T+=`
`),N.reactions.length>0&&(T+="**Reactions:** ",N.reactions.forEach((z,X,Z)=>{T+=`${z.emoji} (${z.count})${X<Z.length-1?", ":""}`}),T+=`

`)}),T+=`
`}),T)},[m]),b=A.useCallback(()=>{const w=m();let T=`${w.title}

`;return w.columns.length===0?`${T}No columns found.`:(w.columns.forEach(P=>{const N=P.title;T+=`${N}
${"=".repeat(N.length)}

`,P.groups&&P.groups.length>0&&P.groups.forEach(H=>{const z=H.votes,X=` ${H.name} ${z>0?`(${z} votes)`:""}`;T+=`${X}
${"-".repeat(X.length)}

`,H.comments.length>0&&(T+=`Group Comments:
`,H.comments.forEach(Z=>{T+=`- ${Z}
`}),T+=`
`),H.reactions.length>0&&(T+="Group Reactions: ",H.reactions.forEach((Z,W,re)=>{T+=`${Z.emoji} (${Z.count})${W<re.length-1?", ":""}`}),T+=`

`),H.cards.forEach(Z=>{const W=Z.votes,re=`   ${Z.content} ${W>0?`(${W} votes)`:""}`;T+=`${re}
`,Z.comments.length>0&&(T+=`    Comments:
`,Z.comments.forEach(ce=>{T+=`    - ${ce}
`})),Z.reactions.length>0&&(T+="    Reactions: ",Z.reactions.forEach((ce,se,ue)=>{T+=`${ce.emoji} (${ce.count})${se<ue.length-1?", ":""}`}),T+=`
`),T+=`
`}),T+=`
`}),P.cards.forEach(H=>{const z=H.votes,X=H.content;T+=`${X} ${z>0?`(${z} votes)`:""}
${"-".repeat(X.length)}

`,H.comments.length>0&&(T+=`Comments:
`,H.comments.forEach(Z=>{T+=`- ${Z}
`}),T+=`
`),H.reactions.length>0&&(T+="Reactions: ",H.reactions.forEach((Z,W,re)=>{T+=`${Z.emoji} (${Z.count})${W<re.length-1?", ":""}`}),T+=`

`)}),T+=`
`}),T)},[m]);A.useEffect(()=>{if(i)try{d(r==="markdown"?_():b())}catch{d("Error generating export. Please try again.")}},[i,r,g,h,_,b]);const E=()=>{navigator.clipboard.writeText(c).then(()=>{n&&n("Copied to clipboard"),e()}).catch(()=>{})};return i?p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Export Board"}),p.jsx("button",{className:"close-button",onClick:e,children:""})]}),p.jsxs("div",{className:"modal-body",children:[p.jsxs("div",{className:"format-selector",children:[p.jsx("div",{className:"format-option",children:p.jsxs("label",{className:`format-label ${r==="markdown"?"selected":""}`,children:[p.jsx("input",{type:"radio",value:"markdown",checked:r==="markdown",onChange:()=>o("markdown"),className:"format-radio"}),p.jsx("span",{className:"format-name",children:"Markdown"})]})}),p.jsx("div",{className:"format-option",children:p.jsxs("label",{className:`format-label ${r==="plaintext"?"selected":""}`,children:[p.jsx("input",{type:"radio",value:"plaintext",checked:r==="plaintext",onChange:()=>o("plaintext"),className:"format-radio"}),p.jsx("span",{className:"format-name",children:"Plain Text"})]})})]}),p.jsx("div",{className:"export-preview",children:p.jsx("textarea",{readOnly:!0,value:c,className:"export-content"})})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsxs("button",{className:"primary-button",onClick:E,children:[p.jsx(cp,{size:16}),"Copy to Clipboard"]}),p.jsx("button",{className:"secondary-button",onClick:e,children:"Cancel"})]})]})}):null},so=[{id:"default",name:"Default",description:"Simple task tracking for any project",columns:["To Do","In Progress","Done"],icon:"",tags:["workflow","kanban","basic"]},{id:"custom",name:"Custom",description:"Create your own board structure from scratch",columns:["Untitled"],icon:"",tags:["custom","blank","flexible"]},{id:"lean-coffee",name:"Lean Coffee",description:"Democratically driven meeting agenda format",columns:["Topics","Discussing","Done"],icon:"",tags:["discussion","meeting","agenda"]},{id:"retro",name:"Retrospective",description:"Reflect on past work and plan improvements",columns:["Went Well","Could Improve","Action Items"],icon:"",tags:["agile","reflection","team"]},{id:"feelings-improvements",name:"Feelings / Improvements",description:"Focus on emotional impact and concrete solutions",columns:["Feelings","Improvements"],icon:"",tags:["feedback","emotions","solutions"]},{id:"daki",name:"DAKI",description:"Evaluate current processes and identify changes",columns:["Drop","Add","Keep","Improve"],icon:"",tags:["reflection","processes","practices"]},{id:"glad-sad-mad",name:"Glad Sad Mad",description:"Categorize feedback by emotional response",columns:["Glad","Sad","Mad"],icon:"",tags:["emotions","reflection","feedback"]},{id:"start-stop-continue",name:"Start Stop Continue",description:"Focus on actionable changes to team behavior",columns:["Start","Stop","Continue"],icon:"",tags:["action","feedback","improvement"]},{id:"4ls",name:"4 Ls",description:"Comprehensive retrospective with learning focus",columns:["Liked","Learned","Lacked","Longed For"],icon:"",tags:["reflection","learning","retrospective"]},{id:"swot",name:"SWOT",description:"Analyze internal and external factors for planning",columns:["Strengths","Weaknesses","Opportunities","Threats"],icon:"",tags:["strategy","planning","analysis"]},{id:"six-thinking-hats",name:"Six Thinking Hats",description:"Examine ideas from multiple mental perspectives",columns:["Facts","Emotions","Critical","Optimistic","Creative","Process"],icon:"",tags:["thinking","perspectives","discussion"]},{id:"moscow",name:"MoSCoW",description:"Categorize features by implementation priority",columns:["Must Have","Should Have","Could Have","Won't Have"],icon:"",tags:["prioritization","planning","requirements"]},{id:"five-whys",name:"Five Whys",description:"Iteratively identify the underlying causes of issues",columns:["Problem","Why 1","Why 2","Why 3","Why 4","Why 5","Root Cause"],icon:"",tags:["problem solving","analysis","causes"]},{id:"eisenhower",name:"Eisenhower Matrix",description:"Prioritize tasks based on urgency and importance",columns:["Urgent & Important","Important & Not Urgent","Urgent & Not Important","Neither"],icon:"",tags:["decision","prioritization","time management"]},{id:"sailboat",name:"Sailboat Retrospective",description:"Visualize team progress with nautical metaphors",columns:["Wind (Helps)","Anchors (Hinders)","Rocks (Risks)","Island (Goals)"],icon:"",tags:["retrospective","visual","team"]},{id:"fishbone",name:"Fishbone",description:"Identify causes across different categories",columns:["People","Process","Equipment","Materials","Environment","Management"],icon:"",tags:["analysis","causes","problem solving"]},{id:"feedback-grid",name:"Feedback Grid",description:"Balanced approach to feedback with action items",columns:["What Went Well","What Could Be Improved","Questions","Ideas"],icon:"",tags:["feedback","collection","reflection"]},{id:"starfish",name:"Starfish Retrospective",description:"Detailed action-oriented team improvement model",columns:["Keep Doing","Less Of","More Of","Start Doing","Stop Doing"],icon:"",tags:["retrospective","actions","team"]},{id:"kpt",name:"KPT",description:"Concise approach for identifying issues and solutions",columns:["Keep","Problem","Try"],icon:"",tags:["retrospective","simple","actions"]},{id:"pro-con",name:"Pros & Cons",description:"Evaluate options and make informed decisions",columns:["Pros","Cons","Decisions"],icon:"",tags:["decision","evaluation","analysis"]},{id:"user-journey",name:"User Journey Map",description:"Map out each stage of the user experience",columns:["Awareness","Consideration","Decision","Onboarding","Retention","Advocacy"],icon:"",tags:["ux","design","customer"]},{id:"three-horizons",name:"Three Horizons",description:"Strategic planning across different time frames",columns:["Horizon 1 (Now)","Horizon 2 (Next)","Horizon 3 (Future)"],icon:"",tags:["strategy","planning","innovation"]},{id:"impact-effort",name:"Impact/Effort Matrix",description:"Prioritize tasks based on impact and required effort",columns:["High Impact/Low Effort","High Impact/High Effort","Low Impact/Low Effort","Low Impact/High Effort"],icon:"",tags:["prioritization","planning","efficiency"]},{id:"assumption-mapping",name:"Assumption Mapping",description:"Identify and test critical business assumptions",columns:["Known Knowns","Known Unknowns","Unknown Knowns","Unknown Unknowns"],icon:"",tags:["strategy","risk","planning"]},{id:"customer-problem-solution",name:"Customer-Problem-Solution",description:"Framework for validating business model assumptions",columns:["Customer Segments","Problems","Solutions","Value Propositions"],icon:"",tags:["business","startup","validation"]},{id:"work-breakdown",name:"Work Breakdown Structure",description:"Hierarchical decomposition of project deliverables",columns:["Project","Major Deliverables","Sub-deliverables","Work Packages","Tasks"],icon:"",tags:["project management","planning","organization"]},{id:"five-stage-design",name:"Five Stage Design Thinking",description:"Human-centered approach to innovation",columns:["Empathize","Define","Ideate","Prototype","Test"],icon:"",tags:["design","innovation","process"]},{id:"rose-thorn-bud",name:"Rose, Thorn, Bud",description:"Review positives, challenges, and opportunities",columns:["Rose (Positive)","Thorn (Challenge)","Bud (Opportunity)"],icon:"",tags:["feedback","reflection","opportunity"]},{id:"four-quadrant-feedback",name:"Four Quadrant Feedback",description:"Balanced personal or project feedback",columns:["Continue","Consider","Start","Stop"],icon:"",tags:["feedback","personal","development"]}],d2=({isOpen:i,onClose:e,onSelectTemplate:n})=>{const[r,o]=A.useState("default"),[c,d]=A.useState(""),[h,g]=A.useState(so);A.useEffect(()=>{if(!c.trim()){g(so);return}const N=c.toLowerCase().trim(),H=so.filter(z=>z.name.toLowerCase().includes(N)||z.description.toLowerCase().includes(N)||z.tags.some(X=>X.toLowerCase().includes(N))||z.columns.some(X=>X.toLowerCase().includes(N)));g(H)},[c]);const m=N=>{o(N)},_=()=>{const N=so.find(H=>H.id===r);N&&n(N.columns,N.name)},b=N=>{d(N.target.value)},E=Q.useRef(null),w=Q.useRef(null),T=N=>{N.key==="Enter"&&N.target.classList.contains("template-search-input")?h.length>0&&(o(h[0].id),N.preventDefault()):N.key==="Enter"&&!N.target.classList.contains("template-search-input")?(_(),N.preventDefault()):N.key==="Escape"?c?(d(""),E.current&&E.current.focus(),N.preventDefault()):e():N.key==="/"&&!N.target.classList.contains("template-search-input")&&E.current&&(E.current.focus(),N.preventDefault())};if(Q.useEffect(()=>{i&&E.current&&setTimeout(()=>{E.current.focus()},100)},[i]),Q.useEffect(()=>{if(i)return document.addEventListener("keydown",T),()=>{document.removeEventListener("keydown",T)}},[i,r,c,h]),!i)return null;const P=(N,H)=>{if(!H.trim())return N;try{const z=new RegExp(`(${H.trim()})`,"gi");return N.replace(z,"<mark>$1</mark>")}catch{return N}};return p.jsx("div",{className:"modal-overlay",children:p.jsxs("div",{className:"modal-container template-modal",children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Choose a Board Template"}),p.jsx("button",{className:"close-button",onClick:e,children:""})]}),p.jsxs("div",{className:"modal-body template-selector",children:[p.jsxs("div",{className:"template-search",children:[p.jsxs("div",{className:"search-input-container",children:[p.jsx("input",{type:"text",placeholder:"Search templates by name, description, or columns... (Press / to focus)",value:c,onChange:b,className:"template-search-input",autoFocus:!0,ref:E}),c&&p.jsx("button",{className:"clear-search",onClick:()=>d(""),title:"Clear search",children:""})]}),p.jsx("div",{className:"search-results-count",children:c?h.length===0?p.jsx("div",{className:"no-results",children:"No templates match your search"}):p.jsxs("div",{className:"results-count",children:["Found ",h.length," template",h.length!==1?"s":""]}):null})]}),p.jsx("div",{className:"template-grid",children:h.map(N=>{const H=c?p.jsx("span",{dangerouslySetInnerHTML:{__html:P(N.name,c)}}):N.name,z=c?p.jsx("span",{dangerouslySetInnerHTML:{__html:P(N.description,c)}}):N.description;return p.jsxs("div",{className:`template-card ${r===N.id?"selected":""} ${c?"search-active":""}`,onClick:()=>m(N.id),children:[p.jsx("div",{className:"template-icon",children:N.icon}),p.jsxs("div",{className:"template-info",children:[p.jsx("h3",{children:H}),p.jsx("p",{children:z})]}),p.jsxs("div",{className:"template-details",children:[p.jsx("div",{className:"template-columns",children:N.columns.map((X,Z)=>p.jsx("span",{className:"template-column-pill",children:c?p.jsx("span",{dangerouslySetInnerHTML:{__html:P(X,c)}}):X},Z))}),p.jsx("div",{className:"template-tags",children:N.tags.map((X,Z)=>p.jsx("span",{className:`template-tag ${c&&X.toLowerCase().includes(c.toLowerCase())?"highlight":""}`,children:X},Z))})]})]},N.id)})})]}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"primary-button",onClick:_,ref:w,children:"Create Board"}),p.jsx("button",{className:"secondary-button",onClick:e,children:"Cancel"})]})]})})},f2=()=>{const{getPollStats:i}=$t(),e=i(),n=c=>e.totalVotes===0?0:c/e.totalVotes*100,o=(c=>c>=4.5?{text:"Extremely Effective",color:"#22c55e"}:c>=3.5?{text:"Very Effective",color:"#84cc16"}:c>=2.5?{text:"Moderately Effective",color:"#eab308"}:c>=1.5?{text:"Slightly Effective",color:"#f97316"}:{text:"Not Effective",color:"#ef4444"})(e.average);return p.jsxs("div",{className:"poll-results",children:[p.jsxs("div",{className:"results-header",children:[p.jsx("h3",{children:"Retrospective Effectiveness Results"}),p.jsxs("div",{className:"participation-stats",children:[p.jsx($s,{size:16}),p.jsxs("span",{children:[e.totalVotes," participant",e.totalVotes!==1?"s":""]})]})]}),e.totalVotes>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"overall-score",children:[p.jsxs("div",{className:"score-display",children:[p.jsxs("div",{className:"average-rating",children:[p.jsx("span",{className:"score-number",children:e.average.toFixed(1)}),p.jsx("span",{className:"score-separator",children:"/"}),p.jsx("span",{className:"score-max",children:"5.0"})]}),p.jsx("div",{className:"stars-display",children:[1,2,3,4,5].map(c=>p.jsx(Is,{size:20,fill:e.average>=c?"#ffd700":"none",color:e.average>=c?"#ffd700":"#ccc"},c))})]}),p.jsx("div",{className:"effectiveness-label",style:{color:o.color},children:o.text})]}),p.jsxs("div",{className:"distribution-chart",children:[p.jsx("h4",{children:"Vote Distribution"}),p.jsx("div",{className:"chart",children:e.distribution.map((c,d)=>{const h=d+1,g=(c/e.totalVotes*100).toFixed(1);return p.jsxs("div",{className:"chart-row",children:[p.jsxs("div",{className:"rating-label",children:[p.jsx(Is,{size:14,fill:"#ffd700",color:"#ffd700"}),p.jsx("span",{children:h})]}),p.jsx("div",{className:"bar-container",children:p.jsx("div",{className:"bar",style:{width:`${n(c)}%`,backgroundColor:h>=4?"#22c55e":h>=3?"#84cc16":h>=2?"#eab308":"#ef4444"}})}),p.jsxs("div",{className:"count-label",children:[p.jsx("span",{className:"count",children:c}),p.jsxs("span",{className:"percentage",children:["(",g,"%)"]})]})]},h)})})]}),p.jsx("div",{className:"results-summary",children:p.jsxs("div",{className:"summary-cards",children:[p.jsxs("div",{className:"summary-card",children:[p.jsx("h5",{children:"Highest Rating"}),p.jsxs("div",{className:"summary-value",children:[Math.max(...e.distribution.map((c,d)=>c>0?d+1:0)),p.jsx(Is,{size:14,fill:"#ffd700",color:"#ffd700"})]})]}),p.jsxs("div",{className:"summary-card",children:[p.jsx("h5",{children:"Most Common"}),p.jsxs("div",{className:"summary-value",children:[e.distribution.indexOf(Math.max(...e.distribution))+1,p.jsx(Is,{size:14,fill:"#ffd700",color:"#ffd700"})]})]}),p.jsxs("div",{className:"summary-card",children:[p.jsx("h5",{children:"Response Rate"}),p.jsx("div",{className:"summary-value",children:"100%"})]})]})})]}):p.jsxs("div",{className:"no-votes",children:[p.jsx("p",{children:"No votes have been submitted yet."}),p.jsx("p",{children:"Participants need to complete the poll phase first."})]})]})},h2=()=>{const{userPollVote:i,submitPollVote:e,getPollStats:n,activeUsers:r}=$t(),[o,c]=A.useState(0),d=T=>{e(T)},h=T=>{c(T)},g=()=>{c(0)},m=T=>({1:"Not effective at all",2:"Slightly effective",3:"Moderately effective",4:"Very effective",5:"Extremely effective"})[T]||"",_=()=>o||i||0,E=n().totalVotes,w=r>0?Math.round(E/r*100):0;return p.jsxs("div",{className:"poll-voting",children:[p.jsxs("div",{className:"poll-question",children:[p.jsx("h3",{children:"How effective was this retrospective?"}),p.jsx("p",{children:"Rate from 1 (not effective) to 5 (extremely effective)"})]}),p.jsxs("div",{className:"voting-progress",children:[p.jsxs("div",{className:"progress-header",children:[p.jsxs("div",{className:"progress-title",children:[p.jsx($s,{size:16}),p.jsx("span",{children:"Voting Progress"})]}),p.jsxs("div",{className:"progress-stats",children:[E," of ",r," participants have voted (",w,"%)"]})]}),p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${w}%`}})}),w===100&&r>0&&p.jsx("div",{className:"progress-complete",children:" All participants have voted! Ready to view results."})]}),p.jsxs("div",{className:"rating-container",children:[p.jsx("div",{className:"stars",children:[1,2,3,4,5].map(T=>p.jsx("button",{className:`star-button ${_()>=T?"active":""}`,onClick:()=>d(T),onMouseEnter:()=>h(T),onMouseLeave:g,disabled:!1,children:p.jsx(Is,{size:32,fill:_()>=T?"#ffd700":"none",color:_()>=T?"#ffd700":"#ccc"})},T))}),p.jsxs("div",{className:"rating-info",children:[p.jsx("div",{className:"rating-number",children:_()>0&&p.jsxs("span",{className:"current-rating",children:[_(),"/5"]})}),p.jsx("div",{className:"rating-description",children:_()>0&&m(_())})]})]}),i&&p.jsxs("div",{className:"vote-status",children:[p.jsxs("p",{className:"vote-submitted",children:[" Your vote has been submitted: ",i,"/5 stars"]}),p.jsx("p",{className:"vote-change-info",children:"You can change your vote by clicking a different star rating."})]}),!i&&p.jsx("div",{className:"vote-prompt",children:p.jsx("p",{children:"Click on a star to submit your rating"})})]})},p2=({showNotification:i})=>{const{workflowPhase:e,resultsViewIndex:n,navigateResults:r,getSortedItemsForResults:o,columns:c,getTotalVotes:d}=$t();if(e!==ae.RESULTS)return null;const h=o(),g=h[n],m=h.length;if(m===0)return p.jsxs("div",{className:"results-view",children:[p.jsx("div",{className:"results-header",children:p.jsx("h2",{children:"Results"})}),p.jsx("div",{className:"results-content",children:p.jsx("div",{className:"no-results",children:p.jsx("p",{children:"No cards or groups to display in results."})})})]});if(!g)return p.jsxs("div",{className:"results-view",children:[p.jsx("div",{className:"results-header",children:p.jsx("h2",{children:"Results"})}),p.jsx("div",{className:"results-content",children:p.jsx("div",{className:"no-results",children:p.jsx("p",{children:"Invalid result index."})})})]});const _=c[g.columnId];return p.jsxs("div",{className:"results-view",children:[p.jsx("div",{className:"results-header",children:p.jsx("h2",{children:"Results"})}),p.jsxs("div",{className:"results-navigation",children:[p.jsxs("button",{className:"btn navigation-btn",onClick:()=>r("prev"),disabled:n===0,title:"Previous result",children:[p.jsx(op,{size:20}),"Previous"]}),p.jsxs("div",{className:"results-counter",children:[p.jsx("span",{className:"current-position",children:n+1}),p.jsx("span",{className:"divider",children:" / "}),p.jsx("span",{className:"total-count",children:m})]}),p.jsxs("button",{className:"btn navigation-btn",onClick:()=>r("next"),disabled:n===m-1,title:"Next result",children:["Next",p.jsx(zc,{size:20})]})]}),p.jsx("div",{className:"results-content",children:p.jsxs("div",{className:"result-item",children:[p.jsxs("div",{className:"result-meta",children:[p.jsx("div",{className:"result-type",children:g.type==="group"?"Group":"Card"}),p.jsxs("div",{className:"result-votes",children:[g.votes," out of ",d()," total vote",d()!==1?"s":""]}),p.jsxs("div",{className:"result-column",children:["from ",(_==null?void 0:_.title)||"Unknown Column"]})]}),p.jsx("div",{className:"result-display",children:g.type==="group"?p.jsx(CS,{groupId:g.id,groupData:g.data,columnId:g.columnId,columnData:_,sortByVotes:!0,showNotification:i},g.id):p.jsx(pg,{cardId:g.id,cardData:g.data,columnId:g.columnId,showNotification:i},g.id)})]})})]})},g2={1:"#ef4444",2:"#f97316",3:"#eab308",4:"#84cc16",5:"#22c55e"},ic=i=>i>=4.5?"#22c55e":i>=3.5?"#84cc16":i>=2.5?"#eab308":i>=1.5?"#f97316":"#ef4444",m2=i=>i>=4.5?"Great":i>=3.5?"Good":i>=2.5?"Okay":i>=1.5?"Poor":"Terrible",v2=()=>{const{getHealthCheckStats:i}=$t(),e=i(),n=e.filter(c=>c.totalVotes>0),r=n.length>0?Math.max(...n.map(c=>c.totalVotes)):0,o=n.length>0?n.reduce((c,d)=>c+d.average,0)/n.length:0;return p.jsxs("div",{className:"health-check-results",children:[p.jsxs("div",{className:"results-header",children:[p.jsx("h3",{children:"Team Health Check Results"}),p.jsxs("div",{className:"participation-stats",children:[p.jsx($s,{size:16}),p.jsxs("span",{children:[r," participant",r!==1?"s":""]})]})]}),n.length>0?p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"overall-score",children:[p.jsx("div",{className:"score-display",children:p.jsxs("div",{className:"average-rating",children:[p.jsx("span",{className:"score-number",style:{color:ic(o)},children:o.toFixed(1)}),p.jsx("span",{className:"score-separator",children:"/"}),p.jsx("span",{className:"score-max",children:"5.0"})]})}),p.jsxs("div",{className:"effectiveness-label",style:{color:ic(o)},children:["Overall: ",m2(o)]})]}),p.jsxs("div",{className:"health-check-chart",children:[p.jsx("h4",{children:"Results by Area"}),p.jsx("div",{className:"health-check-bars",children:e.map(c=>p.jsxs("div",{className:"health-bar-row","data-testid":`health-result-${c.id}`,children:[p.jsxs("div",{className:"health-bar-label",children:[p.jsx("span",{className:"health-bar-name",children:c.label}),p.jsx("span",{className:"health-bar-desc",children:c.description})]}),p.jsx("div",{className:"health-bar-container",children:p.jsx("div",{className:"health-bar-fill",style:{width:c.totalVotes>0?`${c.average/5*100}%`:"0%",backgroundColor:ic(c.average)}})}),p.jsx("div",{className:"health-bar-score",children:c.totalVotes>0?p.jsx("span",{style:{color:ic(c.average)},children:c.average.toFixed(1)}):p.jsx("span",{className:"no-data",children:""})})]},c.id))})]}),p.jsxs("div",{className:"health-check-distribution",children:[p.jsx("h4",{children:"Vote Distribution"}),e.filter(c=>c.totalVotes>0).map(c=>p.jsxs("div",{className:"distribution-row",children:[p.jsx("h5",{children:c.label}),p.jsx("div",{className:"distribution-bars",children:c.distribution.map((d,h)=>{const g=h+1,m=c.totalVotes>0?(d/c.totalVotes*100).toFixed(0):0;return p.jsxs("div",{className:"dist-bar-group",children:[p.jsx("div",{className:"dist-bar-wrapper",children:p.jsx("div",{className:"dist-bar",style:{height:`${m}%`,backgroundColor:g2[g]}})}),p.jsx("span",{className:"dist-label",children:g}),p.jsx("span",{className:"dist-count",children:d})]},g)})})]},c.id))]})]}):p.jsxs("div",{className:"no-votes",children:[p.jsx("p",{children:"No votes have been submitted yet."}),p.jsx("p",{children:"Participants need to complete the health check first."})]})]})},y2={1:"Terrible",2:"Poor",3:"Okay",4:"Good",5:"Great"},_2={1:"#ef4444",2:"#f97316",3:"#eab308",4:"#84cc16",5:"#22c55e"},b2=()=>{const{userHealthCheckVotes:i,submitHealthCheckVote:e,HEALTH_CHECK_QUESTIONS:n,activeUsers:r,healthCheckVotes:o}=$t(),[c,d]=A.useState({}),[h,g]=A.useState(!1),m=(z,X)=>{e(z,X)},_=(z,X)=>{d(Z=>({...Z,[z]:X}))},b=z=>{d(X=>({...X,[z]:0}))},E=z=>c[z]||i[z]||0,T=(()=>{const z=new Set;return Object.values(o).forEach(X=>{Object.keys(X).forEach(Z=>z.add(Z))}),z.size})(),P=Object.keys(i).length,N=n.length,H=r>0?Math.round(T/r*100):0;return h?p.jsxs("div",{children:[p.jsx(v2,{}),p.jsx("div",{className:"health-check-results-nav",children:p.jsxs("button",{className:"btn secondary-btn btn-with-icon",onClick:()=>g(!1),children:[p.jsx(fi,{size:16}),"Back to Voting"]})})]}):p.jsxs("div",{className:"health-check-voting",children:[p.jsxs("div",{className:"health-check-header",children:[p.jsx("h3",{children:"Team Health Check"}),p.jsx("p",{children:"Rate each area from 1 (terrible) to 5 (great). Your votes are private until results are revealed."})]}),p.jsxs("div",{className:"voting-progress",children:[p.jsxs("div",{className:"progress-header",children:[p.jsxs("div",{className:"progress-title",children:[p.jsx($s,{size:16}),p.jsx("span",{children:"Participation"})]}),p.jsxs("div",{className:"progress-stats",children:[T," of ",r," participants have started (",H,"%)"]})]}),p.jsx("div",{className:"progress-bar",children:p.jsx("div",{className:"progress-fill",style:{width:`${H}%`}})})]}),p.jsx("div",{className:"health-check-questions",children:n.map(z=>{const X=E(z.id);return i[z.id],p.jsxs("div",{className:"health-check-question","data-testid":`health-check-question-${z.id}`,children:[p.jsxs("div",{className:"question-info",children:[p.jsx("h4",{children:z.label}),p.jsx("p",{children:z.description})]}),p.jsx("div",{className:"question-rating",children:p.jsx("div",{className:"rating-buttons",children:[1,2,3,4,5].map(Z=>p.jsx("button",{className:`rating-button ${X>=Z?"active":""}`,onClick:()=>m(z.id,Z),onMouseEnter:()=>_(z.id,Z),onMouseLeave:()=>b(z.id),style:{backgroundColor:X>=Z?_2[Z]:void 0},"data-tooltip":y2[Z],children:Z},Z))})})]},z.id)})}),p.jsxs("div",{className:"health-check-status",children:[P===N?p.jsxs("p",{className:"all-answered",children:[" You have rated all ",N," areas."]}):p.jsxs("p",{className:"remaining",children:[P," of ",N," areas rated"]}),p.jsxs("button",{className:"btn primary-btn btn-with-icon health-check-view-results-btn",onClick:()=>g(!0),children:[p.jsx(go,{size:16}),"View Results"]})]})]})},TS=()=>{const{votingEnabled:i,retrospectiveMode:e,workflowPhase:n,user:r,activeUsers:o}=$t(),c=i&&e&&mi(n,e);return{isUserVoteCounterVisible:c&&!!r,isTotalVoteCounterVisible:c&&!!o,isBaseVisible:c,votingEnabled:i,retrospectiveMode:e,workflowPhase:n,user:r,activeUsers:o}},wS=({className:i,label:e,value:n,total:r,isDepleted:o=!1,testId:c})=>{const d=r!==void 0?`${n}/${r}`:n,h=o?`${i}-depleted`:"";return p.jsx("div",{className:i,"data-testid":c,children:p.jsxs("div",{className:`${i}-content`,children:[p.jsx("span",{className:`${i}-label`,children:e}),p.jsx("span",{className:`${i}-value ${h}`,children:d})]})})},E2=()=>{const{isTotalVoteCounterVisible:i}=TS(),{votesPerUser:e,getTotalVotesRemaining:n,activeUsers:r}=$t();if(!i)return null;const o=n(),c=r*e;return p.jsx(wS,{className:"total-vote-counter",label:"Total votes remaining:",value:o,total:c,isDepleted:o===0})};function S2(){const{activeUsers:i,boardId:e}=$t();return e?p.jsxs("div",{className:"user-counter",title:`${i} ${i===1?"user":"users"} viewing this board`,children:[p.jsx($s,{size:16}),p.jsx("span",{className:"user-count",children:i})]}):null}const C2=()=>{const{isUserVoteCounterVisible:i}=TS(),{user:e,votesPerUser:n,getUserVoteCount:r}=$t();if(!i)return null;const o=r(e.uid),c=Math.max(0,n-o);return p.jsx(wS,{className:"vote-counter",label:"Your votes remaining:",value:c,total:n,isDepleted:c===0})},T2=({isOpen:i,onClose:e,onConfirm:n,currentLimit:r=3})=>{const[o,c]=A.useState(r);if(!i)return null;const d=()=>{n(o),e()},h=g=>{const m=parseInt(g.target.value);!isNaN(m)&&m>=1&&m<=20&&c(m)};return p.jsx("div",{className:"modal-overlay",onClick:e,children:p.jsxs("div",{className:"modal-container",onClick:g=>g.stopPropagation(),children:[p.jsxs("div",{className:"modal-header",children:[p.jsx("h2",{children:"Set Vote Limit"}),p.jsx("button",{className:"close-button",onClick:e,children:""})]}),p.jsx("div",{className:"modal-body",children:p.jsxs("div",{className:"vote-limit-content",children:[p.jsx("p",{className:"vote-limit-description",children:"How many votes should each user be allowed to cast during the voting phase?"}),p.jsxs("div",{className:"vote-limit-input-section",children:[p.jsx("label",{htmlFor:"votes-per-user",children:"Votes per user:"}),p.jsxs("div",{className:"vote-limit-input-container",children:[p.jsx("input",{id:"votes-per-user",type:"number",min:"1",max:"20",value:o,onChange:h,className:"vote-limit-input"}),p.jsx("span",{className:"vote-limit-input-suffix",children:"votes"})]})]}),p.jsxs("div",{className:"vote-limit-examples",children:[p.jsx("p",{className:"vote-limit-examples-title",children:"Common settings:"}),p.jsx("div",{className:"vote-limit-preset-buttons",children:[1,3,5,10].map(g=>p.jsx("button",{className:`vote-limit-preset ${o===g?"active":""}`,onClick:()=>c(g),children:g},g))})]}),p.jsx("div",{className:"vote-limit-info",children:p.jsx("p",{children:"This setting controls the maximum number of votes each participant can cast across all cards and groups. Users will see their remaining vote count as they vote."})})]})}),p.jsxs("div",{className:"modal-footer",children:[p.jsx("button",{className:"primary-button",onClick:d,children:"Start Voting Phase"}),p.jsx("button",{className:"secondary-button",onClick:e,children:"Cancel"})]})]})})},w2=({showNotification:i})=>{const[e,n]=A.useState(!1),{workflowPhase:r,votesPerUser:o,updateVotesPerUser:c,retrospectiveMode:d,startGroupingPhase:h,startInteractionsPhase:g,startInteractionRevealPhase:m,startResultsPhase:_,startPollPhase:b,startPollResultsPhase:E,goToPreviousPhase:w,updateBoardSettings:T}=$t(),P=()=>{T({workflowPhase:ae.CREATION}),i("Card creation phase started")},N=()=>{h(),i("Grouping phase started - cards revealed, grouping enabled")},H=()=>{n(!0)},z=ue=>{c(ue),g(),i(`Voting phase started - each user can cast ${ue} votes`)},X=()=>{m(),i("Votes revealed! Voting is now frozen.")},Z=()=>{_(),i("Results phase started - view top items by votes")},W=()=>{b(),i("Poll phase started - rate the effectiveness of this retrospective")},re=()=>{E(),i("Poll results revealed - view effectiveness ratings")},ce=()=>{const ue={[ae.CREATION]:"Returned to health check",[ae.GROUPING]:"Returned to creation phase",[ae.INTERACTIONS]:"Returned to grouping phase",[ae.INTERACTION_REVEAL]:"Returned to voting phase",[ae.RESULTS]:"Returned to voting results phase",[ae.POLL]:"Returned to results phase",[ae.POLL_RESULTS]:"Returned to poll phase"};w();const xe=ue[r]||"Moved to previous phase";i(xe)},se=()=>{switch(r){case ae.HEALTH_CHECK:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Health Check Phase"}),p.jsx("p",{children:"Rate how the team is feeling about key areas. View results individually when ready."})]}),p.jsx("div",{className:"phase-controls",children:p.jsxs("button",{className:"btn primary-btn",onClick:P,children:[p.jsx(ao,{size:16}),"Continue to Board"]})})]});case ae.CREATION:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Card Creation Phase"}),p.jsx("p",{children:"Add cards to the board. When ready, reveal cards and start grouping."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:N,children:[p.jsx(ao,{size:16}),"Reveal Cards & Start Grouping"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(Hc,{size:16}),"Back to Health Check"]})]})]});case ae.GROUPING:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Grouping Phase"}),p.jsx("p",{children:"Cards are revealed. Group related cards together by dragging them onto each other."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:H,children:[p.jsx(pp,{size:16}),"Start Voting"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})]})]});case ae.INTERACTIONS:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Voting Phase"}),p.jsx("p",{children:"Add comments, votes, and reactions to cards and groups. Activity is hidden from other users."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:X,children:[p.jsx(ao,{size:16}),"Reveal Votes"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})]})]});case ae.INTERACTION_REVEAL:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Voting Results Phase"}),p.jsx("p",{children:"All votes are now visible. Review the feedback and votes."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:Z,children:[p.jsx(ap,{size:16}),"View Results"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})]})]});case ae.RESULTS:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Results Phase"}),p.jsx("p",{children:"Viewing the top-voted cards and groups. Use navigation to browse all results."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:W,children:[p.jsx(go,{size:16}),"Start Effectiveness Poll"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})]})]});case ae.POLL:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Effectiveness Poll"}),p.jsx("p",{children:"Rate the effectiveness of this retrospective on a scale of 1-5. Your vote is private."})]}),p.jsxs("div",{className:"phase-controls",children:[p.jsxs("button",{className:"btn primary-btn",onClick:re,children:[p.jsx(go,{size:16}),"View Poll Results"]}),p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})]})]});case ae.POLL_RESULTS:return p.jsxs("div",{className:"workflow-phase",children:[p.jsxs("div",{className:"phase-info",children:[p.jsx("h3",{children:"Poll Results"}),p.jsx("p",{children:"View the distribution of effectiveness ratings and overall retrospective score."})]}),p.jsx("div",{className:"phase-controls",children:p.jsxs("button",{className:"btn secondary-btn",onClick:ce,children:[p.jsx(fi,{size:16}),"Go to Previous Phase"]})})]});default:return null}};return p.jsxs("div",{className:"workflow-controls",children:[se(),p.jsx(T2,{isOpen:e,onClose:()=>n(!1),onConfirm:z,currentLimit:o})]})},O2=({boardTitle:i,handleBoardTitleChange:e,handleBoardTitleBlur:n,copyShareUrl:r,handleExportBoard:o})=>p.jsxs("div",{className:"board-title-container",children:[p.jsx("input",{type:"text",id:"board-title",placeholder:Ms,value:i,onChange:e,onBlur:n,className:"header-input"}),p.jsxs("div",{className:"action-buttons",children:[p.jsx(S2,{}),p.jsx(C2,{}),p.jsx(E2,{}),p.jsxs("button",{id:"copy-share-url",className:"btn secondary-btn btn-with-icon",title:"Copy Share URL",onClick:r,children:[p.jsx(hp,{size:16}),"Share"]}),p.jsxs("button",{id:"export-board",className:"btn secondary-btn btn-with-icon",onClick:o,children:[p.jsx(dp,{size:16}),"Export"]})]})]}),x2=({handleCreateNewBoard:i,handleStartHealthCheck:e,sortByVotes:n,setSortByVotes:r,votingEnabled:o,updateVotingEnabled:c,downvotingEnabled:d,updateDownvotingEnabled:h,multipleVotesAllowed:g,updateMultipleVotesAllowed:m,retrospectiveMode:_,updateRetrospectiveMode:b,sortDropdownOpen:E,setSortDropdownOpen:w,resetAllVotes:T,showNotification:P,darkMode:N,updateDarkMode:H})=>{const z=Q.useRef(null);return Q.useEffect(()=>{const X=Z=>{z.current&&!z.current.contains(Z.target)&&w(!1)};return document.addEventListener("mousedown",X),()=>{document.removeEventListener("mousedown",X)}},[w]),p.jsxs("div",{className:"action-buttons",children:[p.jsxs("button",{id:"create-board",className:"btn btn-with-icon",onClick:i,children:[p.jsx(mp,{size:16}),"New Board"]}),p.jsxs("button",{id:"start-health-check",className:"btn btn-with-icon",onClick:e,children:[p.jsx(Hc,{size:16}),"Health Check"]}),p.jsxs("div",{className:"sort-dropdown-container",ref:z,children:[p.jsxs("button",{id:"settings-dropdown-button",className:"btn sort-dropdown-button",onClick:()=>w(!E),"aria-expanded":E,"aria-haspopup":"true",title:"Board settings and preferences",children:[p.jsx(vp,{size:16}),"Settings",p.jsx(xo,{size:12,className:E?"dropdown-arrow rotated":"dropdown-arrow"})]}),E&&p.jsxs("div",{className:"sort-dropdown-menu",children:[p.jsxs("div",{className:"settings-section",children:[p.jsx("h4",{className:"settings-section-title",children:"Sort Cards"}),p.jsxs("button",{className:`sort-option ${n?"":"selected"}`,onClick:()=>{r(!1)},children:[p.jsx(rp,{size:14}),"Chronological",!n&&p.jsx("span",{className:"checkmark",children:""})]}),p.jsxs("button",{className:`sort-option ${n?"selected":""}`,onClick:()=>{r(!0)},children:[p.jsx(bp,{size:14}),"By Votes",n&&p.jsx("span",{className:"checkmark",children:""})]})]}),p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h4",{className:"settings-section-title",children:"Allow voting?"}),p.jsxs("div",{className:"settings-boolean-option",children:[p.jsx("button",{className:`boolean-option ${o?"selected":""}`,onClick:()=>{c(!0)},children:"Yes"}),p.jsx("button",{className:`boolean-option ${o?"":"selected"}`,onClick:()=>{c(!1)},children:"No"})]})]}),o&&p.jsxs(p.Fragment,{children:[p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h4",{className:"settings-section-title",children:"Allow downvoting?"}),p.jsxs("div",{className:"settings-boolean-option",children:[p.jsx("button",{className:`boolean-option ${d?"selected":""}`,onClick:()=>{h(!0)},children:"Yes"}),p.jsx("button",{className:`boolean-option ${d?"":"selected"}`,onClick:()=>{h(!1)},children:"No"})]})]}),p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h4",{className:"settings-section-title",children:"Allow users to vote multiple times on the same card?"}),p.jsxs("div",{className:"settings-boolean-option",children:[p.jsx("button",{className:`boolean-option ${g?"selected":""}`,onClick:()=>{m(!0)},children:"Yes"}),p.jsx("button",{className:`boolean-option ${g?"":"selected"}`,onClick:()=>{m(!1)},children:"No"})]})]}),p.jsx("div",{className:"settings-divider"}),p.jsxs("div",{className:"settings-section",children:[p.jsx("h4",{className:"settings-section-title",children:"Retrospective Mode"}),p.jsxs("div",{className:"settings-boolean-option",children:[p.jsx("button",{className:`boolean-option ${_?"selected":""}`,onClick:()=>{b(!0)},children:"On"}),p.jsx("button",{className:`boolean-option ${_?"":"selected"}`,onClick:()=>{b(!1)},children:"Off"})]}),p.jsx("p",{className:"settings-hint",children:"When enabled, new cards appear with hidden text until revealed"})]}),p.jsx("div",{className:"settings-divider"}),p.jsx("div",{className:"settings-section settings-section-padded",children:p.jsx("button",{className:"btn danger-btn settings-full-width-btn",onClick:()=>{T()&&P("All votes reset to zero")},children:"Reset all votes"})})]})]})]}),p.jsx("button",{id:"theme-toggle",className:"btn icon-btn",onClick:()=>{H(!N)},title:N?"Switch to light mode":"Switch to dark mode",children:N?p.jsx(_p,{size:16}):p.jsx(gp,{size:16})})]})},N2=({columns:i,sortByVotes:e,showNotification:n,addNewColumn:r})=>{const{retrospectiveMode:o,workflowPhase:c}=$t(),d=()=>Object.entries(i||{}).sort((g,m)=>g[0].localeCompare(m[0])),h=!o||c===ae.CREATION;return p.jsx("div",{className:"board-container",children:p.jsxs("div",{id:"board",className:"board",children:[d().map(([g,m])=>p.jsx(c2,{columnId:g,columnData:m,sortByVotes:e,showNotification:n},g)),h&&p.jsx("div",{className:"add-column-container",children:p.jsxs("button",{id:"add-column",className:"add-column",onClick:r,children:[p.jsx(Bc,{size:16}),"Add Column"]})})]})})};function R2({showNotification:i}){const[e,n]=A.useState(!1),[r,o]=A.useState(!1),{boardId:c,boardRef:d,boardTitle:h,setBoardTitle:g,columns:m,sortByVotes:_,setSortByVotes:b,votingEnabled:E,updateVotingEnabled:w,downvotingEnabled:T,updateDownvotingEnabled:P,multipleVotesAllowed:N,updateMultipleVotesAllowed:H,retrospectiveMode:z,updateRetrospectiveMode:X,createNewBoard:Z,openExistingBoard:W,resetAllVotes:re,updateBoardTitle:ce,user:se,darkMode:ue,updateDarkMode:xe,workflowPhase:Ee,getAllUsersAddingCards:pe,startHealthCheckPhase:Ne}=$t(),[Ke,Be]=A.useState(!1);A.useEffect(()=>{const ee=new URLSearchParams(window.location.search),ve=ee.get("board"),le=Ib(window.location.search);if(le.uiPrefs&&le.uiPrefs.darkMode!==void 0&&xe(le.uiPrefs.darkMode),ve)W(ve);else if(se){const J=ee.get("template");if(J){const k=so.find(oe=>oe.id===J);if(k){const oe=Z(k.columns,`${k.name} Board`,le.boardSettings);oe?G(oe):o(!0)}else o(!0)}else o(!0)}},[se]),A.useEffect(()=>{document.title=h&&h!==Ms?`${h} - Kanbanish`:"Kanbanish | Real-time anonymous kanban board"},[h]);const L=ee=>{const ve=ee.target.value;g(ve)},ie=()=>{ce(h)},fe=()=>{o(!0)},Ce=(ee,ve=null)=>{const le=ve?`${ve} Board`:Ms,J=Ib(window.location.search),k=Z(ee,le,J.boardSettings);k&&(G(k),i("New board created"),o(!1))},C=()=>{!d||!c||Kk(c).then(()=>{i("Column added")}).catch(()=>{})},G=ee=>{try{const ve=["voting","downvotes","multivote","votes","retro","sort","theme","template"],le=new URL(window.location.href),J=le.searchParams;ve.forEach(k=>J.delete(k)),ee&&J.set("board",ee),le.search=J.toString(),window.history.pushState({},"",le.toString())}catch{}},B=()=>{if(c){const ee=`${window.location.origin}${window.location.pathname}?board=${c}`;navigator.clipboard.writeText(ee).then(()=>{i("Share URL copied to clipboard")}).catch(()=>{})}},F=()=>{n(!0),i("Preparing board export...")};return p.jsxs(p.Fragment,{children:[p.jsx("header",{children:p.jsxs("div",{className:"header-content",children:[p.jsx(O2,{boardTitle:h,handleBoardTitleChange:L,handleBoardTitleBlur:ie,copyShareUrl:B,handleExportBoard:F}),p.jsx(x2,{handleCreateNewBoard:fe,handleStartHealthCheck:()=>{Ne(),i("Health check started")},sortByVotes:_,setSortByVotes:b,votingEnabled:E,updateVotingEnabled:w,downvotingEnabled:T,updateDownvotingEnabled:P,multipleVotesAllowed:N,updateMultipleVotesAllowed:H,retrospectiveMode:z,updateRetrospectiveMode:X,sortDropdownOpen:Ke,setSortDropdownOpen:Be,resetAllVotes:re,showNotification:i,darkMode:ue,updateDarkMode:xe})]})}),p.jsx(Xk,{usersAddingCards:pe(),currentUserId:se==null?void 0:se.uid}),(z||Ee===ae.HEALTH_CHECK)&&p.jsx(w2,{showNotification:i}),p.jsx("main",{children:Ee===ae.HEALTH_CHECK?p.jsx(b2,{}):z&&Ee===ae.RESULTS?p.jsx(p2,{showNotification:i}):z&&Ee===ae.POLL?p.jsx(h2,{}):z&&Ee===ae.POLL_RESULTS?p.jsx(f2,{}):p.jsx(N2,{columns:m,sortByVotes:_,showNotification:i,addNewColumn:C})}),p.jsx(u2,{isOpen:e,onClose:()=>{n(!1)},showNotification:i}),p.jsx(d2,{isOpen:r,onClose:()=>{c?o(!1):se&&Ce(["To Do","In Progress","Done"],"Default")},onSelectTemplate:Ce})]})}function A2(){const[i,e]=A.useState({message:"",show:!1}),n=A.useRef(null);Q.useEffect(()=>()=>{n.current&&clearTimeout(n.current)},[]);const r=o=>{n.current&&clearTimeout(n.current),e({message:o,show:!0}),n.current=setTimeout(()=>{e({message:"",show:!1}),n.current=null},3e3)};return p.jsx(sO,{backend:QO,children:p.jsx(Wk,{children:p.jsxs("div",{className:"App","data-testid":"app-container",children:[p.jsx(R2,{showNotification:r}),p.jsx("div",{id:"notification",className:`notification ${i.show?"show":""}`,children:p.jsx("span",{id:"notification-message",children:i.message})})]})})})}const D2=BT.createRoot(document.getElementById("root"));D2.render(p.jsx(Q.StrictMode,{children:p.jsx(A2,{})}));
